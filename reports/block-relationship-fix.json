{
  "files": {
    "tests/coverage/block_relationship_fix_test.lua": {
      "execution_coverage_percent": 77,
      "functions": {
        "fn:71-145": {
          "covered": true,
          "executed": true,
          "start_line": 71,
          "execution_count": 1,
          "name": "fn",
          "type": "closure",
          "end_line": 145
        },
        "hook:34-69": {
          "covered": true,
          "executed": true,
          "start_line": 34,
          "execution_count": 1,
          "name": "hook",
          "type": "local",
          "end_line": 69
        }
      },
      "total_lines": 145,
      "executable_lines": 86,
      "total_functions": 2,
      "lines": {
        "51": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    expect(saved).to.be_truthy(\"HTML report should...",
          "executable": true
        },
        "41": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "31": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "21": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      include_framework_files = true, -- Include f...",
          "executable": true
        },
        "39": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Verify calculator file is in report",
          "executable": false
        },
        "29": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- debug_hook.activate_file is no longer neede...",
          "executable": false
        },
        "19": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    coverage.start({",
          "executable": true
        },
        "61": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    expect(saved_lcov).to.be_truthy(\"LCOV report s...",
          "executable": true
        },
        "79": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "69": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  it(\"should track block relationships for calcula...",
          "executable": true
        },
        "59": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local lcov_report_path = report_dir .. \"/block...",
          "executable": true
        },
        "49": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local html_report_path = report_dir .. \"/block...",
          "executable": true
        },
        "11": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "99": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "89": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "135": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "        break",
          "executable": true
        },
        "131": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local add_function_found = false",
          "executable": true
        },
        "50": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local saved, err = reporting.save_coverage_rep...",
          "executable": true
        },
        "60": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local saved_lcov, err_lcov = reporting.save_co...",
          "executable": true
        },
        "18": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Start coverage tracking with block tracking...",
          "executable": false
        },
        "28": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    coverage.track_file(calculator_path)",
          "executable": true
        },
        "10": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local reporting = require(\"lib.reporting\")",
          "executable": true
        },
        "20": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      include_patterns = {calculator_path},",
          "executable": true
        },
        "30": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end)",
          "executable": true
        },
        "40": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    expect(report_data.files[calculator_path]).to....",
          "executable": true
        },
        "78": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    expect(multiply_result).to.equal(20)",
          "executable": true
        },
        "88": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    expect(stats.files_processed).to.be_greater_th...",
          "executable": true
        },
        "98": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local coverage_data = debug_hook.get_coverage_...",
          "executable": true
        },
        "38": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "48": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Save HTML report",
          "executable": false
        },
        "58": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Save LCOV report",
          "executable": false
        },
        "68": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "144": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "end)",
          "executable": true
        },
        "145": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 145",
          "executable": false
        },
        "27": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Ensure file is tracked",
          "executable": false
        },
        "111": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "114": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local functions = coverage_data.files[calculat...",
          "executable": true
        },
        "77": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local multiply_result = calculator.multiply(4,...",
          "executable": true
        },
        "97": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Get the coverage data to check block relati...",
          "executable": false
        },
        "47": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "37": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local report_data = coverage.get_report_data()",
          "executable": true
        },
        "67": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end)",
          "executable": true
        },
        "115": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "90": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Process functions from our new module",
          "executable": false
        },
        "16": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "26": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "129": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "108": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    for block_id, block_data in pairs(logical_chun...",
          "executable": true
        },
        "96": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "76": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "86": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Verify that the function returned statistic...",
          "executable": false
        },
        "56": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    expect(saved_json).to.be_truthy(\"JSON report s...",
          "executable": true
        },
        "66": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    expect(saved_cobertura).to.be_truthy(\"Cobertur...",
          "executable": true
        },
        "125": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    print(\"Function coverage stats:\")",
          "executable": true
        },
        "100": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Verify file is tracked",
          "executable": false
        },
        "106": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "    -- Print debug info about logical chunks",
          "executable": false
        },
        "25": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "15": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  calculator_path = fs.normalize_path(calculator_p...",
          "executable": true
        },
        "118": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    for func_id, func_data in pairs(functions) do",
          "executable": true
        },
        "139": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "    expect(add_function_found).to.be_truthy(\"Add f...",
          "executable": true
        },
        "95": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    expect(func_stats.functions_identified).to.be_...",
          "executable": true
        },
        "85": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "123": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "    -- Get function statistics",
          "executable": false
        },
        "65": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local saved_cobertura, err_cobertura = reporti...",
          "executable": true
        },
        "55": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local saved_json, err_json = reporting.save_co...",
          "executable": true
        },
        "45": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      fs.create_directory(report_dir)",
          "executable": true
        },
        "35": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "110": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "            \" (line \" .. (block_data.start_line or...",
          "executable": true
        },
        "134": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "        add_function_found = true",
          "executable": true
        },
        "116": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "    -- Print debug info about functions",
          "executable": false
        },
        "127": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "    print(\"  - Executed functions:\", function_stat...",
          "executable": true
        },
        "24": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      debug = true -- Enable debug output",
          "executable": true
        },
        "34": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    coverage.stop()",
          "executable": true
        },
        "44": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if not fs.directory_exists(report_dir) then",
          "executable": true
        },
        "54": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local json_report_path = report_dir .. \"/block...",
          "executable": true
        },
        "64": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local cobertura_report_path = report_dir .. \"/...",
          "executable": true
        },
        "128": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "    print(\"  - Function coverage:\", function_stats...",
          "executable": true
        },
        "109": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "      print(\"  - \" .. block_id .. \": \" .. (block_d...",
          "executable": true
        },
        "94": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Verify functions were identified",
          "executable": false
        },
        "104": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local logical_chunks = coverage_data.files[cal...",
          "executable": true
        },
        "133": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "      if func_data.line == 7 or (func_data.name an...",
          "executable": true
        },
        "105": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "14": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Normalize the path to match what coverage mod...",
          "executable": false
        },
        "120": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "            \" (line \" .. (func_data.line or \"unkno...",
          "executable": true
        },
        "5": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "describe(\"Block Relationship Fix Test\", function()",
          "executable": true
        },
        "6": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local calculator = require(\"lib.samples.calculat...",
          "executable": true
        },
        "7": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local coverage = require(\"lib.coverage\")",
          "executable": true
        },
        "126": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "    print(\"  - Total functions:\", function_stats.t...",
          "executable": true
        },
        "1": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Block Relationship Fix Test",
          "executable": false
        },
        "2": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Tests the block_relationship_fixing functionali...",
          "executable": false
        },
        "3": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local firmo = require(\"firmo\")",
          "executable": true
        },
        "4": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local describe, it, expect, before, after = firmo....",
          "executable": true
        },
        "33": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Stop coverage tracking, triggering block re...",
          "executable": false
        },
        "23": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      user_code_only = false, -- Don't limit to us...",
          "executable": true
        },
        "53": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Save JSON report",
          "executable": false
        },
        "43": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local report_dir = \"reports\"",
          "executable": true
        },
        "73": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "63": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Save Cobertura report",
          "executable": false
        },
        "93": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "119": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "      print(\"  - \" .. func_id .. \": \" .. (func_dat...",
          "executable": true
        },
        "136": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "13": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local calculator_path = debug.getinfo(calculator...",
          "executable": true
        },
        "103": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "    -- Verify function blocks are in the logical c...",
          "executable": false
        },
        "130": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "    -- Verify the add function is tracked",
          "executable": false
        },
        "143": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end)",
          "executable": true
        },
        "142": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    expect(func_stats.functions_identified >= 4).t...",
          "executable": true
        },
        "141": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "    -- Verify that we have at least 4 functions tr...",
          "executable": false
        },
        "112": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "140": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "132": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    for _, func_data in pairs(func_stats.functions...",
          "executable": true
        },
        "137": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "107": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    print(\"Logical chunks:\")",
          "executable": true
        },
        "138": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "122": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "52": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "22": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      track_blocks = true, -- Enable block trackin...",
          "executable": true
        },
        "32": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  after(function()",
          "executable": true
        },
        "82": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "92": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local func_stats = process_functions.process_f...",
          "executable": true
        },
        "62": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "72": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    expect(add_result).to.equal(15)",
          "executable": true
        },
        "8": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local debug_hook = require(\"lib.coverage.debug_h...",
          "executable": true
        },
        "42": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Save reports in different formats",
          "executable": false
        },
        "87": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    expect(stats).to.exist(\"Block relationship fix...",
          "executable": true
        },
        "81": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    expect(divide_result).to.equal(5)",
          "executable": true
        },
        "75": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    expect(subtract_result).to.equal(8)",
          "executable": true
        },
        "12": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the file path for the calculator module",
          "executable": false
        },
        "70": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Execute all calculator functions to ensure ...",
          "executable": false
        },
        "46": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "36": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Get coverage data",
          "executable": false
        },
        "113": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "    -- Get the functions data",
          "executable": false
        },
        "124": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local function_stats = process_functions.get_f...",
          "executable": true
        },
        "91": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local process_functions = require(\"lib.coverag...",
          "executable": true
        },
        "80": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local divide_result = calculator.divide(20, 4)",
          "executable": true
        },
        "74": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local subtract_result = calculator.subtract(15...",
          "executable": true
        },
        "101": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    expect(coverage_data.files[calculator_path]).t...",
          "executable": true
        },
        "102": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "57": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "121": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "83": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Call the block relationship fixing function...",
          "executable": false
        },
        "17": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  before(function()",
          "executable": true
        },
        "84": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local stats = debug_hook.fix_block_relationshi...",
          "executable": true
        },
        "117": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    print(\"Functions tracked:\")",
          "executable": true
        },
        "71": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local add_result = calculator.add(5, 10)",
          "executable": true
        },
        "9": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local fs = require(\"lib.tools.filesystem\")",
          "executable": true
        }
      },
      "line_coverage_percent": 77,
      "covered_lines": 67,
      "executed_lines": 67,
      "executed_functions": 2,
      "covered_functions": 2,
      "name": "block_relationship_fix_test.lua",
      "function_coverage_percent": 100,
      "path": "tests/coverage/block_relationship_fix_test.lua"
    },
    "./lib/tools/filesystem.lua": {
      "execution_coverage_percent": 0,
      "functions": {
        "anonymous:221-228": {
          "covered": true,
          "executed": true,
          "start_line": 221,
          "execution_count": 2,
          "name": "anonymous",
          "type": "anonymous",
          "end_line": 228
        }
      },
      "total_lines": 2252,
      "executable_lines": 943,
      "total_functions": 1,
      "lines": {
        "132": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field find_files fun(dir_path: string, pattern...",
          "executable": false
        },
        "432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function creates a directory at the speci...",
          "executable": false
        },
        "532": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Error writing file: \" .. (err or \"unk...",
          "executable": false
        },
        "332": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1963": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1862": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function checks if the specified path exi...",
          "executable": false
        },
        "1261": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table|nil matches List of matching fil...",
          "executable": false
        },
        "1518": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- General pattern matching",
          "executable": false
        },
        "1221": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "2221": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Directory does not exist: \" ....",
          "executable": true
        },
        "832": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "932": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path then return nil end",
          "executable": true
        },
        "632": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not handle then",
          "executable": true
        },
        "732": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not contents then return end",
          "executable": true
        },
        "142": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "fs._VERSION = \"0.2.5\"",
          "executable": true
        },
        "342": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "242": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"Invalid file path: path c...",
          "executable": true
        },
        "542": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local success, err = fs.create_directory(\"/dat...",
          "executable": false
        },
        "1762": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local one_day = 24 * 60 * 60 -- Seconds in a d...",
          "executable": false
        },
        "1455": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.get_extension(path)",
          "executable": true
        },
        "1618": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Information Functions",
          "executable": false
        },
        "1663": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if fs.directory_exists(\"/var/app/data\") then",
          "executable": false
        },
        "1321": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "                        -- Simple extension patter...",
          "executable": false
        },
        "742": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It handles path separators intelligently, avoi...",
          "executable": false
        },
        "642": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"Error closing directory l...",
          "executable": true
        },
        "942": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local extension = filename:match(\"%.([^%.]...",
          "executable": true
        },
        "842": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If no slash found, return \".\" if path has s...",
          "executable": false
        },
        "1974": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        handle:close()",
          "executable": true
        },
        "152": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return package.config:sub(1,1) == '\\\\'",
          "executable": true
        },
        "252": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if dir and dir ~= \"\" then",
          "executable": true
        },
        "352": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if movi...",
          "executable": false
        },
        "452": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Validate path",
          "executable": false
        },
        "552": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.delete_directory(path, recursive)",
          "executable": true
        },
        "1662": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Check before saving files to a directory",
          "executable": false
        },
        "2061": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    table.insert(items, item)",
          "executable": true
        },
        "1061": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1021": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "2021": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- for _, file_path in ipairs(all_files) do",
          "executable": false
        },
        "1892": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function checks if the specified path exi...",
          "executable": false
        },
        "1718": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Determine if a file exceeds a size limit",
          "executable": false
        },
        "652": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It converts Windows backslashes to forward sla...",
          "executable": false
        },
        "752": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"/home/user/documents/report.pdf\"",
          "executable": false
        },
        "852": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "952": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Properly handle the result of error_handler...",
          "executable": false
        },
        "1606": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1874": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local full_path = fs.join_paths(\"/path/to/di...",
          "executable": false
        },
        "1562": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local entries = {}",
          "executable": true
        },
        "2121": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"pom.xml\",      -- Maven projects",
          "executable": true
        },
        "1121": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        elseif remainder == \"*.js\" then",
          "executable": true
        },
        "1818": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- print(\"File was created on: \" .. date_string)",
          "executable": false
        },
        "1792": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Try to convert result to number",
          "executable": false
        },
        "1306": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "                ",
          "executable": false
        },
        "1109": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return \"^.+%.txt$\"",
          "executable": true
        },
        "2109": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Default to current directory if not specifi...",
          "executable": false
        },
        "1462": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get just the filename from a path",
          "executable": false
        },
        "2252": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "return fs",
          "executable": true
        },
        "1252": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1064": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        table.insert(result, \"..\")",
          "executable": true
        },
        "2064": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "2155": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1155": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Ensure pattern matches the entire string",
          "executable": false
        },
        "1209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if debug_mode then print(\"PATTERN_DEBU...",
          "executable": true
        },
        "2209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param recursive boolean Whether to search rec...",
          "executable": false
        },
        "1017": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "2017": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1263": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "2164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return string|nil error Error message if opera...",
          "executable": false
        },
        "1164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1055": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            break",
          "executable": true
        },
        "1506": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1574": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not handle then",
          "executable": true
        },
        "103": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field write_file fun(file_path: string, conten...",
          "executable": false
        },
        "203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Error reading file: \" .. (err or \"unk...",
          "executable": false
        },
        "1755": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1034": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local abs_base = fs.get_absolute_path(norm_bas...",
          "executable": true
        },
        "2034": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local results = {}",
          "executable": true
        },
        "1052": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if path_segments[i] == base_segments[i] th...",
          "executable": true
        },
        "903": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Properly handle the result of error_handler...",
          "executable": false
        },
        "703": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    result = table.concat(parts, \"/\")",
          "executable": true
        },
        "803": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get directory from a file path",
          "executable": false
        },
        "503": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- it if it doesn't. It's useful for ensuring tha...",
          "executable": false
        },
        "603": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get all items in a directory",
          "executable": false
        },
        "303": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- necessary parent directories for the destinati...",
          "executable": false
        },
        "403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if dele...",
          "executable": false
        },
        "1474": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Helper function used by find_matches and other...",
          "executable": false
        },
        "1133": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return \"^.*/\" .. remainder .. \"$\"",
          "executable": true
        },
        "2133": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    }",
          "executable": true
        },
        "1217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "113": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field list_directories fun(dir_path: string, i...",
          "executable": false
        },
        "1655": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- and Unix-like systems. The function properly h...",
          "executable": false
        },
        "1352": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "913": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- extension, an empty string is returned.",
          "executable": false
        },
        "813": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"/\"",
          "executable": false
        },
        "1961": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"Failed to execute dir com...",
          "executable": true
        },
        "613": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   if fs.is_file(full_path) then",
          "executable": false
        },
        "513": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not success then",
          "executable": false
        },
        "413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if process_complete then",
          "executable": false
        },
        "313": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Copy a configuration file to a backup locat...",
          "executable": false
        },
        "39": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - File metadata: size, timestamps, existence c...",
          "executable": false
        },
        "29": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @copyright 2023-2025",
          "executable": false
        },
        "19": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Complete independence: Minimal imports from ...",
          "executable": false
        },
        "79": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_absolute_path fun(path: string): st...",
          "executable": false
        },
        "69": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field copy_file fun(source_path: string, dest...",
          "executable": false
        },
        "59": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_directory_contents fun(dir_path: st...",
          "executable": false
        },
        "49": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field write_file fun(file_path: string, conte...",
          "executable": false
        },
        "1901": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get all items in a directory and process su...",
          "executable": false
        },
        "99": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @author Firmo Team",
          "executable": false
        },
        "89": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field find_files fun(dir_path: string, patter...",
          "executable": false
        },
        "18": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    Design principles:",
          "executable": false
        },
        "28": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @license MIT",
          "executable": false
        },
        "1770": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "78": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_extension fun(file_path: string): s...",
          "executable": false
        },
        "88": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field matches_pattern fun(path: string, patte...",
          "executable": false
        },
        "98": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @version 0.2.5",
          "executable": false
        },
        "38": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - File discovery: pattern matching, glob suppo...",
          "executable": false
        },
        "48": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field read_file fun(file_path: string): strin...",
          "executable": false
        },
        "58": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field delete_file fun(file_path: string): boo...",
          "executable": false
        },
        "68": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_creation_time fun(file_path: string...",
          "executable": false
        },
        "1830": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Path does not exist: \" .. pat...",
          "executable": true
        },
        "27": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @author Firmo Team",
          "executable": false
        },
        "17": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "1870": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "87": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field glob_to_pattern fun(glob: string): stri...",
          "executable": false
        },
        "77": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_filename fun(file_path: string): st...",
          "executable": false
        },
        "97": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "47": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field _VERSION string Module version",
          "executable": false
        },
        "37": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Path manipulation: joining, normalizing, ext...",
          "executable": false
        },
        "67": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_modified_time fun(file_path: string...",
          "executable": false
        },
        "1995": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return files",
          "executable": true
        },
        "16": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Platform independence: works on Windows, mac...",
          "executable": false
        },
        "2009": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1009": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to convert",
          "executable": false
        },
        "96": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field is_absolute_path fun(path: string): boo...",
          "executable": false
        },
        "76": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_file_name fun(file_path: string): s...",
          "executable": false
        },
        "86": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field glob fun(pattern: string, base_dir?: st...",
          "executable": false
        },
        "56": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field delete_directory fun(dir_path: string, ...",
          "executable": false
        },
        "66": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_file_modified_time fun(file_path: s...",
          "executable": false
        },
        "36": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Directory operations: creating, listing, sca...",
          "executable": false
        },
        "46": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @class filesystem",
          "executable": false
        },
        "25": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "15": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Error handling: consistent nil/error return ...",
          "executable": false
        },
        "1076": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1670": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not fs.directory_exists(log_dir) then",
          "executable": false
        },
        "1630": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if fs.file_exists(\"/etc/app/config.json\") then",
          "executable": false
        },
        "2048": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                table.insert(items, item)",
          "executable": true
        },
        "1048": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local common_length = 0",
          "executable": true
        },
        "196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil content File contents or ni...",
          "executable": false
        },
        "95": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field is_directory fun(path: string): boolean...",
          "executable": false
        },
        "85": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field create_temp_directory fun(prefix?: stri...",
          "executable": false
        },
        "1909": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "65": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_file_size fun(file_path: string): n...",
          "executable": false
        },
        "496": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "796": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- various special cases like root directories, t...",
          "executable": false
        },
        "2047": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            for item in handle:lines() do",
          "executable": true
        },
        "996": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "896": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not filename then",
          "executable": true
        },
        "327": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1955": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local files = {}",
          "executable": true
        },
        "927": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "827": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local normalized = fs.normalize_path(path)",
          "executable": true
        },
        "727": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return \"/\"",
          "executable": true
        },
        "627": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local command = is_windows() ",
          "executable": true
        },
        "127": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field set_current_directory fun(dir_path: stri...",
          "executable": false
        },
        "24": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Cross-version compatibility: Works with Lua ...",
          "executable": false
        },
        "34": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Provides a comprehensive set of file operation...",
          "executable": false
        },
        "44": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Failure case: return nil, error_message",
          "executable": false
        },
        "1176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Check if a path matches a complex pattern",
          "executable": false
        },
        "64": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_file_info fun(file_path: string): {...",
          "executable": false
        },
        "74": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_directory_name fun(file_path: strin...",
          "executable": false
        },
        "84": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field create_temp_file fun(prefix?: string, s...",
          "executable": false
        },
        "94": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field is_file fun(path: string): boolean Chec...",
          "executable": false
        },
        "14": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - File metadata: size, timestamps, existence c...",
          "executable": false
        },
        "9": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    Features:",
          "executable": false
        },
        "1855": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not timestamp then",
          "executable": true
        },
        "5": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    This module provides a consistent, cross-platf...",
          "executable": false
        },
        "6": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    operations with robust error handling, path ma...",
          "executable": false
        },
        "7": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    functions.",
          "executable": false
        },
        "8": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "1": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--[[",
          "executable": false
        },
        "2": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    Filesystem - Platform-independent file and dir...",
          "executable": false
        },
        "3": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "4": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    A comprehensive, standalone filesystem module ...",
          "executable": false
        },
        "33": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- ",
          "executable": false
        },
        "23": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Comprehensive error handling: All functions ...",
          "executable": false
        },
        "53": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field create_directory fun(dir_path: string):...",
          "executable": false
        },
        "43": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Success case: return result",
          "executable": false
        },
        "73": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field join_paths fun(...: string): string|nil...",
          "executable": false
        },
        "63": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field list_directories fun(dir_path: string, ...",
          "executable": false
        },
        "93": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field find_matches fun(files: table, pattern:...",
          "executable": false
        },
        "83": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_temp_directory fun(): string Get th...",
          "executable": false
        },
        "1595": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "13": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - File discovery: pattern matching, glob suppo...",
          "executable": false
        },
        "307": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param source string Path to the source file",
          "executable": false
        },
        "207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Process the content",
          "executable": false
        },
        "507": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean|nil success True if directory ...",
          "executable": false
        },
        "407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local success, err = fs.delete_file(\"/tmp/temp...",
          "executable": false
        },
        "707": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if result ~= \"\" and result:sub(1, 2) ~= (p...",
          "executable": true
        },
        "607": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return",
          "executable": false
        },
        "907": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, result  -- On failure, result ...",
          "executable": true
        },
        "807": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Handle trailing slashes",
          "executable": false
        },
        "107": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field create_directory fun(dir_path: string): ...",
          "executable": false
        },
        "42": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- All functions follow a consistent error handli...",
          "executable": false
        },
        "52": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field directory_exists fun(dir_path: string):...",
          "executable": false
        },
        "22": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Platform neutral: Works identically on all p...",
          "executable": false
        },
        "32": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Filesystem module for cross-platform file and ...",
          "executable": false
        },
        "82": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field set_current_directory fun(dir_path: str...",
          "executable": false
        },
        "92": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field scan_directory fun(path: string, recurs...",
          "executable": false
        },
        "1148": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Replace ? with match any single character e...",
          "executable": false
        },
        "72": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field normalize_path fun(path: string): strin...",
          "executable": false
        },
        "1895": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- versus files.",
          "executable": false
        },
        "1863": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It combines checks from file_exists and direct...",
          "executable": false
        },
        "1962": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "417": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return safe_io_action(function(file_path)",
          "executable": true
        },
        "1161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function checks if a given path matches a...",
          "executable": false
        },
        "217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end, path)",
          "executable": true
        },
        "317": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return",
          "executable": false
        },
        "817": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \".\"  (current directory)",
          "executable": false
        },
        "917": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if extr...",
          "executable": false
        },
        "617": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "717": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "117": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field copy_file fun(source_path: string, dest_...",
          "executable": false
        },
        "667": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local root = fs.normalize_path(\"/\")",
          "executable": false
        },
        "1851": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    handle:close()",
          "executable": true
        },
        "467": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local normalized_path = fs.normalize_path(...",
          "executable": true
        },
        "367": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"Source file does not exis...",
          "executable": true
        },
        "267": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- doesn't exist, it will be created along with a...",
          "executable": false
        },
        "167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param ... any Additional arguments to pass to...",
          "executable": false
        },
        "1395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local processed = {}",
          "executable": true
        },
        "1407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "867": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Handle paths with trailing slashes (typical...",
          "executable": false
        },
        "767": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local result = fs.normalize_path(args[1] o...",
          "executable": true
        },
        "1439": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Find all Lua files from a directory scan",
          "executable": false
        },
        "1715": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return",
          "executable": false
        },
        "1486": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1923": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- By default, it excludes hidden files (those st...",
          "executable": false
        },
        "1198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "2198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, err",
          "executable": true
        },
        "1320": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    for _, pattern in ipairs(patte...",
          "executable": true
        },
        "1160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Test if a path matches a glob pattern",
          "executable": false
        },
        "2160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return start_dir",
          "executable": true
        },
        "1951": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not fs.directory_exists(dir_path) then",
          "executable": true
        },
        "1289": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1695": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1922": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function returns a list of all files (not...",
          "executable": false
        },
        "1307": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "                -- Skip if we can't access the pat...",
          "executable": false
        },
        "1939": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- ",
          "executable": false
        },
        "1186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Use proper pattern for handling error_handl...",
          "executable": false
        },
        "1298": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            processed[absolute_path] = true",
          "executable": true
        },
        "2220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not fs.directory_exists(dir_path) then",
          "executable": true
        },
        "1060": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = {}",
          "executable": true
        },
        "2060": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                if item ~= \".\" and item ~= \"..\" th...",
          "executable": true
        },
        "1651": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "347": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- parent directories for the destination will be...",
          "executable": false
        },
        "647": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "547": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Failed to delete directory: \" .. (err...",
          "executable": false
        },
        "1195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if pattern == path then",
          "executable": true
        },
        "1934": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local files, err = fs.list_files(\"/path/to/pro...",
          "executable": false
        },
        "147": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- in package.config, which is OS-specific.",
          "executable": false
        },
        "1822": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local creation_time = fs.get_creation_time(fil...",
          "executable": false
        },
        "847": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil",
          "executable": true
        },
        "747": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if join...",
          "executable": false
        },
        "947": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1515": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if fs.get_extension(file) == ext then",
          "executable": true
        },
        "1639": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Restore from backup",
          "executable": false
        },
        "1398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local function scan(current_path)",
          "executable": true
        },
        "1723": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1758": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1120": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return \"^.+%.lua$\" -- Match any Lua fi...",
          "executable": true
        },
        "2120": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"setup.py\",     -- Python projects",
          "executable": true
        },
        "557": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "657": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "357": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not success then",
          "executable": false
        },
        "457": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Check for invalid characters in path th...",
          "executable": false
        },
        "157": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local path_separator = is_windows() and '\\\\' or '/...",
          "executable": true
        },
        "257": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local file, err = io.open(file_path, \"w\")",
          "executable": true
        },
        "1495": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    lua_pattern = lua_pattern:gsub(\"%*\", \".*\")   -...",
          "executable": true
        },
        "1489": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return true",
          "executable": true
        },
        "1722": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"File too large: \" .. (size / 1024 / 1...",
          "executable": false
        },
        "957": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "757": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "857": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1815": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return",
          "executable": false
        },
        "1339": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                            if rel_path and fs.mat...",
          "executable": true
        },
        "1386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1907": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "1823": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local one_week = 7 * 24 * 60 * 60 -- Seconds i...",
          "executable": false
        },
        "2020": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local image_files = {}",
          "executable": false
        },
        "1020": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"../config\"",
          "executable": false
        },
        "623": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "723": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "823": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return \"/path\"",
          "executable": true
        },
        "923": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1949": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.list_files(dir_path, include_hidden)",
          "executable": true
        },
        "123": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_filename fun(file_path: string): str...",
          "executable": false
        },
        "223": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "--- @param path string Path to the file to write",
          "executable": false
        },
        "323": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return safe_io_action(function(src, dst)",
          "executable": true
        },
        "423": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not ok then",
          "executable": true
        },
        "523": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Validate path",
          "executable": false
        },
        "1646": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if file then",
          "executable": true
        },
        "1315": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "                    -- Special handling for exact ...",
          "executable": false
        },
        "1958": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if is_windows() then",
          "executable": true
        },
        "802": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "702": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Reconstruct the path",
          "executable": false
        },
        "933": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "833": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean|nil success True if deletion w...",
          "executable": false
        },
        "302": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function copies a file from one location ...",
          "executable": false
        },
        "137": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Implementation of the filesystem module",
          "executable": false
        },
        "502": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This is a convenience function that checks if ...",
          "executable": false
        },
        "133": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field find_directories fun(dir_path: string, p...",
          "executable": false
        },
        "737": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "837": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "937": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not filename or filename == \"\" then",
          "executable": true
        },
        "1136": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Start with a clean pattern",
          "executable": false
        },
        "1746": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return number|nil timestamp Modification time...",
          "executable": false
        },
        "1615": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1539": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Error: \" .. (err or \"unknown error\"))",
          "executable": false
        },
        "1658": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to the directory to ch...",
          "executable": false
        },
        "202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not content then",
          "executable": false
        },
        "102": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field read_file fun(file_path: string): string...",
          "executable": false
        },
        "1957": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Use different approach depending on platfor...",
          "executable": false
        },
        "812": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local dir = fs.get_directory_name(\"/\")",
          "executable": false
        },
        "912": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- last dot). It returns the extension without th...",
          "executable": false
        },
        "287": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local dir = fs.get_directory_name(file_pat...",
          "executable": true
        },
        "587": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "487": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Use mkdir command on Unix-like syst...",
          "executable": false
        },
        "787": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Properly handle the result of error_handler...",
          "executable": false
        },
        "612": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local full_path = fs.join_paths(\"/home/user/...",
          "executable": false
        },
        "987": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return fs.normalize_path(path)",
          "executable": true
        },
        "887": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Handle empty paths",
          "executable": false
        },
        "2098": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1323": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                            match = true",
          "executable": true
        },
        "1236": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                print(\"PATTERN_DEBUG: Match result...",
          "executable": true
        },
        "1422": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1846": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not handle then",
          "executable": true
        },
        "112": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field list_files_recursive fun(dir_path: strin...",
          "executable": false
        },
        "212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not file then return nil, err end",
          "executable": true
        },
        "1358": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "1095": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Convert pattern with ? wildcard",
          "executable": false
        },
        "297": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file:close()",
          "executable": true
        },
        "1857": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1591": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "697": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "1970": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                end",
          "executable": true
        },
        "1849": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "597": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "897": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return \"\"",
          "executable": true
        },
        "997": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Properly handle the result of error_handler...",
          "executable": false
        },
        "1423": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "2089": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Detect the project root directory",
          "executable": false
        },
        "1322": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                        if pattern == \"*.\" .. file...",
          "executable": true
        },
        "1946": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Include hidden files in listing",
          "executable": false
        },
        "1415": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if is_dir then",
          "executable": true
        },
        "1858": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "963": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1691": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if is_windows() then",
          "executable": true
        },
        "2036": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Helper function to recursively scan directo...",
          "executable": false
        },
        "563": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                if not result then",
          "executable": true
        },
        "663": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local path = fs.normalize_path(\"/var//log///ap...",
          "executable": false
        },
        "763": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if #args == 0 then return \"\" end",
          "executable": true
        },
        "863": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get filename from a path",
          "executable": false
        },
        "163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "263": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end, path, content)",
          "executable": true
        },
        "363": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- fs.move_file(\"old_name.txt\", \"new_name.txt\")",
          "executable": false
        },
        "463": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return true -- Already exists",
          "executable": true
        },
        "1036": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Split paths into segments",
          "executable": false
        },
        "2062": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                end",
          "executable": true
        },
        "1998": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function returns a flat list of all files...",
          "executable": false
        },
        "1246": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Properly handle the result of error_handler...",
          "executable": false
        },
        "2246": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            table.insert(matching_files, file_path...",
          "executable": true
        },
        "1997": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- List files recursively in a directory and all ...",
          "executable": false
        },
        "1224": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local lua_pattern = fs.glob_to_pattern...",
          "executable": true
        },
        "1212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1558": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not fs.directory_exists(dir_path) then",
          "executable": true
        },
        "2249": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "973": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Already absolute paths are normalized",
          "executable": false
        },
        "1249": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "673": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = string.gsub(path, \"\\\\\", \"/\")",
          "executable": true
        },
        "573": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "873": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"filename.txt\"",
          "executable": false
        },
        "773": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                end",
          "executable": true
        },
        "273": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Don't output \"Permission denied\" errors...",
          "executable": false
        },
        "473": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not success then",
          "executable": true
        },
        "373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local success, err = fs.ensure_directo...",
          "executable": true
        },
        "1346": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "                    -- Add matching file to result...",
          "executable": false
        },
        "1215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if debug_mode then print(\"PATTERN_DEBU...",
          "executable": true
        },
        "2215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1112": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Handle special case: if pattern starts with...",
          "executable": false
        },
        "1258": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param directories table List of root director...",
          "executable": false
        },
        "1986": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                if fs.is_file(full_path) then",
          "executable": true
        },
        "843": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not last_slash then",
          "executable": true
        },
        "943": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "643": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "743": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- correctly managing absolute and relative path ...",
          "executable": false
        },
        "1557": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1008": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not success then",
          "executable": false
        },
        "543": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "2008": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "343": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Move or rename a file from source to destinati...",
          "executable": false
        },
        "2012": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not all_files then",
          "executable": false
        },
        "1074": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return \".\"",
          "executable": true
        },
        "1686": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return true",
          "executable": true
        },
        "1024": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \".\" (current directory)",
          "executable": false
        },
        "2024": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     table.insert(image_files, file_path)",
          "executable": false
        },
        "1991": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "853": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Extract the file name from a path",
          "executable": false
        },
        "753": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "653": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1697": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local result = os.execute('test -d \"' .. n...",
          "executable": true
        },
        "1457": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "153": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "553": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return safe_io_action(function(dir_path, recur...",
          "executable": true
        },
        "453": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not dir_path or dir_path == \"\" then",
          "executable": true
        },
        "353": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "253": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local success, err = fs.ensure_directo...",
          "executable": true
        },
        "1174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1546": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- List all files and directories in a directory",
          "executable": false
        },
        "2015": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1015": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local rel_path = fs.get_relative_path(\"/home/u...",
          "executable": false
        },
        "962": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- normalized and returned.",
          "executable": false
        },
        "862": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1023": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local rel_path = fs.get_relative_path(\"/home/u...",
          "executable": false
        },
        "2023": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   if ext == \"jpg\" or ext == \"png\" or ext == \"g...",
          "executable": false
        },
        "562": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                result = os.execute('rmdir /s /q \"...",
          "executable": true
        },
        "372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if dir and dir ~= \"\" then",
          "executable": true
        },
        "472": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local success, err = fs.create_directo...",
          "executable": true
        },
        "172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not status then",
          "executable": true
        },
        "272": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if appe...",
          "executable": false
        },
        "1597": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Use list_directory to get all entries in th...",
          "executable": false
        },
        "1886": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.is_file(path)",
          "executable": true
        },
        "1918": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if fs.file_exists(path) and not fs.directory_e...",
          "executable": true
        },
        "1806": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to the file or directo...",
          "executable": false
        },
        "972": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "772": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    result = result .. \"/\"",
          "executable": true
        },
        "872": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local name = fs.get_file_name(\"filename.txt\")",
          "executable": false
        },
        "572": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "672": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Convert Windows backslashes to forward slas...",
          "executable": false
        },
        "282": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Collect data over time",
          "executable": false
        },
        "182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not (err and err:match(\"Permission deni...",
          "executable": true
        },
        "1791": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local success, copy_err = fs.copy_file(src...",
          "executable": true
        },
        "1897": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to check",
          "executable": false
        },
        "1586": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return entries",
          "executable": true
        },
        "982": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "682": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Process special path components (. and ..)",
          "executable": false
        },
        "582": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "882": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "782": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function reads the entire contents of the...",
          "executable": false
        },
        "1789": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = handle:read(\"*a\")",
          "executable": true
        },
        "983": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Use proper pattern for handling error_handl...",
          "executable": false
        },
        "1891": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Check if a path refers to a directory (not a f...",
          "executable": false
        },
        "783": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "883": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1797": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "683": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local parts = {}",
          "executable": true
        },
        "383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not success then",
          "executable": true
        },
        "483": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not result then",
          "executable": true
        },
        "183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, err",
          "executable": true
        },
        "283": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- fs.append_file(\"data_collection.csv\", new_data...",
          "executable": false
        },
        "1286": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Default patterns if none provided",
          "executable": false
        },
        "1915": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "992": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "592": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "692": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    table.remove(parts) -- Remove ...",
          "executable": true
        },
        "792": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1798": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return timestamp",
          "executable": true
        },
        "1889": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return fs.file_exists(path)",
          "executable": true
        },
        "1297": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if processed[absolute_path] then retur...",
          "executable": true
        },
        "993": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Join with the provided path",
          "executable": false
        },
        "893": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local filename = normalized:match(\"[^/]+$\"...",
          "executable": true
        },
        "1834": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if is_windows() then",
          "executable": true
        },
        "693": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                end",
          "executable": true
        },
        "593": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- List the contents of a directory (files and su...",
          "executable": false
        },
        "493": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return true",
          "executable": true
        },
        "293": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local file, err = io.open(file_path, \"a\")",
          "executable": true
        },
        "193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It handles error checking and proper file clos...",
          "executable": false
        },
        "1786": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Failed to execute command to ...",
          "executable": true
        },
        "922": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"pdf\"",
          "executable": false
        },
        "822": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if path == \"/path/\" then",
          "executable": true
        },
        "722": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1260": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param exclude_patterns? table List of glob pa...",
          "executable": false
        },
        "1898": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean is_directory True if the path ...",
          "executable": false
        },
        "1908": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1784": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local handle = io.popen(command)",
          "executable": true
        },
        "1836": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        command = string.format(",
          "executable": true
        },
        "1572": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2071": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if include_hidden or item:sub(1, 1) ~=...",
          "executable": true
        },
        "1785": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not handle then",
          "executable": true
        },
        "1071": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1753": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Error getting modification time: \" .....",
          "executable": false
        },
        "2231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if recursive then",
          "executable": true
        },
        "1231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1684": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Handle root directory special case",
          "executable": false
        },
        "1472": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1853": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Try to convert result to number",
          "executable": false
        },
        "1536": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get all Lua files in a directory",
          "executable": false
        },
        "1685": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if normalized_path == \"/\" then",
          "executable": true
        },
        "2171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local handle, err",
          "executable": true
        },
        "1331": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                            break",
          "executable": true
        },
        "114": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_file_info fun(file_path: string): {s...",
          "executable": false
        },
        "214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local content = file:read(\"*a\")",
          "executable": true
        },
        "1984": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if file ~= \".\" and file ~= \"..\" and (i...",
          "executable": true
        },
        "1708": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if gett...",
          "executable": false
        },
        "1636": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Use with error handling pattern",
          "executable": false
        },
        "1985": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                local full_path = fs.join_paths(di...",
          "executable": true
        },
        "308": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param destination string Path to the destinat...",
          "executable": false
        },
        "408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not success then",
          "executable": false
        },
        "508": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if crea...",
          "executable": false
        },
        "2031": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Directory does not exist: \" ....",
          "executable": true
        },
        "708": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            result = path:sub(1, 2) .. \"/\" .. resu...",
          "executable": true
        },
        "808": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local dir = fs.get_directory_name(\"/var/log/\")",
          "executable": false
        },
        "908": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "108": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field remove_directory fun(dir_path: string, r...",
          "executable": false
        },
        "1884": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Not a file: \" .. path)",
          "executable": false
        },
        "1808": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if gett...",
          "executable": false
        },
        "1336": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    if match then",
          "executable": true
        },
        "1885": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1131": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1653": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function verifies that the specified path...",
          "executable": false
        },
        "1004": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Convert an absolute path to a path relative to...",
          "executable": false
        },
        "2004": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param dir_path string Root directory path to ...",
          "executable": false
        },
        "1119": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if remainder == \"*.lua\" then",
          "executable": true
        },
        "2119": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"Cargo.toml\",   -- Rust projects",
          "executable": true
        },
        "1127": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        remainder = remainder:gsub(\"%*%*\", \"**GLOB...",
          "executable": true
        },
        "2127": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"CMakeLists.txt\", -- CMake projects",
          "executable": true
        },
        "904": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if success then",
          "executable": true
        },
        "804": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local dir = fs.get_directory_name(\"/home/user/...",
          "executable": false
        },
        "1274": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "604": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local items, err = fs.get_directory_contents(\"...",
          "executable": false
        },
        "504": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- performing operations that require it.",
          "executable": false
        },
        "404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "304": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- source file exists and that the copy operation...",
          "executable": false
        },
        "2104": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1104": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return",
          "executable": false
        },
        "1219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Check if it's a glob pattern that needs...",
          "executable": false
        },
        "2219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1362": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "914": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "714": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Preserve root slash if original path starte...",
          "executable": false
        },
        "814": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "514": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Cannot access or create log directory...",
          "executable": false
        },
        "1285": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, result, err = error_handler.try...",
          "executable": true
        },
        "314": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local success, err = fs.copy_file(\"/etc/app/co...",
          "executable": false
        },
        "414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   fs.delete_file(temp_file_path)",
          "executable": false
        },
        "1904": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local full_path = fs.join_paths(\"/path/to/di...",
          "executable": false
        },
        "1584": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1262": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if disc...",
          "executable": false
        },
        "1772": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local command",
          "executable": true
        },
        "2153": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            break",
          "executable": true
        },
        "1153": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    pattern = pattern:gsub(\"%*%*GLOBSTAR%*%*\", \".*...",
          "executable": true
        },
        "1115": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Separate handling for leading **/ patte...",
          "executable": false
        },
        "2115": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Common project root markers",
          "executable": false
        },
        "1585": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    handle:close()",
          "executable": true
        },
        "2232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        files, err = fs.list_files_recursive(dir_p...",
          "executable": true
        },
        "1227": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if pattern == \"*.lua\" and path:match(\"...",
          "executable": true
        },
        "1484": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return fs.get_extension(filename) == ext",
          "executable": true
        },
        "1232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Test the pattern match",
          "executable": false
        },
        "1672": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1820": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Determine if a file was created recently",
          "executable": false
        },
        "1485": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "2026": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1026": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path or not base then return nil end",
          "executable": true
        },
        "1920": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1604": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, entry in ipairs(entries) do",
          "executable": true
        },
        "1760": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local now = os.time()",
          "executable": false
        },
        "177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, nil -- Return nil, nil for...",
          "executable": true
        },
        "277": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not success then",
          "executable": false
        },
        "377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Try using os.rename first (most efficie...",
          "executable": false
        },
        "477": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "577": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "677": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "777": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    component = component:sub(2)",
          "executable": true
        },
        "877": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Use proper pattern for handling error_handl...",
          "executable": false
        },
        "977": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Windows drive letters are recognized as abs...",
          "executable": false
        },
        "2027": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- print(\"Found \" .. #image_files .. \" image file...",
          "executable": false
        },
        "1027": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1126": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        remainder = remainder:gsub(\"([%^%$%(%)%%%....",
          "executable": true
        },
        "1860": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "2226": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1226": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- For simple extension matching (e.g....",
          "executable": false
        },
        "2066": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1066": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1960": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not handle then",
          "executable": true
        },
        "1804": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- might not be available (falls back to modifica...",
          "executable": false
        },
        "2019": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local all_files = fs.list_files_recursive(\"/pa...",
          "executable": false
        },
        "1019": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local rel_path = fs.get_relative_path(\"/home/u...",
          "executable": false
        },
        "1166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param pattern string Glob pattern to match ag...",
          "executable": false
        },
        "2166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, result, err = error_handler.try...",
          "executable": true
        },
        "1704": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- includes proper error checking and validation ...",
          "executable": false
        },
        "1420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                table.insert(results, item_path)",
          "executable": true
        },
        "1919": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return fs.directory_exists(path)",
          "executable": true
        },
        "118": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field move_file fun(source_path: string, dest_...",
          "executable": false
        },
        "1304": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            for _, item in ipairs(contents) do",
          "executable": true
        },
        "1927": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param dir_path string Directory path to list ...",
          "executable": false
        },
        "2149": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local parent_dir = fs.get_directory_name(d...",
          "executable": true
        },
        "1149": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    pattern = pattern:gsub(\"%?\", \"[^/]\")",
          "executable": true
        },
        "1972": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "428": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end, path)",
          "executable": true
        },
        "1360": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "228": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "328": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Read source content",
          "executable": false
        },
        "828": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "928": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Handle files with multiple dots",
          "executable": false
        },
        "628": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            and 'dir /b \"' .. normalized_path .. '...",
          "executable": true
        },
        "1520": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            table.insert(matches, file)",
          "executable": true
        },
        "128": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_temp_directory fun(): string Get the...",
          "executable": false
        },
        "1204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return true",
          "executable": true
        },
        "1872": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local items = fs.get_directory_contents(\"/path...",
          "executable": false
        },
        "1460": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return ext or \"\"",
          "executable": true
        },
        "1620": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function verifies that the specified path...",
          "executable": false
        },
        "1504": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.find_matches(files, pattern)",
          "executable": true
        },
        "1911": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if fs.is_directory(path) then",
          "executable": false
        },
        "1157": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2157": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1953": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1271": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   {\"*.lua\", \"*.c\", \"*.h\"},",
          "executable": false
        },
        "1560": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "2178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not handle then",
          "executable": true
        },
        "1720": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local size = fs.get_file_size(file_path)",
          "executable": false
        },
        "1404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Get directory contents",
          "executable": false
        },
        "2057": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            items = {}",
          "executable": true
        },
        "1057": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1049": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local min_length = math.min(#path_segments, #b...",
          "executable": true
        },
        "2049": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "518": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Write file only if the directory exists or ...",
          "executable": false
        },
        "418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not fs.file_exists(file_path) then",
          "executable": true
        },
        "1660": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "918": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "818": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.get_directory_name(path)",
          "executable": true
        },
        "718": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "618": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "51": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field file_exists fun(file_path: string): boo...",
          "executable": false
        },
        "41": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "31": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "]]",
          "executable": false
        },
        "21": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Minimal dependencies: Only relies on Lua sta...",
          "executable": false
        },
        "1588": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.get_files(dir_path, pattern)",
          "executable": true
        },
        "81": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_current_directory fun(): string|nil...",
          "executable": false
        },
        "71": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field rename fun(old_path: string, new_path: ...",
          "executable": false
        },
        "868": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local name = fs.get_file_name(\"/var/log/\")",
          "executable": false
        },
        "1509": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Get just the filename for pattern match...",
          "executable": false
        },
        "1917": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path then return false end",
          "executable": true
        },
        "1199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1944": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1932": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "658": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Normalize a Windows path",
          "executable": false
        },
        "558": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if recurse then",
          "executable": true
        },
        "1745": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to the file or directo...",
          "executable": false
        },
        "358": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Failed to move file: \" .. (err or \"un...",
          "executable": false
        },
        "258": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not file then return nil, err end",
          "executable": true
        },
        "1913": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     process_directory(subdir)",
          "executable": false
        },
        "50": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field append_file fun(file_path: string, cont...",
          "executable": false
        },
        "60": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_directory_items fun(dir_path: strin...",
          "executable": false
        },
        "70": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field move_file fun(source_path: string, dest...",
          "executable": false
        },
        "80": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_relative_path fun(path: string, bas...",
          "executable": false
        },
        "1417": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    scan(item_path)",
          "executable": true
        },
        "1688": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "30": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @version 0.2.5",
          "executable": false
        },
        "938": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return \"\"",
          "executable": true
        },
        "1609": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- If a pattern is provided, filter by...",
          "executable": false
        },
        "1844": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1832": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "568": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                result = os.execute('rm -rf \"' .. ...",
          "executable": true
        },
        "668": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"/\"",
          "executable": false
        },
        "368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "468": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1948": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- print(\"Total files (including hidden): \" .. #a...",
          "executable": false
        },
        "268": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1317": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "                    ",
          "executable": false
        },
        "1709": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1344": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    end",
          "executable": true
        },
        "1399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Avoid infinite loops from symlinks",
          "executable": false
        },
        "1732": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1945": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1105": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- First, handle common extension patterns lik...",
          "executable": false
        },
        "2105": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1488": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if pattern == \"*.lua\" and filename:sub(-4) == ...",
          "executable": true
        },
        "1713": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not size then",
          "executable": false
        },
        "1290": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local matches = {}",
          "executable": true
        },
        "958": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1617": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "758": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Handle absolute paths in later components",
          "executable": false
        },
        "1809": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1659": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean exists True if the directory e...",
          "executable": false
        },
        "1499": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    lua_pattern = \"^\" .. lua_pattern .. \"$\"",
          "executable": true
        },
        "1632": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- else",
          "executable": false
        },
        "1445": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local test_files = fs.find_matches(all_files, ...",
          "executable": false
        },
        "2005": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param include_hidden? boolean Whether to incl...",
          "executable": false
        },
        "1005": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function computes a relative path from a ...",
          "executable": false
        },
        "1813": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not timestamp then",
          "executable": false
        },
        "1190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if debug_mode then",
          "executable": true
        },
        "2190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1517": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "1544": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Found Lua file: \" .. file_path)",
          "executable": false
        },
        "1988": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                end",
          "executable": true
        },
        "1967": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                local full_path = fs.join_paths(di...",
          "executable": true
        },
        "1759": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Determine if a file is older than a certain...",
          "executable": false
        },
        "134": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field is_absolute_path fun(path: string): bool...",
          "executable": false
        },
        "234": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "334": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Write to destination",
          "executable": false
        },
        "1513": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if pattern:match(\"^%*%.%w+$\") then",
          "executable": true
        },
        "1532": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string[]|nil files Array of matching f...",
          "executable": false
        },
        "1876": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     process_file(full_path)",
          "executable": false
        },
        "1345": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "                    ",
          "executable": false
        },
        "198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "798": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "698": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            table.insert(parts, part)",
          "executable": true
        },
        "598": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to the directory to li...",
          "executable": false
        },
        "498": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return true",
          "executable": true
        },
        "978": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local abs_path = fs.get_absolute_path(\"C:\\\\Win...",
          "executable": false
        },
        "878": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, result, err = error_handler.try...",
          "executable": true
        },
        "1090": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "2090": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function attempts to find the root direct...",
          "executable": false
        },
        "1867": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to check",
          "executable": false
        },
        "1444": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local all_files = fs.scan_directory(\"/path/to/...",
          "executable": false
        },
        "1859": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return timestamp",
          "executable": true
        },
        "1432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- not the full path, making it easy to filter by...",
          "executable": false
        },
        "1613": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1976": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Unix-like systems",
          "executable": false
        },
        "1645": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local file = io.open(path, \"rb\")",
          "executable": true
        },
        "1088": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil pattern Lua pattern equival...",
          "executable": false
        },
        "2088": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "748": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "848": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1788": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "724": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Handle special case: path was just \"/\" or r...",
          "executable": false
        },
        "1767": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path then return nil, \"No path provided...",
          "executable": true
        },
        "1309": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                local is_file = not is_dir and fs....",
          "executable": true
        },
        "824": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1959": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local handle = io.popen('dir /b \"' .. dir_...",
          "executable": true
        },
        "1138": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1313": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    process_directory(dir, item_pa...",
          "executable": true
        },
        "1332": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                        end",
          "executable": true
        },
        "254": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not success then return nil, err en...",
          "executable": true
        },
        "354": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "438": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if crea...",
          "executable": false
        },
        "338": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1676": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check for invalid characters in path that m...",
          "executable": false
        },
        "1545": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "238": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.write_file(path, content)",
          "executable": true
        },
        "138": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- This local table will hold all the filesystem f...",
          "executable": false
        },
        "998": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if success then",
          "executable": true
        },
        "898": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "2099": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1888": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if fs.directory_exists(path) then return false...",
          "executable": true
        },
        "634": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1644": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1259": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param patterns? table List of glob patterns t...",
          "executable": false
        },
        "1409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local item_path = fs.join_paths(curren...",
          "executable": true
        },
        "124": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_extension fun(file_path: string): st...",
          "executable": false
        },
        "324": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not fs.file_exists(src) then",
          "executable": true
        },
        "2038": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Get all items in current directory",
          "executable": false
        },
        "524": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path or path == \"\" then",
          "executable": true
        },
        "424": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, err or \"Failed to delete f...",
          "executable": true
        },
        "348": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "448": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Create a directory for user data",
          "executable": false
        },
        "548": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1776": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            'powershell -Command \"(Get-Item -Path ...",
          "executable": true
        },
        "148": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "248": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "2150": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1150": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1244": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "844": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if normalized ~= \"\" then",
          "executable": true
        },
        "744": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1359": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1567": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        command = string.format('powershell -Comma...",
          "executable": true
        },
        "2244": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local filename = fs.get_file_name(file_pat...",
          "executable": true
        },
        "174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not result:match(\"Permission denied\") t...",
          "executable": true
        },
        "1234": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if debug_mode then ",
          "executable": true
        },
        "374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not success then return nil, err en...",
          "executable": true
        },
        "474": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                return nil, \"Failed to create pare...",
          "executable": true
        },
        "1222": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if contains_glob then",
          "executable": true
        },
        "1705": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1113": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- This is a common pattern like \"**/*.lua\" to...",
          "executable": false
        },
        "1163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- wildcards. This is used for file filtering and...",
          "executable": false
        },
        "1476": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param pattern string The pattern to match aga...",
          "executable": false
        },
        "1050": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2050": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1459": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local ext = filename:match(\"%.([^%.]+)$\")",
          "executable": true
        },
        "954": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return result",
          "executable": true
        },
        "654": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to normalize",
          "executable": false
        },
        "754": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Join with a trailing slash in first compone...",
          "executable": false
        },
        "1467": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path then return \"\" end",
          "executable": true
        },
        "1238": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return match",
          "executable": true
        },
        "1245": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "544": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Safely remove an empty directory",
          "executable": false
        },
        "1122": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return \"^.+%.js$\"  -- Match any JS fil...",
          "executable": true
        },
        "1213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Match \"*coverage*\" - any file with cove...",
          "executable": false
        },
        "1605": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local full_path = fs.join_paths(dir_path, ...",
          "executable": true
        },
        "1761": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local mod_time = fs.get_modified_time(file_pat...",
          "executable": false
        },
        "1576": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function scans a directory and returns a ...",
          "executable": false
        },
        "1548": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It does not distinguish between files and dire...",
          "executable": false
        },
        "2022": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local ext = fs.get_extension(file_path)",
          "executable": false
        },
        "1044": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        table.insert(base_segments, segment)",
          "executable": true
        },
        "664": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"/var/log/apache2\"",
          "executable": false
        },
        "2044": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not handle then return end",
          "executable": true
        },
        "1367": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "764": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "394": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end, source, destination)",
          "executable": true
        },
        "494": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not result then",
          "executable": true
        },
        "1145": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Replace * with match any except / pattern",
          "executable": false
        },
        "294": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not file then return nil, err end",
          "executable": true
        },
        "1905": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   if fs.is_directory(full_path) then",
          "executable": false
        },
        "1022": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Same directory case",
          "executable": false
        },
        "1861": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Check if a path refers to a file (not a direct...",
          "executable": false
        },
        "1276": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local config_files = fs.discover_files(",
          "executable": false
        },
        "1821": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local now = os.time()",
          "executable": false
        },
        "1355": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for _, dir in ipairs(directories) do",
          "executable": true
        },
        "1272": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   {\"*test*\", \"*_spec.lua\"}",
          "executable": false
        },
        "974": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local abs_path = fs.get_absolute_path(\"/var/lo...",
          "executable": false
        },
        "1144": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "574": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not result then",
          "executable": true
        },
        "674": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "774": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "                ",
          "executable": false
        },
        "1267": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1134": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "464": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "364": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.move_file(source, destination)",
          "executable": true
        },
        "1013": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1805": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "2013": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Error listing files: \" .. (err or \"un...",
          "executable": false
        },
        "1561": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1921": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- List all files in a directory (non-recursive)",
          "executable": false
        },
        "1255": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- applying include and exclude patterns to filte...",
          "executable": false
        },
        "1348": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                        table.insert(matches, item...",
          "executable": true
        },
        "1894": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- correct file type. This is useful when you nee...",
          "executable": false
        },
        "2084": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Start scanning from the root directory",
          "executable": false
        },
        "1599": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not entries then",
          "executable": true
        },
        "1508": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, file in ipairs(files) do",
          "executable": true
        },
        "884": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Normalize the path",
          "executable": false
        },
        "784": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return result",
          "executable": true
        },
        "684": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for part in result:gmatch(\"[^/]+\") do",
          "executable": true
        },
        "584": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local result = os.execute('rmdir \"' .....",
          "executable": true
        },
        "1305": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                local item_path = fs.join_paths(cu...",
          "executable": true
        },
        "1661": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1621": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It attempts to open the file for reading, whic...",
          "executable": false
        },
        "1288": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        exclude_patterns = exclude_patterns or {}",
          "executable": true
        },
        "1448": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local all_files = fs.scan_directory(\"/path/to/...",
          "executable": false
        },
        "2184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1794": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not timestamp then",
          "executable": true
        },
        "1608": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if fs.file_exists(full_path) then",
          "executable": true
        },
        "1699": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "794": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Extract the directory part from a path",
          "executable": false
        },
        "894": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "594": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function returns a list of all items (fil...",
          "executable": false
        },
        "694": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            else",
          "executable": true
        },
        "1205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1936": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Error listing files: \" .. (err or \"un...",
          "executable": false
        },
        "284": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.append_file(path, content)",
          "executable": true
        },
        "184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "1721": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if size and size > max_size then",
          "executable": false
        },
        "1388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local all_files = fs.scan_directory(\"/path/to/...",
          "executable": false
        },
        "1350": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                end",
          "executable": true
        },
        "1799": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1308": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                local is_dir = fs.is_directory(ite...",
          "executable": true
        },
        "1744": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1505": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not files or not pattern then return {} end",
          "executable": true
        },
        "1421": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "1461": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1250": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, result  -- On failure, result ...",
          "executable": true
        },
        "2250": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return matching_files",
          "executable": true
        },
        "1248": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return result",
          "executable": true
        },
        "1994": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1899": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local contents, err = fs.get_directory_con...",
          "executable": true
        },
        "1736": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1521": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1845": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local handle = io.popen(command)",
          "executable": true
        },
        "2188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- For debugging pattern matching issues",
          "executable": false
        },
        "1335": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "                    -- Check if file matches any e...",
          "executable": false
        },
        "1575": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Failed to list directory\"",
          "executable": true
        },
        "1483": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local ext = pattern:match(\"^%*%.(%w+)$\")",
          "executable": true
        },
        "660": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"C:/Users/name/Documents/file.txt\"",
          "executable": false
        },
        "760": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"/usr/local/bin\" (leading slash in ...",
          "executable": false
        },
        "860": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if extr...",
          "executable": false
        },
        "960": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function takes a relative path and conver...",
          "executable": false
        },
        "150": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean True if running on Windows, fa...",
          "executable": false
        },
        "350": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param destination string Path to the destinat...",
          "executable": false
        },
        "250": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Ensure parent directory exists",
          "executable": false
        },
        "550": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Recursively delete a directory and all its ...",
          "executable": false
        },
        "450": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.create_directory(path)",
          "executable": true
        },
        "1582": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1338": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                            local rel_path = fs.ge...",
          "executable": true
        },
        "201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local content, err = fs.read_file(\"/path/to/co...",
          "executable": false
        },
        "1583": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "701": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "801": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "901": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "2002": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- The function safely handles circular symlinks ...",
          "executable": false
        },
        "301": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Copy a file from source to destination path",
          "executable": false
        },
        "401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to the file to delete",
          "executable": false
        },
        "501": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Ensure a directory exists, creating it if nece...",
          "executable": false
        },
        "601": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- provides consistent error handling, and filter...",
          "executable": false
        },
        "260": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file:write(data)",
          "executable": true
        },
        "360": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "460": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "560": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if is_windows() then",
          "executable": true
        },
        "1482": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if pattern:match(\"^%*%.%w+$\") then",
          "executable": true
        },
        "215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file:close()",
          "executable": true
        },
        "315": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not success then",
          "executable": false
        },
        "211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local file, err = io.open(file_path, \"r\")",
          "executable": true
        },
        "111": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field list_files fun(dir_path: string, include...",
          "executable": false
        },
        "615": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   else",
          "executable": false
        },
        "715": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if path:sub(1, 1) == \"/\" then",
          "executable": true
        },
        "815": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Handle paths without directory component",
          "executable": false
        },
        "915": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to process",
          "executable": false
        },
        "880": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if path:match(\"/$\") then",
          "executable": true
        },
        "980": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.get_absolute_path(path)",
          "executable": true
        },
        "680": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local is_unc_path = result:match(\"^//[^/]\") ~=...",
          "executable": true
        },
        "780": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                result = result .. component",
          "executable": true
        },
        "411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "311": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "611": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- for _, item_name in ipairs(items) do",
          "executable": false
        },
        "511": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Make sure a data directory exists before wr...",
          "executable": false
        },
        "170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function safe_io_action(action, ...)",
          "executable": true
        },
        "1654": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It uses platform-specific commands to ensure a...",
          "executable": false
        },
        "470": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local parent = fs.get_directory_name(norma...",
          "executable": true
        },
        "370": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Ensure parent directory exists for dest...",
          "executable": false
        },
        "270": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param content string Content to append to the...",
          "executable": false
        },
        "325": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"Source file does not exis...",
          "executable": true
        },
        "225": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "--- @return boolean|nil success True if write was ...",
          "executable": false
        },
        "525": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Invalid directory path: path ...",
          "executable": true
        },
        "425": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "129": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field create_temp_file fun(prefix?: string, su...",
          "executable": false
        },
        "229": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Write a configuration file",
          "executable": false
        },
        "329": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local content, err = fs.read_file(src)",
          "executable": true
        },
        "429": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "750": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Join directory and filename",
          "executable": false
        },
        "650": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function standardizes path separators, re...",
          "executable": false
        },
        "950": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "850": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1275": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Use with include/exclude patterns to find s...",
          "executable": false
        },
        "125": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field change_extension fun(file_path: string, ...",
          "executable": false
        },
        "180": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "    if not result and err then",
          "executable": true
        },
        "480": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if is_windows() then",
          "executable": true
        },
        "580": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if #contents > 0 then",
          "executable": true
        },
        "280": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "639": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "539": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param recursive boolean If true, recursively ...",
          "executable": false
        },
        "839": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Find last slash",
          "executable": false
        },
        "739": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "239": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return safe_io_action(function(file_path, data...",
          "executable": true
        },
        "139": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- All JSDoc annotations are provided in the class...",
          "executable": false
        },
        "439": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "339": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "2083": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1083": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- to Lua pattern strings that can be used with s...",
          "executable": false
        },
        "490": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                err = \"Failed to create directory ...",
          "executable": true
        },
        "390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"File copied but failed to...",
          "executable": true
        },
        "690": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "                -- Don't remove drive letter on Wi...",
          "executable": false
        },
        "590": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return true",
          "executable": true
        },
        "929": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local ext = fs.get_extension(\"archive.tar.gz\")",
          "executable": false
        },
        "290": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not success then return nil, err en...",
          "executable": true
        },
        "190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Core File Operations",
          "executable": false
        },
        "709": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        elseif result == \"\" then",
          "executable": true
        },
        "809": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"/var/log\"",
          "executable": false
        },
        "509": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "609": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "309": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean|nil success True if copy was s...",
          "executable": false
        },
        "409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Failed to delete file: \" .. (err or \"...",
          "executable": false
        },
        "109": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field remove_file fun(file_path: string): bool...",
          "executable": false
        },
        "209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.read_file(path)",
          "executable": true
        },
        "1183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.matches_pattern(path, pattern)",
          "executable": true
        },
        "2183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            handle:close()",
          "executable": true
        },
        "1754": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return",
          "executable": false
        },
        "939": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "819": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path then return nil end",
          "executable": true
        },
        "719": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Preserve UNC path format",
          "executable": false
        },
        "619": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.get_directory_contents(path)",
          "executable": true
        },
        "519": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if fs.ensure_directory_exists(output_dir) then",
          "executable": false
        },
        "419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return true -- Already gone, consider ...",
          "executable": true
        },
        "319": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Write string content to a file, creating it if...",
          "executable": false
        },
        "119": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field rename fun(old_path: string, new_path: s...",
          "executable": false
        },
        "1029": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local norm_path = fs.normalize_path(path)",
          "executable": true
        },
        "1690": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local attributes",
          "executable": true
        },
        "2029": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not dir_path then return nil, \"No directory...",
          "executable": true
        },
        "1782": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "909": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1675": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "890": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "790": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "990": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Get current directory",
          "executable": false
        },
        "2129": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"LICENSE\",      -- Common in project roots",
          "executable": true
        },
        "1045": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "2045": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1129": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        remainder = remainder:gsub(\"%?\", \"[^/]\")",
          "executable": true
        },
        "1682": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local normalized_path = fs.normalize_path(path...",
          "executable": true
        },
        "919": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1993": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1041": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2041": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Use different approach depending on pla...",
          "executable": false
        },
        "1902": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local items = fs.get_directory_contents(\"/path...",
          "executable": false
        },
        "1229": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                return true",
          "executable": true
        },
        "1490": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "2141": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for _, marker in ipairs(markers) do",
          "executable": true
        },
        "1141": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1590": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"No directory path provided\"",
          "executable": true
        },
        "1910": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Recursively process only directories",
          "executable": false
        },
        "888": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if normalized == \"\" then",
          "executable": true
        },
        "988": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "2156": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        dir = parent_dir",
          "executable": true
        },
        "1156": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    pattern = \"^\" .. pattern .. \"$\"",
          "executable": true
        },
        "1702": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function retrieves the size of a file in ...",
          "executable": false
        },
        "178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local ok, err = os.rename(src, dst)",
          "executable": true
        },
        "278": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Error appending to log: \" .. (err or ...",
          "executable": false
        },
        "578": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Non-recursive deletion",
          "executable": false
        },
        "478": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Create this directory",
          "executable": false
        },
        "778": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                end",
          "executable": true
        },
        "678": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Detect Windows drive letter or UNC path",
          "executable": false
        },
        "1390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.scan_directory(path, recursive)",
          "executable": true
        },
        "188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        },
        "288": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if dir and dir ~= \"\" then",
          "executable": true
        },
        "388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not del_success then",
          "executable": true
        },
        "488": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            result = os.execute('mkdir -p \"' .. no...",
          "executable": true
        },
        "588": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "688": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Handle \"..\" components (go up one l...",
          "executable": false
        },
        "788": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if success then",
          "executable": true
        },
        "1593": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not fs.directory_exists(dir_path) then",
          "executable": true
        },
        "1441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local lua_files = fs.find_matches(all_files, \"...",
          "executable": false
        },
        "1854": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local timestamp = tonumber(result)",
          "executable": true
        },
        "1502": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return filename:match(lua_pattern) ~= nil",
          "executable": true
        },
        "1890": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1067": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Add remaining segments from path",
          "executable": false
        },
        "1982": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for file in handle:lines() do",
          "executable": true
        },
        "1983": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Skip . and .. directories and hidde...",
          "executable": false
        },
        "505": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "305": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- content integrity.",
          "executable": false
        },
        "205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "905": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return result",
          "executable": true
        },
        "805": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"/home/user/documents\"",
          "executable": false
        },
        "705": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Handle Windows drive letters (C:/ etc.)",
          "executable": false
        },
        "1693": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local result = os.execute('if exist \"' .. ...",
          "executable": true
        },
        "1541": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "105": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field file_exists fun(file_path: string): bool...",
          "executable": false
        },
        "1056": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "2056": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        processed[absolute_path] = true",
          "executable": true
        },
        "1990": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1729": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local file, err = io.open(path, \"rb\")",
          "executable": true
        },
        "1882": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local content = fs.read_file(path)",
          "executable": false
        },
        "1159": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "2159": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If we didn't find a project root, return th...",
          "executable": false
        },
        "1535": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1241": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if debug_mode then print(\"PATTERN_DEBU...",
          "executable": true
        },
        "2241": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Filter files by pattern",
          "executable": false
        },
        "1302": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not contents then return end",
          "executable": true
        },
        "1168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if matc...",
          "executable": false
        },
        "2168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return lfs.currentdir()",
          "executable": true
        },
        "1829": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not (fs.file_exists(path) or fs.directory_e...",
          "executable": true
        },
        "1435": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param pattern string Pattern to match against...",
          "executable": false
        },
        "1341": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                                break",
          "executable": true
        },
        "1954": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if pattern == \"**/*.lua\" and path:match(\"%...",
          "executable": true
        },
        "2068": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Process each item",
          "executable": false
        },
        "1790": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    handle:close()",
          "executable": true
        },
        "2202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1929": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string[]|nil files List of absolute fi...",
          "executable": false
        },
        "2167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if lfs then",
          "executable": true
        },
        "1167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean|nil matches True if path match...",
          "executable": false
        },
        "1883": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- else",
          "executable": false
        },
        "1519": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        elseif fs.matches_pattern(filename, patter...",
          "executable": true
        },
        "1801": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function retrieves the creation time of a...",
          "executable": false
        },
        "1666": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Data directory not found\")",
          "executable": false
        },
        "1843": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "2193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not success then",
          "executable": true
        },
        "535": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- the directory and all its contents (files and ...",
          "executable": false
        },
        "635": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "335": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local success, write_err = fs.write_file(d...",
          "executable": true
        },
        "435": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "135": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Import error_handler for proper error handling",
          "executable": false
        },
        "235": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- ",
          "executable": false
        },
        "1814": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Error getting creation time: \" .. (er...",
          "executable": false
        },
        "1742": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- ensure accurate results on both Windows and Un...",
          "executable": false
        },
        "935": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, result, err = error_handler.try...",
          "executable": true
        },
        "2103": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Project root: \" .. root_dir)",
          "executable": false
        },
        "1937": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return",
          "executable": false
        },
        "835": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if normalized:match(\"/$\") then",
          "executable": true
        },
        "1619": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Check if a file exists and is accessible",
          "executable": false
        },
        "1766": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.get_modified_time(path)",
          "executable": true
        },
        "1827": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.get_creation_time(path)",
          "executable": true
        },
        "1943": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "2101": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local root_dir = fs.detect_project_root()",
          "executable": false
        },
        "1293": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Process a single directory",
          "executable": false
        },
        "645": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return files",
          "executable": true
        },
        "545": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local success, err = fs.delete_directory(\"/tmp...",
          "executable": false
        },
        "445": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return",
          "executable": false
        },
        "345": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- to use the efficient os.rename operation, but ...",
          "executable": false
        },
        "245": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Check for invalid characters in path th...",
          "executable": false
        },
        "145": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function checks the Lua environment to de...",
          "executable": false
        },
        "1714": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Error getting file size: \" .. (err or...",
          "executable": false
        },
        "1837": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            'powershell -Command \"(Get-Item -Path ...",
          "executable": true
        },
        "845": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return \".\"  -- Current directory if pa...",
          "executable": true
        },
        "745": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @vararg string Path components to join",
          "executable": false
        },
        "1719": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local max_size = 10 * 1024 * 1024 -- 10 MB",
          "executable": false
        },
        "1866": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1793": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local timestamp = tonumber(result)",
          "executable": true
        },
        "1180": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "2180": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "1977": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local handle = io.popen('ls -a \"' .. dir_p...",
          "executable": true
        },
        "1627": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1542": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1966": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if include_hidden or file:sub(1, 1) ~=...",
          "executable": true
        },
        "1819": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1701": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the size of a file in bytes",
          "executable": false
        },
        "1743": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- properly validates that the path exists before...",
          "executable": false
        },
        "1893": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It combines checks from file_exists and direct...",
          "executable": false
        },
        "1877": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "1914": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "1842": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        command = string.format('stat -c %%W 2>/de...",
          "executable": true
        },
        "2003": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1003": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1678": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false",
          "executable": true
        },
        "275": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Append a line to a log file",
          "executable": false
        },
        "375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, result",
          "executable": true
        },
        "675": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Remove duplicate slashes",
          "executable": false
        },
        "775": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "                -- If component starts with slash ...",
          "executable": false
        },
        "475": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "575": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                return nil, err or \"Unknown error ...",
          "executable": true
        },
        "875": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path then return nil end",
          "executable": true
        },
        "975": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"/var/log\"",
          "executable": false
        },
        "1342": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                            end",
          "executable": true
        },
        "1543": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- for _, file_path in ipairs(files) do",
          "executable": false
        },
        "1427": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1501": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Do the pattern match",
          "executable": false
        },
        "1778": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        )",
          "executable": true
        },
        "1280": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- )",
          "executable": false
        },
        "641": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not close_ok then",
          "executable": true
        },
        "2016": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- print(\"Total files in project: \" .. #all_files...",
          "executable": false
        },
        "841": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "941": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Find extension after last dot",
          "executable": false
        },
        "785": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "685": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if part == \".\" then",
          "executable": true
        },
        "585": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not result then",
          "executable": true
        },
        "485": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "985": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- If already absolute, return normalized ...",
          "executable": false
        },
        "885": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local normalized = fs.normalize_path(path)",
          "executable": true
        },
        "2028": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.list_files_recursive(dir_path, include...",
          "executable": true
        },
        "341": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end, source, destination)",
          "executable": true
        },
        "1016": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"app/src/main.lua\"",
          "executable": false
        },
        "541": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if dele...",
          "executable": false
        },
        "1319": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    local match = false",
          "executable": true
        },
        "1878": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "751": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local file_path = fs.join_paths(\"/home/user\", ...",
          "executable": false
        },
        "455": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "555": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return true -- Already gone, consider ...",
          "executable": true
        },
        "851": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return last_slash",
          "executable": true
        },
        "1869": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "155": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "255": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "151": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function is_windows()",
          "executable": true
        },
        "755": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local path = fs.join_paths(\"/var/log/\", \"apach...",
          "executable": false
        },
        "855": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- any directory components. It handles special c...",
          "executable": false
        },
        "955": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "451": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return safe_io_action(function(dir_path)",
          "executable": true
        },
        "1419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            elseif is_file then  -- Only add if it...",
          "executable": true
        },
        "1978": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not handle then",
          "executable": true
        },
        "1493": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local lua_pattern = pattern",
          "executable": true
        },
        "1080": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- File Discovery",
          "executable": false
        },
        "2080": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "821": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Special case: exact match for \"/path/\"",
          "executable": false
        },
        "921": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local ext = fs.get_extension(\"/home/user/docum...",
          "executable": false
        },
        "665": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "721": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        result = \"//\" .. result:gsub(\"^/\", \"\")",
          "executable": true
        },
        "1969": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    table.insert(files, full_path)",
          "executable": true
        },
        "265": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Append string content to the end of a file",
          "executable": false
        },
        "165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @generic T",
          "executable": false
        },
        "121": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field join_paths fun(...: string): string Join...",
          "executable": false
        },
        "865": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"report.pdf\"",
          "executable": false
        },
        "521": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "221": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "comment",
          "content": "--- parent directories automatically. If the file ...",
          "executable": false
        },
        "965": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil absolute_path Absolute path...",
          "executable": false
        },
        "1354": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Process each starting directory",
          "executable": false
        },
        "2132": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"firmo.lua\"     -- Firmo projects",
          "executable": true
        },
        "1001": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, result  -- On failure, result ...",
          "executable": true
        },
        "2140": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Check for each marker",
          "executable": false
        },
        "1803": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- this information, with special handling for Un...",
          "executable": false
        },
        "2043": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local handle = io.popen('dir /b \"' .. ...",
          "executable": true
        },
        "1132": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Create a pattern that matches any path ...",
          "executable": false
        },
        "2001": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- a dot), but they can be included by setting th...",
          "executable": false
        },
        "931": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.get_extension(path)",
          "executable": true
        },
        "1871": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get all items in a directory and process fi...",
          "executable": false
        },
        "731": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "279": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return",
          "executable": false
        },
        "1137": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local pattern = glob",
          "executable": true
        },
        "479": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local result, err = nil, nil",
          "executable": true
        },
        "779": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "                ",
          "executable": false
        },
        "679": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local has_drive_letter = result:match(\"^%a:\") ...",
          "executable": true
        },
        "979": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"C:/Windows/System32\"",
          "executable": false
        },
        "879": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Check for a trailing slash in the origi...",
          "executable": false
        },
        "531": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return fs.create_directory(path)",
          "executable": true
        },
        "431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Create a directory with recursive parent direc...",
          "executable": false
        },
        "331": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"Failed to read source fil...",
          "executable": true
        },
        "231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not success then",
          "executable": false
        },
        "2032": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "2040": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "2010": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get all files in a project, including subdi...",
          "executable": false
        },
        "1903": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- for _, item_name in ipairs(items) do",
          "executable": false
        },
        "930": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"gz\" (only the last part is conside...",
          "executable": false
        },
        "830": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if normalized == \"/\" then",
          "executable": true
        },
        "730": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1989": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "530": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "981": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path then return nil end",
          "executable": true
        },
        "349": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param source string Path to the source file",
          "executable": false
        },
        "1971": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "149": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "2037": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local function scan(current_path)",
          "executable": true
        },
        "681": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "781": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "549": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "181": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "        -- Don't output \"Permission denied\" errors",
          "executable": false
        },
        "281": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- ",
          "executable": false
        },
        "849": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "949": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return extension",
          "executable": true
        },
        "1603": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local files = {}",
          "executable": true
        },
        "1478": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.matches_pattern(filename, pattern)",
          "executable": true
        },
        "359": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return",
          "executable": false
        },
        "991": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local current_dir = os.getenv(\"PWD\") or io...",
          "executable": true
        },
        "400": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1831": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "691": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                if not (has_drive_letter and #part...",
          "executable": true
        },
        "659": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local path = fs.normalize_path(\"C:\\\\Users\\\\nam...",
          "executable": false
        },
        "800": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil directory_name Directory co...",
          "executable": false
        },
        "459": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"Invalid directory path: c...",
          "executable": true
        },
        "291": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Read a file's entire contents as a string",
          "executable": false
        },
        "959": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Convert a relative path to an absolute path",
          "executable": false
        },
        "391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1282": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not directories or #directories == 0 then r...",
          "executable": true
        },
        "1116": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local remainder = glob:gsub(\"^%*%*/\", \"\")",
          "executable": true
        },
        "1703": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- seeking to the end to determine its size, and ...",
          "executable": false
        },
        "2093": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1093": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"^.+%.lua$\"",
          "executable": false
        },
        "1578": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for line in handle:lines() do",
          "executable": true
        },
        "1326": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "                        ",
          "executable": false
        },
        "100": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@class filesystem",
          "executable": false
        },
        "1771": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1931": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "2216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "761": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.join_paths(...)",
          "executable": true
        },
        "861": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "561": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "                -- Use rmdir /s /q command on Wind...",
          "executable": false
        },
        "1085": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- and ** (recursive directory matching).",
          "executable": false
        },
        "361": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "461": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- denied errors to avoid flooding logs. All file...",
          "executable": false
        },
        "261": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file:close()",
          "executable": true
        },
        "1216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return true",
          "executable": true
        },
        "1266": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local lua_files = fs.discover_files({\"/home/us...",
          "executable": false
        },
        "1401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if processed[absolute_path] then return en...",
          "executable": true
        },
        "920": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get the extension from a file path",
          "executable": false
        },
        "1403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "620": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return safe_io_action(function(dir_path)",
          "executable": true
        },
        "720": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if is_unc_path then",
          "executable": true
        },
        "820": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return safe_io_action(function(file_path)",
          "executable": true
        },
        "110": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_directory_items fun(dir_path: string...",
          "executable": false
        },
        "410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "971": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result might be: \"/home/user/project/src/ma...",
          "executable": false
        },
        "871": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Handle paths without directory component",
          "executable": false
        },
        "771": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                if result ~= \"\" and result:sub(-1)...",
          "executable": true
        },
        "671": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "571": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                end",
          "executable": true
        },
        "471": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if parent and parent ~= \"\" and not fs.dire...",
          "executable": true
        },
        "371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local dir = fs.get_directory_name(dst)",
          "executable": true
        },
        "271": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean|nil success True if append was...",
          "executable": false
        },
        "171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local status, result, err = pcall(action, ...)",
          "executable": true
        },
        "1366": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return result",
          "executable": true
        },
        "1738": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "970": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local abs_path = fs.get_absolute_path(\"src/mai...",
          "executable": false
        },
        "870": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "770": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if component and component ~= \"\" then",
          "executable": true
        },
        "670": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path then return nil end",
          "executable": true
        },
        "1503": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1526": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get files matching a pattern in a directory (n...",
          "executable": false
        },
        "589": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function writes a string to the specified...",
          "executable": false
        },
        "320": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Copy a template file to a new user's direct...",
          "executable": false
        },
        "1731": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Could not open file: \" .. (er...",
          "executable": true
        },
        "189": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "289": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local success, err = fs.ensure_directo...",
          "executable": true
        },
        "1277": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   {\"/etc\", \"/home/user/.config\"},",
          "executable": false
        },
        "989": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "789": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return result",
          "executable": true
        },
        "889": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return \"\"",
          "executable": true
        },
        "1466": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.get_file_name(path)",
          "executable": true
        },
        "1838": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            path",
          "executable": true
        },
        "2201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        },
        "1201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Match \"**/*.lua\" - any Lua file in any ...",
          "executable": false
        },
        "940": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "740": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Join multiple path components into a single pa...",
          "executable": false
        },
        "840": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local last_slash = normalized:match(\"(.+)/[^/]...",
          "executable": true
        },
        "1626": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean exists True if the file exists...",
          "executable": false
        },
        "640": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local close_ok, close_err = handle:close()",
          "executable": true
        },
        "699": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "330": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not content then",
          "executable": true
        },
        "230": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local success, err = fs.write_file(\"/path/to/c...",
          "executable": false
        },
        "399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- proper error handling for permissions and othe...",
          "executable": false
        },
        "299": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end, path, content)",
          "executable": true
        },
        "1210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return true",
          "executable": true
        },
        "1942": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     process_lua_file(file_path)",
          "executable": false
        },
        "999": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return result",
          "executable": true
        },
        "899": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "799": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to process",
          "executable": false
        },
        "1566": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Use PowerShell on Windows for consisten...",
          "executable": false
        },
        "1301": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local contents, err = fs.get_directory...",
          "executable": true
        },
        "1938": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "910": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Extract the file extension from a path",
          "executable": false
        },
        "1726": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"File does not exist: \" .. (pa...",
          "executable": true
        },
        "1240": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Direct string comparison for non-gl...",
          "executable": false
        },
        "610": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Process each item in the directory",
          "executable": false
        },
        "510": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "810": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1303": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "340": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return true",
          "executable": true
        },
        "440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "140": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local fs = {}",
          "executable": true
        },
        "240": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Validate file path",
          "executable": false
        },
        "1477": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean matches True if the filename m...",
          "executable": false
        },
        "1310": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "                ",
          "executable": false
        },
        "1292": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1652": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Check if a directory exists and is accessible",
          "executable": false
        },
        "1316": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    local file_ext = fs.get_extens...",
          "executable": true
        },
        "1465": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string filename Just the filename part",
          "executable": false
        },
        "1473": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Matches a filename against a glob or Lua patte...",
          "executable": false
        },
        "1328": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                        local item_name = fs.get_f...",
          "executable": true
        },
        "1394": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local results = {}",
          "executable": true
        },
        "1192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "2192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1952": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Directory does not exist: \" ....",
          "executable": true
        },
        "1416": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                if recursive then",
          "executable": true
        },
        "1573": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local handle = io.popen(command)",
          "executable": true
        },
        "1428": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Filter a list of files based on a pattern",
          "executable": false
        },
        "1494": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    lua_pattern = lua_pattern:gsub(\"%.\", \"%%.\")  -...",
          "executable": true
        },
        "1564": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1452": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Returns the file extension (without the dot) o...",
          "executable": false
        },
        "1916": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.is_directory(path)",
          "executable": true
        },
        "1665": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- else",
          "executable": false
        },
        "1928": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param include_hidden? boolean Whether to incl...",
          "executable": false
        },
        "1464": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string The file path",
          "executable": false
        },
        "1752": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not timestamp then",
          "executable": false
        },
        "1565": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if is_windows() then",
          "executable": true
        },
        "1191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            print(\"PATTERN_DEBUG: Testing pattern ...",
          "executable": true
        },
        "1764": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"File is more than one day old\")",
          "executable": false
        },
        "1073": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if #result == 0 then",
          "executable": true
        },
        "2073": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "                ",
          "executable": false
        },
        "2065": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            handle:close()",
          "executable": true
        },
        "1065": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "316": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Backup failed: \" .. (err or \"unknown ...",
          "executable": false
        },
        "216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return content",
          "executable": true
        },
        "516": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "416": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.delete_file(path)",
          "executable": true
        },
        "716": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        result = \"/\" .. result",
          "executable": true
        },
        "616": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     print(\"Directory: \" .. item_name)",
          "executable": false
        },
        "916": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil extension Extension of the ...",
          "executable": false
        },
        "816": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local dir = fs.get_directory_name(\"filename.tx...",
          "executable": false
        },
        "264": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "116": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_file_modified_time fun(file_path: st...",
          "executable": false
        },
        "2248": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1589": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not dir_path then",
          "executable": true
        },
        "1039": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        table.insert(path_segments, segment)",
          "executable": true
        },
        "2039": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local items",
          "executable": true
        },
        "2245": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if filename and filename:match(pattern) th...",
          "executable": true
        },
        "1007": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- with the appropriate \"../\" sequences.",
          "executable": false
        },
        "1664": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   fs.write_file(\"/var/app/data/output.txt\", \"C...",
          "executable": false
        },
        "1082": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function converts shell-style glob patter...",
          "executable": false
        },
        "2007": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if list...",
          "executable": false
        },
        "2173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                handle, err = io.popen(\"cd\")",
          "executable": true
        },
        "1173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Lua file detected\")",
          "executable": false
        },
        "2054": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local handle = io.popen('ls -a \"' .. c...",
          "executable": true
        },
        "1054": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "2211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if the ...",
          "executable": false
        },
        "1143": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    pattern = pattern:gsub(\"%*%*\", \"**GLOBSTAR**\")",
          "executable": true
        },
        "2240": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "226": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if writ...",
          "executable": false
        },
        "326": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "426": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1765": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "626": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local normalized_path = fs.normalize_path(...",
          "executable": true
        },
        "726": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if path:sub(1, 1) == \"/\" then",
          "executable": true
        },
        "826": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Normalize the path first",
          "executable": false
        },
        "926": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"\" (empty string)",
          "executable": false
        },
        "2238": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, err or \"Failed to list files\"",
          "executable": true
        },
        "2237": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not files then",
          "executable": true
        },
        "2236": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2235": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "2234": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        files, err = fs.list_files(dir_path)",
          "executable": true
        },
        "528": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if fs.directory_exists(path) then",
          "executable": true
        },
        "1086": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "126": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_current_directory fun(): string|nil,...",
          "executable": false
        },
        "2229": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err",
          "executable": true
        },
        "2228": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local files",
          "executable": true
        },
        "1094": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "2094": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param start_dir? string The directory to star...",
          "executable": false
        },
        "2227": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Use list_files or list_files_recursive base...",
          "executable": false
        },
        "1382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local files = fs.scan_directory(\"/home/user/do...",
          "executable": false
        },
        "2225": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    recursive = recursive or false",
          "executable": true
        },
        "2224": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Default to non-recursive",
          "executable": false
        },
        "2223": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2222": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1154": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1492": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Translate basic glob patterns to Lua patter...",
          "executable": false
        },
        "1516": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                table.insert(matches, file)",
          "executable": true
        },
        "2218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Pattern is required\"",
          "executable": true
        },
        "2217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not pattern then",
          "executable": true
        },
        "1265": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Find all Lua files in the current project",
          "executable": false
        },
        "2214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Directory path is required\"",
          "executable": true
        },
        "1091": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Convert simple file extension glob",
          "executable": false
        },
        "2091": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- common project marker files like .git, package...",
          "executable": false
        },
        "2213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not dir_path then",
          "executable": true
        },
        "2212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.find_files(dir_path, pattern, recursiv...",
          "executable": true
        },
        "1243": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "2243": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, file_path in ipairs(files) do",
          "executable": true
        },
        "1673": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.directory_exists(path)",
          "executable": true
        },
        "2210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table<number, string>|nil files List o...",
          "executable": false
        },
        "2208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param pattern string The Lua pattern to match...",
          "executable": false
        },
        "527": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1523": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- the given Lua pattern. It can optionally searc...",
          "executable": false
        },
        "2204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function searches for files in the specif...",
          "executable": false
        },
        "2203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Find files in a directory that match a pattern...",
          "executable": false
        },
        "1369": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "2239": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1528": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It filters the results to include only files (...",
          "executable": false
        },
        "2197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if err then",
          "executable": true
        },
        "1239": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "2196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Error getting current directo...",
          "executable": true
        },
        "1194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Direct match for simple cases",
          "executable": false
        },
        "2195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "2191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "1254": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This advanced function performs recursive file...",
          "executable": false
        },
        "1392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not fs.directory_exists(path) then return {...",
          "executable": true
        },
        "2189": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return current_dir",
          "executable": true
        },
        "1165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to test",
          "executable": false
        },
        "1616": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return files",
          "executable": true
        },
        "948": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "2186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                return nil, \"Failed to get current...",
          "executable": true
        },
        "2185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not current_dir or current_dir == \"...",
          "executable": true
        },
        "244": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "2181": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "2179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                return nil, \"Failed to execute cur...",
          "executable": true
        },
        "2177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "2176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "1773": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if is_windows() then",
          "executable": true
        },
        "1710": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "2174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            else",
          "executable": true
        },
        "169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error An error message if t...",
          "executable": false
        },
        "269": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to the file to append ...",
          "executable": false
        },
        "369": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "469": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Handle recursive creation",
          "executable": false
        },
        "569": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                if not result then",
          "executable": true
        },
        "669": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.normalize_path(path)",
          "executable": true
        },
        "769": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local component = fs.normalize_path(ar...",
          "executable": true
        },
        "1628": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "969": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Convert a relative path to absolute",
          "executable": false
        },
        "2172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if is_windows() then",
          "executable": true
        },
        "1124": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "2124": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"Gemfile\",      -- Ruby projects",
          "executable": true
        },
        "1384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Found file: \" .. file_path)",
          "executable": false
        },
        "2182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local current_dir = handle:read(\"*l\")",
          "executable": true
        },
        "1294": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local function process_directory(dir, curr...",
          "executable": true
        },
        "2165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.get_current_directory()",
          "executable": true
        },
        "2163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return string|nil current_dir The current work...",
          "executable": false
        },
        "2162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the current working directory",
          "executable": false
        },
        "2161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "633": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"Failed to execute directo...",
          "executable": true
        },
        "2154": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1511": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "2097": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if an e...",
          "executable": false
        },
        "2148": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Move up to parent directory",
          "executable": false
        },
        "2147": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "2146": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1840": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "2145": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "2144": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                return dir",
          "executable": true
        },
        "2051": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            handle:close()",
          "executable": true
        },
        "1051": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for i = 1, min_length do",
          "executable": true
        },
        "2143": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if fs.file_exists(marker_path) or fs.d...",
          "executable": true
        },
        "911": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function extracts just the extension part...",
          "executable": false
        },
        "2078": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    scan(item_path)",
          "executable": true
        },
        "2138": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Search upwards from start_dir",
          "executable": false
        },
        "2137": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2136": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local dir = fs.normalize_path(start_dir)",
          "executable": true
        },
        "1370": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "2134": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2131": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \".project\",     -- Eclipse projects",
          "executable": true
        },
        "2130": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"README.md\",    -- Common in project roots",
          "executable": true
        },
        "2128": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \".hg\",          -- Mercurial repositories",
          "executable": true
        },
        "2126": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"Makefile\",     -- Make-based projects",
          "executable": true
        },
        "2125": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"composer.json\", -- PHP projects",
          "executable": true
        },
        "2123": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \".svn\",         -- SVN repositories",
          "executable": true
        },
        "2122": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"build.gradle\", -- Gradle projects",
          "executable": true
        },
        "2118": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"package.json\", -- Node.js projects",
          "executable": true
        },
        "2117": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \".git\",         -- Git repositories",
          "executable": true
        },
        "2116": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    markers = markers or {",
          "executable": true
        },
        "2114": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2113": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "2112": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Failed to get current directo...",
          "executable": true
        },
        "396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Delete a file with error checking",
          "executable": false
        },
        "2110": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    start_dir = start_dir or fs.get_current_direct...",
          "executable": true
        },
        "2108": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.detect_project_root(start_dir, markers...",
          "executable": true
        },
        "237": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- fs.write_file(\"/new/directory/structure/file.t...",
          "executable": false
        },
        "1436": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table matches List of matching file pa...",
          "executable": false
        },
        "1940": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- for _, file_path in ipairs(files) do",
          "executable": false
        },
        "2102": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if root_dir then",
          "executable": false
        },
        "1780": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- stat command for Unix-like systems",
          "executable": false
        },
        "1235": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                print(\"PATTERN_DEBUG: Converted gl...",
          "executable": true
        },
        "1151": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Put back the globstar and replace with matc...",
          "executable": false
        },
        "2151": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Break if we can't go higher or we're at...",
          "executable": false
        },
        "1032": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Make both absolute",
          "executable": false
        },
        "2095": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param markers? table List of marker files/dir...",
          "executable": false
        },
        "2059": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "                -- Skip . and ..",
          "executable": false
        },
        "1147": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2086": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2085": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    scan(dir_path)",
          "executable": true
        },
        "2082": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "2081": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "2079": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                end",
          "executable": true
        },
        "2139": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    while dir and dir ~= \"\" do",
          "executable": true
        },
        "1139": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Escape magic characters except * and ?",
          "executable": false
        },
        "738": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        },
        "2076": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                elseif fs.is_directory(item_path) ...",
          "executable": true
        },
        "900": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return filename",
          "executable": true
        },
        "2074": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                if fs.is_file(item_path) then",
          "executable": true
        },
        "2072": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                local item_path = fs.join_paths(cu...",
          "executable": true
        },
        "366": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not fs.file_exists(src) then",
          "executable": true
        },
        "104": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field append_file fun(file_path: string, conte...",
          "executable": false
        },
        "2067": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "2063": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "1092": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local pattern = fs.glob_to_pattern(\"*.lua\")",
          "executable": false
        },
        "2092": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- upwards. It's useful for making file operation...",
          "executable": false
        },
        "874": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.get_file_name(path)",
          "executable": true
        },
        "2055": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not handle then return end",
          "executable": true
        },
        "2053": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Unix-like systems",
          "executable": false
        },
        "2052": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "1480": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "570": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    err = \"Failed to remove direct...",
          "executable": true
        },
        "1975": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "529": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return true",
          "executable": true
        },
        "902": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "891": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "689": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if #parts > 0 and parts[#parts] ~= \".....",
          "executable": true
        },
        "195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to the file to read",
          "executable": false
        },
        "295": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "495": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, err or \"Unknown error crea...",
          "executable": true
        },
        "595": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- specified directory. It uses platform-specific...",
          "executable": false
        },
        "695": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                table.insert(parts, part) -- Keep ...",
          "executable": true
        },
        "795": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function extracts the directory component...",
          "executable": false
        },
        "895": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- If nothing found, the path might be emp...",
          "executable": false
        },
        "995": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "10": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - File operations: read, write, append, copy, ...",
          "executable": false
        },
        "1111": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "35": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - File operations: reading, writing, appending...",
          "executable": false
        },
        "2207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param dir_path string The directory to search...",
          "executable": false
        },
        "1207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Match \"examples/*.lua\" - any Lua file i...",
          "executable": false
        },
        "427": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return true",
          "executable": true
        },
        "227": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1875": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   if fs.is_file(full_path) then",
          "executable": false
        },
        "1408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for _, item in ipairs(contents) do",
          "executable": true
        },
        "321": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- fs.copy_file(\"/templates/default_profile.json\"...",
          "executable": false
        },
        "829": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Special case for root directory",
          "executable": false
        },
        "825": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "91": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field discover_files fun(directories: table, ...",
          "executable": false
        },
        "61": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field list_files fun(dir_path: string, includ...",
          "executable": false
        },
        "406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Delete a temporary file",
          "executable": false
        },
        "506": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to ensure exists",
          "executable": false
        },
        "206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- ",
          "executable": false
        },
        "306": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "806": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "906": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1980": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "706": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if has_drive_letter and path:sub(2, 2) == \":\" ...",
          "executable": true
        },
        "40": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Platform independence: consistent behavior a...",
          "executable": false
        },
        "729": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return \".\"",
          "executable": true
        },
        "1101": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- This will match any .js file in src or any ...",
          "executable": false
        },
        "768": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for i = 2, #args do",
          "executable": true
        },
        "2077": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "                    -- Recursively scan subdirecto...",
          "executable": false
        },
        "106": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field directory_exists fun(dir_path: string): ...",
          "executable": false
        },
        "733": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Handle trailing slash - preserve only if or...",
          "executable": false
        },
        "337": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"Failed to write destinati...",
          "executable": true
        },
        "437": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean|nil success True if creation w...",
          "executable": false
        },
        "537": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1802": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- timestamp (seconds since epoch). It uses platf...",
          "executable": false
        },
        "725": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if result == \"\" then",
          "executable": true
        },
        "2107": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local root_dir = fs.detect_project_root(\"/path...",
          "executable": false
        },
        "333": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return",
          "executable": false
        },
        "1107": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return \"^.+%.lua$\"",
          "executable": true
        },
        "533": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Delete a directory, with optional recursive de...",
          "executable": false
        },
        "1777": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            path",
          "executable": true
        },
        "1451": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the file extension from a file path",
          "executable": false
        },
        "241": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not file_path or file_path == \"\" then",
          "executable": true
        },
        "441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Create a nested directory structure",
          "executable": false
        },
        "187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1873": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- for _, item_name in ipairs(items) do",
          "executable": false
        },
        "387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local del_success, del_err = fs.delete_fil...",
          "executable": true
        },
        "1680": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "312": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "636": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for file in handle:lines() do",
          "executable": true
        },
        "1865": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- versus directories.",
          "executable": false
        },
        "1440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local all_files = fs.scan_directory(\"/path/to/...",
          "executable": false
        },
        "20": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Generic interface: All functions usable in a...",
          "executable": false
        },
        "336": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not success then",
          "executable": true
        },
        "1757": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- print(\"File was last modified: \" .. date_strin...",
          "executable": false
        },
        "355": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Move a temporary file to its final location",
          "executable": false
        },
        "655": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil normalized Path with standa...",
          "executable": false
        },
        "554": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not fs.directory_exists(dir_path) then",
          "executable": true
        },
        "1839": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        )",
          "executable": true
        },
        "1361": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return matches",
          "executable": true
        },
        "1537": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local files, err = fs.get_files(\"/path/to/dir\"...",
          "executable": false
        },
        "1807": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return number|nil timestamp Creation time as ...",
          "executable": false
        },
        "351": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean|nil success True if move was s...",
          "executable": false
        },
        "251": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local dir = fs.get_directory_name(file_pat...",
          "executable": true
        },
        "646": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end, path)",
          "executable": true
        },
        "1223": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Convert glob to Lua pattern and per...",
          "executable": false
        },
        "1334": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "                    ",
          "executable": false
        },
        "384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"Failed to move file (fall...",
          "executable": true
        },
        "484": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                err = \"Failed to create directory ...",
          "executable": true
        },
        "994": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return fs.join_paths(current_dir, path)",
          "executable": true
        },
        "1184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path or not pattern then return false e...",
          "executable": true
        },
        "661": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "687": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        elseif part == \"..\" then",
          "executable": true
        },
        "101": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field _VERSION string Module version",
          "executable": false
        },
        "1551": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table|nil entries Array of file/direct...",
          "executable": false
        },
        "179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "131": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field glob fun(pattern: string, base_dir?: str...",
          "executable": false
        },
        "54": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field ensure_directory_exists fun(dir_path: s...",
          "executable": false
        },
        "1973": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1730": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not file then",
          "executable": true
        },
        "449": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- fs.create_directory(home_dir .. \"/app_data/use...",
          "executable": false
        },
        "292": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "651": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- trailing slashes, and makes paths consistent a...",
          "executable": false
        },
        "1540": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return",
          "executable": false
        },
        "2158": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1158": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return pattern",
          "executable": true
        },
        "631": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local handle = io.popen(command)",
          "executable": true
        },
        "629": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            or 'ls -1 \"' .. normalized_path .. '\" ...",
          "executable": true
        },
        "143": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Internal utility functions",
          "executable": false
        },
        "602": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "624": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "159": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This utility function wraps I/O operations in ...",
          "executable": false
        },
        "1437": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1707": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return number|nil size File size in bytes or ...",
          "executable": false
        },
        "591": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end, path, recursive)",
          "executable": true
        },
        "1964": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for file in handle:lines() do",
          "executable": true
        },
        "984": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, result, err = error_handler.try...",
          "executable": true
        },
        "1414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1084": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It supports standard glob features including *...",
          "executable": false
        },
        "462": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if fs.directory_exists(dir_path) then",
          "executable": true
        },
        "262": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return true",
          "executable": true
        },
        "162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- should use this wrapper for consistent error h...",
          "executable": false
        },
        "605": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not items then",
          "executable": false
        },
        "515": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return",
          "executable": false
        },
        "600": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if list...",
          "executable": false
        },
        "596": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- and handles errors appropriately.",
          "executable": false
        },
        "200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Read a configuration file",
          "executable": false
        },
        "300": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Check if a file matches an extension patter...",
          "executable": false
        },
        "1852": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2046": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            items = {}",
          "executable": true
        },
        "1046": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1650": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "1376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Directory path to scan",
          "executable": false
        },
        "2251": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1251": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1640": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   fs.copy_file(backup_file_path, original_file...",
          "executable": false
        },
        "2058": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            for item in handle:lines() do",
          "executable": true
        },
        "1256": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- symlinks and provides a comprehensive file dis...",
          "executable": false
        },
        "1614": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Clean up after processing",
          "executable": false
        },
        "491": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "1000": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "565": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                end",
          "executable": true
        },
        "365": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return safe_io_action(function(src, dst)",
          "executable": true
        },
        "1125": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- For other patterns, convert remainder t...",
          "executable": false
        },
        "1864": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- correct file type. This is useful when you nee...",
          "executable": false
        },
        "389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- We copied successfully but couldn't...",
          "executable": false
        },
        "1069": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        table.insert(result, path_segments[i])",
          "executable": true
        },
        "2069": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for _, item in ipairs(items) do",
          "executable": true
        },
        "1737": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return size",
          "executable": true
        },
        "141": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Module version",
          "executable": false
        },
        "614": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     print(\"File: \" .. item_name)",
          "executable": false
        },
        "1577": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1453": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string The file path",
          "executable": false
        },
        "1571": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "430": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Directory Operations",
          "executable": false
        },
        "194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "864": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local name = fs.get_file_name(\"/home/user/docu...",
          "executable": false
        },
        "564": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    err = \"Failed to remove direct...",
          "executable": true
        },
        "1135": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "964": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to convert",
          "executable": false
        },
        "1146": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    pattern = pattern:gsub(\"%*\", \"[^/]*\")",
          "executable": true
        },
        "1580": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if line ~= \".\" and line ~= \"..\" then",
          "executable": true
        },
        "1965": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Skip hidden files if not including ...",
          "executable": false
        },
        "1900": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1351": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "1033": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local abs_path = fs.get_absolute_path(norm_pat...",
          "executable": true
        },
        "1538": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not files then",
          "executable": false
        },
        "1740": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function retrieves the last modification ...",
          "executable": false
        },
        "1253": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Find files matching patterns in specified dire...",
          "executable": false
        },
        "1011": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil relative_path Path relative...",
          "executable": false
        },
        "1739": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the last modified timestamp of a file or d...",
          "executable": false
        },
        "1534": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1637": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local success, err = some_function()",
          "executable": false
        },
        "1400": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local absolute_path = fs.get_absolute_path...",
          "executable": true
        },
        "522": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.ensure_directory_exists(path)",
          "executable": true
        },
        "1531": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param pattern? string Optional file matching ...",
          "executable": false
        },
        "322": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.copy_file(source, destination)",
          "executable": true
        },
        "1522": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "2169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "1169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "344": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function moves a file from one location t...",
          "executable": false
        },
        "444": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Failed to create directory: \" .. (err...",
          "executable": false
        },
        "420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "465": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "144": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Detect if running on Windows operating system",
          "executable": false
        },
        "115": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_file_size fun(file_path: string): nu...",
          "executable": false
        },
        "1028": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Normalize both paths",
          "executable": false
        },
        "1030": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local norm_base = fs.normalize_path(base)",
          "executable": true
        },
        "854": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function extracts just the file name comp...",
          "executable": false
        },
        "1031": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1242": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return path == pattern",
          "executable": true
        },
        "1600": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Failed to list directory: \" ....",
          "executable": true
        },
        "1841": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- stat command for Unix-like systems (bir...",
          "executable": false
        },
        "1825": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"File was created within the last week...",
          "executable": false
        },
        "1396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "556": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "75": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field get_directory fun(file_path: string): s...",
          "executable": false
        },
        "1454": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string extension The file extension (w...",
          "executable": false
        },
        "256": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "156": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @type string",
          "executable": false
        },
        "1037": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local path_segments = {}",
          "executable": true
        },
        "1330": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                            match = true",
          "executable": true
        },
        "1038": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for segment in abs_path:gmatch(\"[^/]+\") do",
          "executable": true
        },
        "551": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- fs.delete_directory(\"/tmp/build_artifacts\", tr...",
          "executable": false
        },
        "856": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- slashes and empty paths.",
          "executable": false
        },
        "756": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"/var/log/apache2/error.log\"",
          "executable": false
        },
        "1300": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Get directory contents",
          "executable": false
        },
        "956": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, result  -- On failure, result ...",
          "executable": true
        },
        "606": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Failed to list directory: \" .. (err o...",
          "executable": false
        },
        "1487": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Simple wildcard test for \"*.lua\" pattern fo...",
          "executable": false
        },
        "1237": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "274": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1068": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for i = common_length + 1, #path_segments do",
          "executable": true
        },
        "1072": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Handle empty result (same directory)",
          "executable": false
        },
        "1824": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if creation_time and (now - creation_time) < o...",
          "executable": false
        },
        "644": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "944": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- If no extension found, return empty str...",
          "executable": false
        },
        "1077": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Join segments",
          "executable": false
        },
        "1912": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   for _, subdir in ipairs(fs.list_directories(...",
          "executable": false
        },
        "1078": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return table.concat(result, \"/\")",
          "executable": true
        },
        "1079": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param recursive boolean Whether to scan recur...",
          "executable": false
        },
        "581": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                return nil, \"Directory not empty\"",
          "executable": true
        },
        "1081": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Convert a glob pattern to a Lua pattern for ma...",
          "executable": false
        },
        "1725": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not fs.file_exists(path) then",
          "executable": true
        },
        "1941": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   if fs.get_extension(file_path) == \"lua\" then",
          "executable": false
        },
        "1711": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Check file size before processing",
          "executable": false
        },
        "1496": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    lua_pattern = lua_pattern:gsub(\"%?\", \".\")    -...",
          "executable": true
        },
        "1373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- If the recursive parameter is true, it will sc...",
          "executable": false
        },
        "1733": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param action fun(...): T The I/O operation fu...",
          "executable": false
        },
        "266": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function appends a string to the end of t...",
          "executable": false
        },
        "1230": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "2230": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1270": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   {\"/home/user/project/src\", \"/home/user/proje...",
          "executable": false
        },
        "1200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- HOTFIX: Handle specific coverage patter...",
          "executable": false
        },
        "766": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, result, err = error_handler.try...",
          "executable": true
        },
        "866": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "966": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if conv...",
          "executable": false
        },
        "648": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Path Manipulation",
          "executable": false
        },
        "1387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Recursively scan a project directory",
          "executable": false
        },
        "1357": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                process_directory(dir, dir)",
          "executable": true
        },
        "700": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "224": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @param content string Content to write to the ...",
          "executable": false
        },
        "946": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return \"\"",
          "executable": true
        },
        "1089": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1097": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- This will match file1.txt, fileA.txt, etc.",
          "executable": false
        },
        "1724": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.get_file_size(path)",
          "executable": true
        },
        "1098": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1812": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local timestamp, err = fs.get_creation_time(\"/...",
          "executable": false
        },
        "1099": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Convert pattern with ** (recursive) wildcar...",
          "executable": false
        },
        "1058": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1337": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                        for _, ex_pattern in ipair...",
          "executable": true
        },
        "1800": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the creation timestamp of a file or direct...",
          "executable": false
        },
        "934": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Use proper pattern for handling error_handl...",
          "executable": false
        },
        "834": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Special case for paths ending with slash",
          "executable": false
        },
        "1196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if debug_mode then print(\"PATTERN_DEBU...",
          "executable": true
        },
        "1641": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "1956": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1833": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local command",
          "executable": true
        },
        "676": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    result = string.gsub(result, \"//+\", \"/\")",
          "executable": true
        },
        "576": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "476": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "734": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if path:sub(-1) == \"/\" and #result > 1 then",
          "executable": true
        },
        "546": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not success then",
          "executable": false
        },
        "976": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1130": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        remainder = remainder:gsub(\"%*%*GLOBSTAR%*...",
          "executable": true
        },
        "1284": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Use proper pattern for handling error_handl...",
          "executable": false
        },
        "1103": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not glob then return nil end",
          "executable": true
        },
        "1035": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1108": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif glob == \"*.txt\" then",
          "executable": true
        },
        "1110": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1429": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function takes a list of file paths and r...",
          "executable": false
        },
        "1100": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local pattern = fs.glob_to_pattern(\"src/**/*.j...",
          "executable": false
        },
        "1287": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        patterns = patterns or {\"*\"}",
          "executable": true
        },
        "45": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "538": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to the directory to de...",
          "executable": false
        },
        "638": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "456": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1712": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local size, err = fs.get_file_size(\"/path/to/d...",
          "executable": false
        },
        "356": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local success, err = fs.move_file(\"/tmp/upload...",
          "executable": false
        },
        "656": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "454": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"Invalid directory path: p...",
          "executable": true
        },
        "1533": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if the ...",
          "executable": false
        },
        "1062": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Add \"../\" for each segment in base after co...",
          "executable": false
        },
        "1500": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "154": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Platform-specific path separator character",
          "executable": false
        },
        "1741": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Unix timestamp (seconds since epoch). It uses ...",
          "executable": false
        },
        "1296": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local absolute_path = fs.get_absolute_...",
          "executable": true
        },
        "1925": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- platform-specific commands for optimal perform...",
          "executable": false
        },
        "186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "686": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Skip \".\" components (current direct...",
          "executable": false
        },
        "786": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "486": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "1868": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean is_file True if the path exist...",
          "executable": false
        },
        "1070": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1117": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "886": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "2030": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not fs.directory_exists(dir_path) then",
          "executable": true
        },
        "136": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local error_handler = require(\"lib.tools.error_han...",
          "executable": true
        },
        "236": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Create a new file in a directory that might...",
          "executable": false
        },
        "924": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Handle files without extensions",
          "executable": false
        },
        "2070": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Skip hidden files/directories if no...",
          "executable": false
        },
        "466": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Normalize path first to handle trailing...",
          "executable": false
        },
        "1947": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local all_files = fs.list_files(\"/home/user\", ...",
          "executable": false
        },
        "1529": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "2187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "1123": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1924": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- included by setting the include_hidden paramet...",
          "executable": false
        },
        "120": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field normalize_path fun(path: string): string...",
          "executable": false
        },
        "1128": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        remainder = remainder:gsub(\"%*\", \"[^/]*\")",
          "executable": true
        },
        "559": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local result, err = nil, nil",
          "executable": true
        },
        "376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "776": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                if component:sub(1, 1) == \"/\" and ...",
          "executable": true
        },
        "1612": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "1633": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Configuration file not found\")",
          "executable": false
        },
        "876": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1006": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It finds the common prefix between the paths a...",
          "executable": false
        },
        "1142": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Replace ** with a special marker (must be d...",
          "executable": false
        },
        "1756": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local date_string = os.date(\"%Y-%m-%d %H:%M:%S...",
          "executable": false
        },
        "1425": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    scan(path)",
          "executable": true
        },
        "2087": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return results",
          "executable": true
        },
        "621": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not fs.directory_exists(dir_path) then",
          "executable": true
        },
        "986": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if path:sub(1, 1) == \"/\" or (is_windows() ...",
          "executable": true
        },
        "1968": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                if fs.is_file(full_path) then",
          "executable": true
        },
        "1510": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local filename = fs.get_file_name(file)",
          "executable": true
        },
        "1187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, result, err = error_handler.try...",
          "executable": true
        },
        "1211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1040": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "566": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            else",
          "executable": true
        },
        "1087": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param glob string Glob pattern to convert",
          "executable": false
        },
        "1203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if debug_mode then print(\"PATTERN_DEBU...",
          "executable": true
        },
        "1611": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                table.insert(files, full_path)",
          "executable": true
        },
        "1185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1847": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Failed to execute command to ...",
          "executable": true
        },
        "1424": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1181": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Simple exact matching still works",
          "executable": false
        },
        "1629": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Check before reading a configuration file",
          "executable": false
        },
        "298": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return true",
          "executable": true
        },
        "398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- doesn't exist, the operation is considered suc...",
          "executable": false
        },
        "534": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function removes a directory from the fil...",
          "executable": false
        },
        "1679": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- handles validation, normalization, and platfor...",
          "executable": false
        },
        "1177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if fs.matches_pattern(\"src/components/Button.j...",
          "executable": false
        },
        "1179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1118": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- If remainder is just a file extension p...",
          "executable": false
        },
        "1700": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1512": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Special case for file extension pattern...",
          "executable": false
        },
        "1333": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    end",
          "executable": true
        },
        "1999": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- specified directory and all of its subdirector...",
          "executable": false
        },
        "1208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if pattern == \"examples/*.lua\" and path:ma...",
          "executable": true
        },
        "1748": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1856": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Failed to parse timestamp: \" ...",
          "executable": true
        },
        "1325": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                        end",
          "executable": true
        },
        "1598": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local entries, err = fs.list_directory(dir_pat...",
          "executable": true
        },
        "1668": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "586": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                return nil, \"Failed to remove dire...",
          "executable": true
        },
        "386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "286": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Ensure parent directory exists",
          "executable": false
        },
        "858": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to process",
          "executable": false
        },
        "869": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result: \"\" (empty string because this is a ...",
          "executable": false
        },
        "1648": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return true",
          "executable": true
        },
        "90": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field find_directories fun(dir_path: string, ...",
          "executable": false
        },
        "2096": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil root_dir The detected proje...",
          "executable": false
        },
        "1096": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local pattern = fs.glob_to_pattern(\"file?.txt\"...",
          "executable": false
        },
        "415": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1324": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                            break",
          "executable": true
        },
        "1811": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get and display a file's creation date",
          "executable": false
        },
        "276": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local success, err = fs.append_file(\"/var/log/...",
          "executable": false
        },
        "1747": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if gett...",
          "executable": false
        },
        "811": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Handle root directory",
          "executable": false
        },
        "711": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1779": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1257": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return T|nil result The result of the action ...",
          "executable": false
        },
        "637": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            table.insert(files, file)",
          "executable": true
        },
        "1299": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "666": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Paths with single root slash are preserved",
          "executable": false
        },
        "1206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local is_dir = fs.is_directory(item_pa...",
          "executable": true
        },
        "1433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1625": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to the file to check",
          "executable": false
        },
        "536": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- If recursive is false, the directory must be e...",
          "executable": false
        },
        "436": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to the directory to cr...",
          "executable": false
        },
        "1681": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Normalize path to handle trailing slashes",
          "executable": false
        },
        "1768": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not (fs.file_exists(path) or fs.directory_e...",
          "executable": true
        },
        "1880": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Check a path's type before performing an op...",
          "executable": false
        },
        "838": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "158": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Safely execute an I/O operation with error han...",
          "executable": false
        },
        "458": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if dir_path:match(\"[*?<>|]\") then",
          "executable": true
        },
        "1059": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Build relative path",
          "executable": false
        },
        "1281": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.discover_files(directories, patterns, ...",
          "executable": true
        },
        "1549": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "11": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Directory operations: create, delete, list, ...",
          "executable": false
        },
        "936": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local filename = fs.get_file_name(path)",
          "executable": true
        },
        "836": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return normalized:sub(1, -2)",
          "executable": true
        },
        "736": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "968": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "318": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1647": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file:close()",
          "executable": true
        },
        "1624": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "2100": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Detect project root from current directory",
          "executable": false
        },
        "1879": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "249": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1291": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local processed = {}",
          "executable": true
        },
        "1295": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Avoid infinite loops from symlinks",
          "executable": false
        },
        "1102": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.glob_to_pattern(glob)",
          "executable": true
        },
        "1314": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                elseif is_file then  -- Only proce...",
          "executable": true
        },
        "379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if ok then return true end",
          "executable": true
        },
        "1318": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "                    -- Check if file matches any i...",
          "executable": false
        },
        "1178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"React component file detected\")",
          "executable": false
        },
        "1327": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "                        -- More complex pattern ma...",
          "executable": false
        },
        "1312": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                if is_dir then",
          "executable": true
        },
        "1656": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- directories and paths with trailing slashes.",
          "executable": false
        },
        "1525": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "346": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- across filesystems), it falls back to a copy-a...",
          "executable": false
        },
        "446": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "146": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- is running on Windows by examining the path se...",
          "executable": false
        },
        "246": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if file_path:match(\"[*?<>|]\") then",
          "executable": true
        },
        "1340": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                                match = false",
          "executable": true
        },
        "1343": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                        end",
          "executable": true
        },
        "1727": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "362": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Rename a file in the same directory",
          "executable": false
        },
        "1349": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    end",
          "executable": true
        },
        "512": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local success, err = fs.ensure_directory_exist...",
          "executable": false
        },
        "1468": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1353": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "746": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil joined_path Joined path or ...",
          "executable": false
        },
        "846": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "2006": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string[]|nil files List of absolute fi...",
          "executable": false
        },
        "762": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local args = {...}",
          "executable": true
        },
        "1524": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return matches",
          "executable": true
        },
        "1365": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if success then",
          "executable": true
        },
        "1979": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"Failed to execute ls comm...",
          "executable": true
        },
        "2200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1547": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function returns a list of all files and ...",
          "executable": false
        },
        "1371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Scan a directory for files with optional recur...",
          "executable": false
        },
        "2025": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "1374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function safely handles circular symlinks...",
          "executable": false
        },
        "1375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1025": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.get_relative_path(path, base)",
          "executable": true
        },
        "1233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local match = path:match(lua_pattern) ...",
          "executable": true
        },
        "1610": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not pattern or fs.matches_pattern(e...",
          "executable": true
        },
        "728": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "2233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "310": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if copy...",
          "executable": false
        },
        "1481": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Simple extension pattern (e.g., \"*.lua\")",
          "executable": false
        },
        "1356": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if fs.directory_exists(dir) then",
          "executable": true
        },
        "1389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- print(\"Project contains \" .. #all_files .. \" f...",
          "executable": false
        },
        "1391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path then return {} end",
          "executable": true
        },
        "1397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Scan a single directory",
          "executable": false
        },
        "385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "285": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return safe_io_action(function(file_path, data...",
          "executable": true
        },
        "1418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                end",
          "executable": true
        },
        "1413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local is_file = not is_dir and fs.file...",
          "executable": true
        },
        "749": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1189": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local debug_mode = os.getenv(\"FIRMO_DEBUG_...",
          "executable": true
        },
        "1426": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return results",
          "executable": true
        },
        "1568": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1430": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- the specified pattern. It supports both file e...",
          "executable": false
        },
        "1431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- more complex glob patterns. The matching is pe...",
          "executable": false
        },
        "1279": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   {\"*backup*\", \"*~\"}",
          "executable": false
        },
        "2242": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local matching_files = {}",
          "executable": true
        },
        "1434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param files table List of file paths to filte...",
          "executable": false
        },
        "2106": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Detect project root from a specific directo...",
          "executable": false
        },
        "1438": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "499": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end, path)",
          "executable": true
        },
        "1443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Filter files by a specific naming pattern",
          "executable": false
        },
        "1447": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Chain operations to find specific files",
          "executable": false
        },
        "1446": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1014": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get a path relative to a base directory",
          "executable": false
        },
        "1449": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local config_files = fs.find_matches(all_files...",
          "executable": false
        },
        "1410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1106": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if glob == \"*.lua\" then",
          "executable": true
        },
        "1463": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Returns the filename component (without direct...",
          "executable": false
        },
        "2014": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return",
          "executable": false
        },
        "1458": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local filename = fs.get_file_name(path)",
          "executable": true
        },
        "259": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1456": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path then return \"\" end",
          "executable": true
        },
        "1581": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            table.insert(entries, line)",
          "executable": true
        },
        "1469": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Handle both forward and backward slashes",
          "executable": false
        },
        "1470": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local filename = path:match(\"[^\\\\/]*$\")",
          "executable": true
        },
        "1471": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return filename or \"\"",
          "executable": true
        },
        "1475": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param filename string The filename to test",
          "executable": false
        },
        "1047": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Find common prefix",
          "executable": false
        },
        "1450": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local user_configs = fs.find_matches(config_fi...",
          "executable": false
        },
        "1491": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "422": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local ok, err = os.remove(file_path)",
          "executable": true
        },
        "1507": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local matches = {}",
          "executable": true
        },
        "1152": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Enhanced to properly handle path traversal",
          "executable": false
        },
        "2152": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not parent_dir or parent_dir == dir or ...",
          "executable": true
        },
        "1268": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Find specific file types while excluding te...",
          "executable": false
        },
        "1514": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local ext = pattern:match(\"^%*%.(%w+)$...",
          "executable": true
        },
        "2142": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local marker_path = fs.join_paths(dir,...",
          "executable": true
        },
        "1379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "2206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1530": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param dir_path string Directory to search for...",
          "executable": false
        },
        "1347": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    if match then",
          "executable": true
        },
        "1182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- fs.matches_pattern(\"LICENSE\", \"LICENSE\") -- re...",
          "executable": false
        },
        "1992": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        handle:close()",
          "executable": true
        },
        "1220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local contains_glob = pattern:match(\"%*\") ...",
          "executable": true
        },
        "1018": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Path that requires going up directories",
          "executable": false
        },
        "1225": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1114": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if glob:match(\"^%*%*/\") then",
          "executable": true
        },
        "1162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It handles both simple exact matching and comp...",
          "executable": false
        },
        "1385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "2033": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2011": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local all_files, err = fs.list_files_recursive...",
          "executable": false
        },
        "2018": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Find specific file types recursively",
          "executable": false
        },
        "2135": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Normalize start directory",
          "executable": false
        },
        "1197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return true",
          "executable": true
        },
        "55": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field remove_directory fun(dir_path: string, ...",
          "executable": false
        },
        "1283": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1550": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param dir_path string Directory to list",
          "executable": false
        },
        "1378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table files List of absolute file path...",
          "executable": false
        },
        "1552": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if the ...",
          "executable": false
        },
        "1553": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.list_directory(dir_path)",
          "executable": true
        },
        "1554": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not dir_path then",
          "executable": true
        },
        "1555": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"No directory path provided\"",
          "executable": true
        },
        "1556": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1559": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Directory does not exist: \" ....",
          "executable": true
        },
        "859": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil filename File name componen...",
          "executable": false
        },
        "1569": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Use ls command on Unix systems",
          "executable": false
        },
        "1570": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        command = string.format('ls -A \"%s\"', dir_...",
          "executable": true
        },
        "1368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, result  -- On failure, result ...",
          "executable": true
        },
        "1264": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "222": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1479": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not filename or not pattern then return fal...",
          "executable": true
        },
        "2042": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if is_windows() then",
          "executable": true
        },
        "526": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1247": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if success then",
          "executable": true
        },
        "2247": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "704": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2000": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- recursively. By default, it excludes hidden fi...",
          "executable": false
        },
        "1594": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Directory does not exist: \" ....",
          "executable": true
        },
        "185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, nil -- Return nil, nil for...",
          "executable": true
        },
        "1214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if pattern == \"*coverage*\" and path:match(...",
          "executable": true
        },
        "1042": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local base_segments = {}",
          "executable": true
        },
        "1601": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1602": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1607": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Only include files, not directories",
          "executable": false
        },
        "1381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get all files in the current directory (non...",
          "executable": false
        },
        "1140": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    pattern = pattern:gsub(\"([%^%$%(%)%%%.%[%]%+%-...",
          "executable": true
        },
        "1383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- for _, file_path in ipairs(files) do",
          "executable": false
        },
        "2035": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "481": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Use mkdir command on Windows",
          "executable": false
        },
        "1622": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- and read permissions. This is useful for valid...",
          "executable": false
        },
        "1623": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- performing operations on them.",
          "executable": false
        },
        "622": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"Directory does not exist:...",
          "executable": true
        },
        "1631": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local content = fs.read_file(\"/etc/app/confi...",
          "executable": false
        },
        "608": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local config = json.decode(content)",
          "executable": false
        },
        "1634": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1635": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1638": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not success and fs.file_exists(backup_file_...",
          "executable": false
        },
        "1643": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path then return false end",
          "executable": true
        },
        "1228": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                if debug_mode then print(\"PATTERN_...",
          "executable": true
        },
        "1649": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1364": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Properly handle the result of error_handler...",
          "executable": false
        },
        "1657": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1579": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Skip current and parent directory entri...",
          "executable": false
        },
        "1667": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1669": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Conditionally create a directory if it does...",
          "executable": false
        },
        "1671": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   fs.create_directory(log_dir)",
          "executable": false
        },
        "1674": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path or path == \"\" then return false en...",
          "executable": true
        },
        "1677": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if path:match(\"[*?<>|]\") then",
          "executable": true
        },
        "1716": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1683": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "791": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, result  -- On failure, result ...",
          "executable": true
        },
        "1689": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check if the path exists and is a directory",
          "executable": false
        },
        "625": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local files = {}",
          "executable": true
        },
        "1694": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return result == true or result == 0",
          "executable": true
        },
        "421": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if fs.matches_pattern(\"script.lua\", \"*.lua\") t...",
          "executable": false
        },
        "1796": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1881": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if fs.is_file(path) then",
          "executable": false
        },
        "1063": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for i = common_length + 1, #base_segments do",
          "executable": true
        },
        "1706": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string Path to the file to check",
          "executable": false
        },
        "1642": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function fs.file_exists(path)",
          "executable": true
        },
        "2175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                handle, err = io.popen(\"pwd\")",
          "executable": true
        },
        "1175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "710": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            result = path:sub(1, 2) .. \"/\"",
          "executable": true
        },
        "793": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "122": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_directory fun(file_path: string): st...",
          "executable": false
        },
        "892": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Find filename after last slash",
          "executable": false
        },
        "1692": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- On Windows, use dir command to check if...",
          "executable": false
        },
        "1717": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "130": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field create_temp_directory fun(prefix?: strin...",
          "executable": false
        },
        "599": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table|nil files List of file and direc...",
          "executable": false
        },
        "540": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean|nil success True if deletion w...",
          "executable": false
        },
        "583": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "492": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1728": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "489": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not result then",
          "executable": true
        },
        "1887": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path then return false end",
          "executable": true
        },
        "381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- If rename fails (potentially across fil...",
          "executable": false
        },
        "1816": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "482": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            result = os.execute('mkdir \"' .. norma...",
          "executable": true
        },
        "520": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   fs.write_file(output_dir .. \"/output.txt\", \"...",
          "executable": false
        },
        "1273": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- )",
          "executable": false
        },
        "1734": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local size = file:seek(\"end\")",
          "executable": true
        },
        "1735": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file:close()",
          "executable": true
        },
        "881": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return \"\"",
          "executable": true
        },
        "662": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Normalize path with duplicate slashes",
          "executable": false
        },
        "1896": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1981": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "961": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- on the current working directory. If the path ...",
          "executable": false
        },
        "953": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if success then",
          "executable": true
        },
        "1012": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1311": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "                -- Recursively process directories",
          "executable": false
        },
        "1075": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "2075": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    table.insert(results, item_pat...",
          "executable": true
        },
        "759": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local path = fs.join_paths(\"/usr\", \"/local/bin...",
          "executable": false
        },
        "500": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "243": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1749": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1750": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Check when a file was last modified",
          "executable": false
        },
        "1592": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1751": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local timestamp, err = fs.get_modified_time(\"/...",
          "executable": false
        },
        "649": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Normalize a path for cross-platform consistenc...",
          "executable": false
        },
        "1053": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            common_length = i",
          "executable": true
        },
        "630": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1010": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param base string Base path to make relative ...",
          "executable": false
        },
        "579": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local contents = fs.get_directory_cont...",
          "executable": true
        },
        "831": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return \"/\"",
          "executable": true
        },
        "1828": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not path then return nil, \"No path provided...",
          "executable": true
        },
        "1043": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for segment in abs_base:gmatch(\"[^/]+\") do",
          "executable": true
        },
        "1787": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "765": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Use proper pattern for handling error_handl...",
          "executable": false
        },
        "1763": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if mod_time and (now - mod_time) > one_day the...",
          "executable": false
        },
        "1769": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Path does not exist: \" .. pat...",
          "executable": true
        },
        "497": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "797": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- without directory components.",
          "executable": false
        },
        "197": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if read...",
          "executable": false
        },
        "397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function deletes the specified file from ...",
          "executable": false
        },
        "951": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1774": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- PowerShell command for Windows",
          "executable": false
        },
        "1775": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        command = string.format(",
          "executable": true
        },
        "712": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1596": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Skip if we can't access the path",
          "executable": false
        },
        "741": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function combines multiple path segments ...",
          "executable": false
        },
        "433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- in the path don't exist, they will be created ...",
          "executable": false
        },
        "1783": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1527": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function gets all files in a directory th...",
          "executable": false
        },
        "1795": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil, \"Failed to parse timestamp: \" ...",
          "executable": true
        },
        "1498": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Add start and end anchors",
          "executable": false
        },
        "1170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "2170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Fallback method if lfs is not avail...",
          "executable": false
        },
        "1810": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1817": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local date_string = os.date(\"%Y-%m-%d\", timest...",
          "executable": false
        },
        "247": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return nil, \"Invalid directory path: c...",
          "executable": true
        },
        "447": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "945": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not extension then",
          "executable": true
        },
        "1278": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   {\"*.json\", \"*.yml\", \"*.conf\"},",
          "executable": false
        },
        "1826": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1687": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1497": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "735": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        result = result .. \"/\"",
          "executable": true
        },
        "1269": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local src_files = fs.discover_files(",
          "executable": false
        },
        "967": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1835": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- PowerShell command for Windows",
          "executable": false
        },
        "567": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "                -- Use rm -rf command on Unix-like...",
          "executable": false
        },
        "925": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local ext = fs.get_extension(\"/etc/hosts\")",
          "executable": false
        },
        "517": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "12": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Path manipulation: join, normalize, get comp...",
          "executable": false
        },
        "1848": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1850": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = handle:read(\"*a\")",
          "executable": true
        },
        "62": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field list_files_recursive fun(dir_path: stri...",
          "executable": false
        },
        "1363": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1696": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- On Unix-like systems, use stat command",
          "executable": false
        },
        "1781": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        command = string.format('stat -c %%Y \"%s\"'...",
          "executable": true
        },
        "696": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "296": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file:write(data)",
          "executable": true
        },
        "2111": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not start_dir then",
          "executable": true
        },
        "1933": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get all Lua files in a directory",
          "executable": false
        },
        "26": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @module filesystem",
          "executable": false
        },
        "1906": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     process_subdirectory(full_path)",
          "executable": false
        },
        "1698": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return result == true or result == 0",
          "executable": true
        },
        "57": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @field remove_file fun(file_path: string): boo...",
          "executable": false
        },
        "1926": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1930": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil error Error message if list...",
          "executable": false
        },
        "1935": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not files then",
          "executable": false
        },
        "1950": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not dir_path then return nil, \"No directory...",
          "executable": true
        },
        "1563": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local command",
          "executable": true
        },
        "713": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1329": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                        if fs.matches_pattern(item...",
          "executable": true
        },
        "1442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- ",
          "executable": false
        },
        "1002": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1587": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1987": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    table.insert(files, full_path)",
          "executable": true
        },
        "1996": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        }
      },
      "line_coverage_percent": 0,
      "covered_lines": 2,
      "executed_lines": 2,
      "executed_functions": 1,
      "covered_functions": 1,
      "name": "filesystem.lua",
      "function_coverage_percent": 100,
      "path": "./lib/tools/filesystem.lua"
    },
    "scripts/runner.lua": {
      "execution_coverage_percent": 0,
      "functions": {
        "print:92-106": {
          "covered": true,
          "executed": true,
          "start_line": 92,
          "execution_count": 16,
          "name": "print",
          "type": "global",
          "end_line": 106
        }
      },
      "total_lines": 1685,
      "executable_lines": 1289,
      "total_functions": 1,
      "lines": {
        "1335": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.coverage then",
          "executable": true
        },
        "132": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1575": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              end",
          "executable": true
        },
        "432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- but fs.directory_exists() works fine with or ...",
          "executable": false
        },
        "532": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local state = test_definition.get_state()",
          "executable": true
        },
        "332": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "660": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          status_color = red",
          "executable": true
        },
        "760": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      timing_stats = {",
          "executable": true
        },
        "860": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "960": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Generate JSON quality report",
          "executable": false
        },
        "1261": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --help, -h            Show this help me...",
          "executable": true
        },
        "150": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        original_print(red .. \"FAIL \" .. result.na...",
          "executable": true
        },
        "350": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "250": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "550": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      quality.init({",
          "executable": true
        },
        "450": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local filtered_files = {}",
          "executable": true
        },
        "832": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Generating coverage report\")",
          "executable": true
        },
        "932": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Generating quality report\")",
          "executable": true
        },
        "632": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(string.format(\"\\n%sNo structured tes...",
          "executable": true
        },
        "732": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local total_execution_time = 0",
          "executable": true
        },
        "1406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"**/test/**/*.lua\",  -- Another test dir...",
          "executable": true
        },
        "142": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      table.insert(file_test_results, result)",
          "executable": true
        },
        "201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    package.path = save_path",
          "executable": true
        },
        "342": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "242": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(string.format(\"  File test results c...",
          "executable": true
        },
        "542": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error = error_handler.format_error(err),",
          "executable": true
        },
        "701": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          status_color,",
          "executable": true
        },
        "801": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "901": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "301": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error = result.error",
          "executable": true
        },
        "401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "501": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    module_reset.configure({",
          "executable": true
        },
        "601": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          state_passes = file_passes,",
          "executable": true
        },
        "1455": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test_success = result.success and result.error...",
          "executable": true
        },
        "160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "260": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elapsed = elapsed_time,",
          "executable": true
        },
        "360": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        skipped = results.skipped,",
          "executable": true
        },
        "460": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "560": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "742": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          table.insert(slowest_tests, result)",
          "executable": true
        },
        "642": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Accumulated test counts\", {",
          "executable": true
        },
        "942": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local quality_data = quality.get_report_data...",
          "executable": true
        },
        "842": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "315": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          })",
          "executable": true
        },
        "211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Clean up temporary files",
          "executable": false
        },
        "111": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "252": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Use structured test results collected via int...",
          "executable": false
        },
        "352": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      json_module = mod",
          "executable": true
        },
        "452": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if file:match(filter) then",
          "executable": true
        },
        "552": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        level = options.quality_level or 3,",
          "executable": true
        },
        "880": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          else",
          "executable": true
        },
        "980": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "680": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "780": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Format as JSON with markers for parallel ...",
          "executable": false
        },
        "311": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if name then",
          "executable": true
        },
        "611": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          cyan, #results.test_results, file, norma...",
          "executable": true
        },
        "511": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.debug(\"Using pre-initialized coverage...",
          "executable": true
        },
        "170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1061": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.info(\"Overall JSON results\", { result...",
          "executable": true
        },
        "1021": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        files_tested = #files,",
          "executable": true
        },
        "470": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param options table Options for running the te...",
          "executable": false
        },
        "370": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if line:match(\"PASS%s+\") then",
          "executable": true
        },
        "270": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Use file_test_results which now has the t...",
          "executable": false
        },
        "652": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Print out the structured test results from ...",
          "executable": false
        },
        "752": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return (a.execution_time or 0) > (b.ex...",
          "executable": true
        },
        "852": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not report_data then",
          "executable": true
        },
        "952": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if success then",
          "executable": true
        },
        "1606": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "325": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      traceback = debug.traceback(),",
          "executable": true
        },
        "225": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "525": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end)",
          "executable": true
        },
        "425": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    directory = dir_path,",
          "executable": true
        },
        "129": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        original_print(yellow .. \"SKIP \" .. result...",
          "executable": true
        },
        "229": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Always copy test results from test_definition",
          "executable": false
        },
        "329": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- This way, even if a test file has syntax er...",
          "executable": false
        },
        "429": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "750": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- Resort",
          "executable": false
        },
        "650": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "950": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        )",
          "executable": true
        },
        "850": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local report_data = coverage.get_report_data()",
          "executable": true
        },
        "1275": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "125": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        skip_count = skip_count + 1",
          "executable": true
        },
        "180": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        firmo.set_current_test_context(file_contex...",
          "executable": true
        },
        "480": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "580": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "280": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        errors = state.errors,",
          "executable": true
        },
        "380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            status = \"pending\"",
          "executable": true
        },
        "1306": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "639": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    total_skipped = total_skipped + file_skipped",
          "executable": true
        },
        "539": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "839": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Try to load the reporting module",
          "executable": false
        },
        "739": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "239": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Debug output only in verbose mode",
          "executable": false
        },
        "139": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local result = context.test_result",
          "executable": true
        },
        "439": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local files, err = fs.discover_files({ dir_path ...",
          "executable": true
        },
        "339": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    skipped = results.skipped,",
          "executable": true
        },
        "1083": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Watch the directory and run tests in it",
          "executable": false
        },
        "1252": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --coverage-debug, -cd Enable debug outp...",
          "executable": true
        },
        "490": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local total_passes = 0",
          "executable": true
        },
        "390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Add failure details if available",
          "executable": false
        },
        "690": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local status_color = \"\"",
          "executable": true
        },
        "590": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Try to get test definition state if avail...",
          "executable": false
        },
        "929": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1155": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    memory = false, -- Track memory usage",
          "executable": true
        },
        "290": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Calculate total tests",
          "executable": false
        },
        "190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Verify file exists",
          "executable": false
        },
        "709": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if #all_test_results > 10 then",
          "executable": true
        },
        "809": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      test_count = total_passes + total_skipped",
          "executable": true
        },
        "509": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.coverage then",
          "executable": true
        },
        "609": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if options.verbose then",
          "executable": true
        },
        "309": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if line:match(\"FAIL\") then",
          "executable": true
        },
        "1017": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        failures = total_failures,",
          "executable": true
        },
        "109": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Store the result for reporting",
          "executable": false
        },
        "209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.error = original_logger_error",
          "executable": true
        },
        "1183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg == \"--memory\" or arg == \"-m\" then",
          "executable": true
        },
        "1263": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"Examples:\")",
          "executable": true
        },
        "1164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    pattern = nil, -- Pattern for test files",
          "executable": true
        },
        "1055": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.debug(\"Added structured test cases ...",
          "executable": true
        },
        "939": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "819": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "719": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    files_failed = failed_files,",
          "executable": true
        },
        "619": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if options.verbose then",
          "executable": true
        },
        "519": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          operation = \"run_all\"",
          "executable": true
        },
        "419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function runner.find_test_files(dir_path, options)",
          "executable": true
        },
        "319": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "119": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          original_print(green .. \"PASS \" .. resul...",
          "executable": true
        },
        "103": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local elapsed_time = os.clock() - start_time",
          "executable": true
        },
        "1034": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            status = result.status,",
          "executable": true
        },
        "1052": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          table.insert(test_results.test_cases, te...",
          "executable": true
        },
        "903": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(\"\\nDEBUG: Raw coverage values:\")",
          "executable": true
        },
        "703": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          normal,",
          "executable": true
        },
        "803": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.debug(\"Failed tests\", { failed_test...",
          "executable": true
        },
        "503": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      verbose = options.verbose == true,",
          "executable": true
        },
        "603": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          state_skipped = file_skipped",
          "executable": true
        },
        "303": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if #test_results.test_cases == 0 then",
          "executable": true
        },
        "1675": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Log the exit code to ensure transparency",
          "executable": false
        },
        "890": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "790": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local failed_tests = {}",
          "executable": true
        },
        "990": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.info(\"Generated JSON quality report...",
          "executable": true
        },
        "213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Clean up any temporary files created during...",
          "executable": false
        },
        "113": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if result.status == \"pass\" then",
          "executable": true
        },
        "1129": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Run tests if needed and after debounce peri...",
          "executable": false
        },
        "1352": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        full_reset = true,",
          "executable": true
        },
        "913": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        overall = string.format(\"%.2f%%\", summary....",
          "executable": true
        },
        "813": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if we should generate coverage reports",
          "executable": false
        },
        "713": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "613": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "513": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        coverage_instance_valid = options.coverage...",
          "executable": true
        },
        "413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.info(\"JSON results\", { results = \"RES...",
          "executable": true
        },
        "313": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            message = \"Test failed: \" .. name,",
          "executable": true
        },
        "39": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   - error: any Any execution error that occurr...",
          "executable": false
        },
        "29": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local green = string.char(27) .. \"[32m\"",
          "executable": true
        },
        "19": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Initialize logger for runner module",
          "executable": false
        },
        "79": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  _G.print = function(...)",
          "executable": true
        },
        "69": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "59": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "49": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  options = options or {}",
          "executable": true
        },
        "99": {
          "covered": false,
          "executed": true,
          "execution_count": 16,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "89": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(output_buffer, output)",
          "executable": true
        },
        "1229": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.formats = { args[i] }",
          "executable": true
        },
        "1490": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      coverage.stop()",
          "executable": true
        },
        "18": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end)",
          "executable": true
        },
        "28": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local red = string.char(27) .. \"[31m\"",
          "executable": true
        },
        "1141": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "78": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Override print to capture output for diagnost...",
          "executable": false
        },
        "88": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local output = table.concat(string_args, \" \")",
          "executable": true
        },
        "98": {
          "covered": true,
          "executed": true,
          "execution_count": 19,
          "line_type": "code",
          "content": "  local file_test_results = {}",
          "executable": true
        },
        "38": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   - success: boolean Whether the file executed...",
          "executable": false
        },
        "48": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function runner.run_file(file_path, firmo, options...",
          "executable": true
        },
        "58": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local prev_skipped = 0",
          "executable": true
        },
        "68": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1590": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            logger.info(\"Coverage summary\", {",
          "executable": true
        },
        "888": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.error(\"Reporting module not availab...",
          "executable": true
        },
        "988": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      success = quality.save_report(fs.join_paths(...",
          "executable": true
        },
        "27": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- ANSI color codes (keep them for compatibility w...",
          "executable": false
        },
        "17": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  watcher = require(\"lib.tools.watcher\")",
          "executable": true
        },
        "87": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "77": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local output_buffer = {}",
          "executable": true
        },
        "97": {
          "covered": false,
          "executed": true,
          "execution_count": 35,
          "line_type": "comment",
          "content": "  ---@type TestResult[]",
          "executable": false
        },
        "47": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   - test_errors: table[] Array of test errors",
          "executable": false
        },
        "37": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table Table containing test results inc...",
          "executable": false
        },
        "67": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      test_definition.set_debug_mode(true)",
          "executable": true
        },
        "57": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local prev_errors = 0",
          "executable": true
        },
        "1156": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    performance = false, -- Show performance stats",
          "executable": true
        },
        "178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Set the current test context",
          "executable": false
        },
        "378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            name = line:match(\"SKIP%s+(.+)\")",
          "executable": true
        },
        "278": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        result_count = #state.test_results,",
          "executable": true
        },
        "578": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        reason = not results.success and \"Executio...",
          "executable": true
        },
        "478": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "778": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.debug(\"Test timing statistics\", timin...",
          "executable": true
        },
        "678": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          print(string.format(\"     Time: %.4f sec...",
          "executable": true
        },
        "16": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local has_watcher = pcall(function()",
          "executable": true
        },
        "26": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1009": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "96": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- This will be populated from test_definition's...",
          "executable": false
        },
        "76": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local original_print = print",
          "executable": true
        },
        "86": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "56": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local prev_passes = 0",
          "executable": true
        },
        "66": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if options.verbose and test_definition.set_deb...",
          "executable": true
        },
        "36": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param options table Options for running the te...",
          "executable": false
        },
        "46": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   - test_results: TestResult[] Array of struct...",
          "executable": false
        },
        "1390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local start_time = os.clock()",
          "executable": true
        },
        "288": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    results.skipped = skip_count > 0 and skip_coun...",
          "executable": true
        },
        "388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              status = status,",
          "executable": true
        },
        "488": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local passed_files = 0",
          "executable": true
        },
        "588": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- try to extract counts from the firmo state",
          "executable": false
        },
        "688": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for i, result in ipairs(all_test_results) do",
          "executable": true
        },
        "788": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Show detailed failure information",
          "executable": false
        },
        "25": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.warn(\"Module reset system unavailable\", {...",
          "executable": true
        },
        "15": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local watcher",
          "executable": true
        },
        "1076": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.info(\"Watch mode activated\")",
          "executable": true
        },
        "1670": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1630": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, report_data = pcall(function() ",
          "executable": true
        },
        "1593": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              functions = string.format(\"%.2f%%\", ...",
          "executable": true
        },
        "1048": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if result.options then",
          "executable": true
        },
        "196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local dir = fs.get_directory_name(file_path)",
          "executable": true
        },
        "95": {
          "covered": false,
          "executed": true,
          "execution_count": 16,
          "line_type": "comment",
          "content": "  -- Create a collection of structured test result...",
          "executable": false
        },
        "396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              }",
          "executable": true
        },
        "296": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      table.insert(results.test_errors, {",
          "executable": true
        },
        "65": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Enable debug mode for test_definition if ve...",
          "executable": false
        },
        "496": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local all_test_results = {}",
          "executable": true
        },
        "796": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            file = result.file_path,",
          "executable": true
        },
        "696": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          status_color = yellow",
          "executable": true
        },
        "996": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      score = string.format(\"%.2f%%\", report.quali...",
          "executable": true
        },
        "896": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(\"\\nDEBUG: Coverage summary data:\")",
          "executable": true
        },
        "327": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "227": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    _G._current_temp_file_context = nil",
          "executable": true
        },
        "927": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.error(\"Failed to get coverage summary...",
          "executable": true
        },
        "827": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.info(\"Coverage tracking stopped succe...",
          "executable": true
        },
        "727": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "627": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        result_count = #results.test_results,",
          "executable": true
        },
        "127": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Display skip reason",
          "executable": false
        },
        "24": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "if not module_reset_loaded then",
          "executable": true
        },
        "405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          name = file_path:match(\"([^/\\\\]+)$\"):gsu...",
          "executable": true
        },
        "305": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  _G.print = original_print",
          "executable": true
        },
        "905": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(\"  Line coverage (raw): \" .. tostrin...",
          "executable": true
        },
        "805": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "705": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          result.file_path or \"\"))",
          "executable": true
        },
        "94": {
          "covered": false,
          "executed": true,
          "execution_count": 16,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1541": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          for _, format in ipairs(formats) do",
          "executable": true
        },
        "105": {
          "covered": false,
          "executed": true,
          "execution_count": 16,
          "line_type": "comment",
          "content": "    -- Look for structured test result objects",
          "executable": false
        },
        "14": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Try to load watcher module if available",
          "executable": false
        },
        "9": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local fs = require(\"lib.tools.filesystem\")",
          "executable": true
        },
        "1402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        }",
          "executable": true
        },
        "5": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- 3. Run tests matching a pattern",
          "executable": false
        },
        "6": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- 4. Support a standardized set of command-line a...",
          "executable": false
        },
        "7": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local runner = {}",
          "executable": true
        },
        "8": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Import required modules",
          "executable": false
        },
        "1": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Test runner for firmo",
          "executable": false
        },
        "2": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- A universal test runner that can:",
          "executable": false
        },
        "3": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- 1. Run a single test file",
          "executable": false
        },
        "4": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- 2. Run all tests in a directory (recursively)",
          "executable": false
        },
        "33": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Run a specific test file and return structured...",
          "executable": false
        },
        "23": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local module_reset_loaded, module_reset = pcall(re...",
          "executable": true
        },
        "53": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  firmo.errors = 0",
          "executable": true
        },
        "43": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   - total: number Total number of tests",
          "executable": false
        },
        "73": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local fail_count = 0",
          "executable": true
        },
        "63": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test_definition.reset()",
          "executable": true
        },
        "93": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "83": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1595": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            })",
          "executable": true
        },
        "13": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "error_handler.set_test_mode(true)",
          "executable": true
        },
        "307": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if #results.test_errors == 0 then",
          "executable": true
        },
        "207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Restore original logger functions",
          "executable": false
        },
        "507": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Coverage should be already initialized in run...",
          "executable": false
        },
        "407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          time = results.elapsed,",
          "executable": true
        },
        "707": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "607": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Collect all structured test results from th...",
          "executable": false
        },
        "907": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(\"  File coverage (raw): \" .. tostrin...",
          "executable": true
        },
        "807": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Test run successful\", { ",
          "executable": true
        },
        "107": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local result = context.test_result",
          "executable": true
        },
        "42": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   - skipped: number Number of skipped tests",
          "executable": false
        },
        "52": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  firmo.passes = 0",
          "executable": true
        },
        "22": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Try to load module_reset for enhanced isolation",
          "executable": false
        },
        "32": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local normal = string.char(27) .. \"[0m\"",
          "executable": true
        },
        "82": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local string_args = {}",
          "executable": true
        },
        "92": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    original_print(...)",
          "executable": true
        },
        "62": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if test_definition and test_definition.reset the...",
          "executable": true
        },
        "72": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local pass_count = 0",
          "executable": true
        },
        "12": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Set error handler to test mode since we're runn...",
          "executable": false
        },
        "417": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "517": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if options.coverage_instance.is_active and n...",
          "executable": true
        },
        "217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    pcall(function()",
          "executable": true
        },
        "317": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "817": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    coverage_option_set = options.coverage",
          "executable": true
        },
        "917": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "617": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        table.insert(all_test_results, result)",
          "executable": true
        },
        "717": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.info(\"Test run summary\", {",
          "executable": true
        },
        "117": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if result.expect_error then",
          "executable": true
        },
        "667": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          status_color,",
          "executable": true
        },
        "567": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- 1. There was an execution error (results.su...",
          "executable": false
        },
        "467": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Run tests in a directory or file list and aggr...",
          "executable": false
        },
        "367": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for line in results.output:gmatch(\"[^\\r\\n]+\"...",
          "executable": true
        },
        "267": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if test_definition and test_definition.get_state...",
          "executable": true
        },
        "167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local temp_file_loaded, temp_file_module = pca...",
          "executable": true
        },
        "1395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "1193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.quality = true",
          "executable": true
        },
        "967": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if success then",
          "executable": true
        },
        "867": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "767": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Add info about slowest tests",
          "executable": false
        },
        "535": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.warn(\"Coverage enabled but no coverag...",
          "executable": true
        },
        "635": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "335": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Use consistent terminology",
          "executable": false
        },
        "435": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.error(\"Directory not found\", { director...",
          "executable": true
        },
        "135": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "235": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for _, result in ipairs(state.test_results) ...",
          "executable": true
        },
        "1198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Options with values (format: --option=value...",
          "executable": false
        },
        "1320": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local config_loaded, config_err = central_co...",
          "executable": true
        },
        "1160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    quality = false, -- Enable quality validation",
          "executable": true
        },
        "935": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local report_dir = options.report_dir or \"./co...",
          "executable": true
        },
        "735": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, result in ipairs(all_test_results) do",
          "executable": true
        },
        "835": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Generate reports in different formats",
          "executable": false
        },
        "1497": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      report_success = false",
          "executable": true
        },
        "1289": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    runner.print_usage()",
          "executable": true
        },
        "1101": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.error(\"Path not found for watch mode\", ...",
          "executable": true
        },
        "1293": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local firmo_loaded, firmo = pcall(require, \"firm...",
          "executable": true
        },
        "1307": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Initialize coverage if running with --coverag...",
          "executable": false
        },
        "645": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_failures = file_errors,",
          "executable": true
        },
        "545": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.quality then",
          "executable": true
        },
        "445": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "345": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Try to load JSON module",
          "executable": false
        },
        "245": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(string.format(\"  Test definition cou...",
          "executable": true
        },
        "145": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if result.status == \"fail\" then",
          "executable": true
        },
        "1298": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.error(\"Failed to load firmo\", { error...",
          "executable": true
        },
        "1060": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local json_results = json_module.encode(test...",
          "executable": true
        },
        "945": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Generate HTML quality report",
          "executable": false
        },
        "845": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error = error_handler.format_error(reporti...",
          "executable": true
        },
        "745": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return (a.execution_time or 0) > (b.ex...",
          "executable": true
        },
        "447": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "347": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local ok, mod = pcall(require, \"lib.reporting....",
          "executable": true
        },
        "647": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      running_total_passes = total_passes,",
          "executable": true
        },
        "547": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if quality_loaded then",
          "executable": true
        },
        "1195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.watch = true",
          "executable": true
        },
        "247": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(string.format(\"  Copied %d results f...",
          "executable": true
        },
        "147": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1180": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Boolean flags",
          "executable": false
        },
        "847": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "747": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        elseif result.execution_time > (slowest_te...",
          "executable": true
        },
        "947": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          fs.join_paths(report_dir, \"quality-repor...",
          "executable": true
        },
        "1515": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for _ in pairs(report_data.files) do",
          "executable": true
        },
        "1639": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        coverage_config.include = coverage_config....",
          "executable": true
        },
        "1120": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local changed_files = watcher.check_for_change...",
          "executable": true
        },
        "1627": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local file_coverage_percent = 0",
          "executable": true
        },
        "1542": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local report_path = fs.join_paths(repo...",
          "executable": true
        },
        "557": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.error(\"Failed to load quality module\"...",
          "executable": true
        },
        "657": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if result.status == \"pass\" then ",
          "executable": true
        },
        "357": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        tests = results.total,",
          "executable": true
        },
        "457": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      count = #filtered_files,",
          "executable": true
        },
        "157": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Try to load temp_file integration for test fi...",
          "executable": false
        },
        "257": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    errors = fail_count,",
          "executable": true
        },
        "1495": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error = error_handler.format_error(err)",
          "executable": true
        },
        "1489": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local ok, err = pcall(function()",
          "executable": true
        },
        "957": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          })",
          "executable": true
        },
        "757": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "857": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if report_data.files then",
          "executable": true
        },
        "1339": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1498": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1020": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        time = elapsed_time,",
          "executable": true
        },
        "1527": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local reporting",
          "executable": true
        },
        "1003": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.json_output or options.results_format...",
          "executable": true
        },
        "623": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "723": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    passes = total_passes, -- Add these for consis...",
          "executable": true
        },
        "823": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Stop coverage tracking",
          "executable": false
        },
        "923": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        function_percent = summary.function_covera...",
          "executable": true
        },
        "1678": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    exit_code = success and 0 or 1,",
          "executable": true
        },
        "123": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "223": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      firmo.set_current_test_context(nil)",
          "executable": true
        },
        "323": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      message = tostring(err),",
          "executable": true
        },
        "423": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local exclude_patterns = options.exclude_pattern...",
          "executable": true
        },
        "523": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local ok, err = pcall(function()",
          "executable": true
        },
        "275": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            name = line:match(\"FAIL%s+(.+)\")",
          "executable": true
        },
        "1315": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    central_config = central_config_result",
          "executable": true
        },
        "175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_path = file_path",
          "executable": true
        },
        "675": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "775": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "475": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- If files_or_dir is a string, treat it as a di...",
          "executable": false
        },
        "575": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file = file,",
          "executable": true
        },
        "875": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          logger.info(\"Generating report\", { forma...",
          "executable": true
        },
        "975": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.error(\"Failed to get quality report...",
          "executable": true
        },
        "1342": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error = error_handler.format_error(coverag...",
          "executable": true
        },
        "1543": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local format_success, err = reporting....",
          "executable": true
        },
        "1427": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "802": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if #failed_tests > 0 then",
          "executable": true
        },
        "702": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          result.status:upper(),",
          "executable": true
        },
        "933": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    quality.calculate_stats()",
          "executable": true
        },
        "833": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- If we couldn't extract individual tests, ...",
          "executable": false
        },
        "302": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "137": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Look for structured test result objects",
          "executable": false
        },
        "502": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      reset_modules = true,",
          "executable": true
        },
        "1280": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Print options for debugging",
          "executable": false
        },
        "133": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return original_logger_info(message, context)",
          "executable": true
        },
        "737": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        total_execution_time = total_execution_tim...",
          "executable": true
        },
        "837": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    fs.ensure_directory_exists(report_dir)",
          "executable": true
        },
        "937": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Use the reporting module if available, othe...",
          "executable": false
        },
        "433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Simply check if directory exists",
          "executable": false
        },
        "641": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Log collected counts after each file",
          "executable": false
        },
        "741": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if #slowest_tests < 5 then",
          "executable": true
        },
        "841": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    reporting_loaded, reporting = pcall(require, \"...",
          "executable": true
        },
        "941": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Get quality report data",
          "executable": false
        },
        "785": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      failed_tests = total_failures",
          "executable": true
        },
        "685": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Show collected test results in verbose mode",
          "executable": false
        },
        "585": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local file_skipped = results.skipped or 0",
          "executable": true
        },
        "485": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      cyan, #files, normal))",
          "executable": true
        },
        "985": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "885": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "241": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(string.format(\"\\n%sStructured Test R...",
          "executable": true
        },
        "341": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    tests_failed = results.errors, -- Add for cons...",
          "executable": true
        },
        "1016": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        tests = total_passes + total_failures + to...",
          "executable": true
        },
        "541": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Coverage not enabled in options\"...",
          "executable": true
        },
        "712": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    print(\"\")",
          "executable": true
        },
        "812": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Generate coverage reports if enabled",
          "executable": false
        },
        "912": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.info(\"Coverage summary\", {",
          "executable": true
        },
        "287": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    results.errors = fail_count > 0 and fail_count...",
          "executable": true
        },
        "587": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If we're getting zero counts back but the t...",
          "executable": false
        },
        "487": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.info(\"Running test files\", { count = #fil...",
          "executable": true
        },
        "787": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "612": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "987": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Generate JSON quality report",
          "executable": false
        },
        "887": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "1323": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "1236": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      path = arg",
          "executable": true
        },
        "1422": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "751": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          table.sort(slowest_tests, function(a, b)...",
          "executable": true
        },
        "455": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "951": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "851": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "155": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "255": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    error = err,",
          "executable": true
        },
        "112": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Count based on status",
          "executable": false
        },
        "212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if temp_file_integration and temp_file then",
          "executable": true
        },
        "755": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "855": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Get file count safely with manual countin...",
          "executable": false
        },
        "955": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          logger.error(\"Failed to generate HTML qu...",
          "executable": true
        },
        "451": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, file in ipairs(files) do",
          "executable": true
        },
        "297": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        message = result.error_message or \"Test fa...",
          "executable": true
        },
        "397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "1419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        exclude_patterns = coverage_config.exclude...",
          "executable": true
        },
        "197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if dir and dir ~= \"\" then",
          "executable": true
        },
        "697": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "797": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            error_message = result.error_message",
          "executable": true
        },
        "497": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Initialize module reset if available",
          "executable": false
        },
        "597": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1493": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not ok then",
          "executable": true
        },
        "897": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(\"  Overall coverage: \" .. string.for...",
          "executable": true
        },
        "997": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      tests_analyzed = report.tests_analyzed,",
          "executable": true
        },
        "1423": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1322": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.info(\"Loaded configuration from .fi...",
          "executable": true
        },
        "821": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Coverage conditions met - will ge...",
          "executable": true
        },
        "921": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        overall_percent = summary.overall_coverage...",
          "executable": true
        },
        "665": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(string.format(\"  %d. %s[%s]%s %s (%s...",
          "executable": true
        },
        "721": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    tests_failed = total_failures, -- Same as 'fai...",
          "executable": true
        },
        "265": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get test results directly from test_definitio...",
          "executable": false
        },
        "165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "121": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- Normal test pass",
          "executable": false
        },
        "865": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        has_files = report_data.files ~= nil,",
          "executable": true
        },
        "765": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "221": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Clear test context",
          "executable": false
        },
        "965": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        )",
          "executable": true
        },
        "963": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          quality_data, ",
          "executable": true
        },
        "563": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- IMPORTANT: Reset the test counts for each f...",
          "executable": false
        },
        "663": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "763": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        tests_with_timing = count_with_execution_t...",
          "executable": true
        },
        "863": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.info(\"Successfully got coverage repor...",
          "executable": true
        },
        "1001": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "263": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file = file_path",
          "executable": true
        },
        "363": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file = file_path,",
          "executable": true
        },
        "463": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Sort files for consistent execution order",
          "executable": false
        },
        "1036": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            time = result.execution_time or 0",
          "executable": true
        },
        "1132": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Clear terminal",
          "executable": false
        },
        "1043": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              type = \"Assertion\"",
          "executable": true
        },
        "931": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if quality_loaded and quality and options.qualit...",
          "executable": true
        },
        "831": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Calculate and save coverage reports",
          "executable": false
        },
        "731": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local slowest_tests = {}",
          "executable": true
        },
        "279": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        passes = state.passes,",
          "executable": true
        },
        "579": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "479": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    files = files_or_dir",
          "executable": true
        },
        "779": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "679": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "979": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.warn(\"Reporting module not available,...",
          "executable": true
        },
        "879": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            logger.info(\"Generated coverage report...",
          "executable": true
        },
        "1224": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg == \"--threshold\" and i < #args then",
          "executable": true
        },
        "531": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          })",
          "executable": true
        },
        "431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- The fs.normalize_path() function automaticall...",
          "executable": false
        },
        "331": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    results.errors = results.errors + 1",
          "executable": true
        },
        "231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if test_definition and test_definition.get_state...",
          "executable": true
        },
        "973": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1249": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --format=<format>     Output format (su...",
          "executable": true
        },
        "673": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if result.expect_error then",
          "executable": true
        },
        "573": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Log failure reason for debugging",
          "executable": false
        },
        "873": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for _, format in ipairs(formats) do",
          "executable": true
        },
        "773": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          file = slow_test.file_path",
          "executable": true
        },
        "273": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      results.errors = state.errors or 0",
          "executable": true
        },
        "173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        type = \"file\",",
          "executable": true
        },
        "1010": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if ok then",
          "executable": true
        },
        "930": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Generate quality reports if enabled",
          "executable": false
        },
        "830": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "730": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if #all_test_results > 0 then",
          "executable": true
        },
        "630": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "530": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            operation = \"run_all.start_coverage\"",
          "executable": true
        },
        "981": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Generate HTML quality report",
          "executable": false
        },
        "349": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      ok, mod = pcall(require, \"../lib/reporting/j...",
          "executable": true
        },
        "1053": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "149": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local error_message = result.error_message...",
          "executable": true
        },
        "649": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      running_total_skipped = total_skipped",
          "executable": true
        },
        "681": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      print(\"\")",
          "executable": true
        },
        "781": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local all_passed = failed_files == 0",
          "executable": true
        },
        "549": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Configure quality validation",
          "executable": false
        },
        "181": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "281": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        skipped = state.skipped",
          "executable": true
        },
        "849": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Getting coverage report data\")",
          "executable": true
        },
        "949": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"html\"",
          "executable": true
        },
        "1112": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local runner_options = {}",
          "executable": true
        },
        "1258": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --performance, -p     Show performance ...",
          "executable": true
        },
        "1223": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.quality_level = tonumber(args[i])",
          "executable": true
        },
        "843": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not reporting_loaded then",
          "executable": true
        },
        "943": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "643": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      current_file = file,",
          "executable": true
        },
        "743": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- Sort by execution time (descending)",
          "executable": false
        },
        "1557": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local covered_file_count = 0",
          "executable": true
        },
        "1008": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      ok, mod = pcall(require, \"../lib/reporting/j...",
          "executable": true
        },
        "443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      directory = dir_path,",
          "executable": true
        },
        "543": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Try to load quality module",
          "executable": false
        },
        "243": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(string.format(\"  Counts: pass=%d, fa...",
          "executable": true
        },
        "343": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Output JSON results if requested",
          "executable": false
        },
        "359": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        errors = success and 0 or 1,",
          "executable": true
        },
        "991": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "400": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "500": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Configure isolation options",
          "executable": false
        },
        "759": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if count_with_execution_time > 0 then",
          "executable": true
        },
        "659": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        elseif result.status == \"fail\" then",
          "executable": true
        },
        "800": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "900": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(\"  File coverage: \" .. string.format...",
          "executable": true
        },
        "1024": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        success = all_passed,",
          "executable": true
        },
        "191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not fs.file_exists(file_path) then",
          "executable": true
        },
        "959": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "859": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          file_count = file_count + 1",
          "executable": true
        },
        "1282": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  path:\", path)",
          "executable": true
        },
        "1116": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Watch loop",
          "executable": false
        },
        "1012": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Create aggregated test results",
          "executable": false
        },
        "953": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          logger.info(\"Generated HTML quality repo...",
          "executable": true
        },
        "853": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.error(\"Failed to get coverage report ...",
          "executable": true
        },
        "753": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end)",
          "executable": true
        },
        "653": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if options.verbose and results.test_results an...",
          "executable": true
        },
        "1457": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- CRITICAL FIX: Ensure test failures cause th...",
          "executable": false
        },
        "153": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1093": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Watching directory\", { path = pat...",
          "executable": true
        },
        "553": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        debug = options.verbose == true,",
          "executable": true
        },
        "453": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        table.insert(filtered_files, file)",
          "executable": true
        },
        "353": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Create test results data structure",
          "executable": false
        },
        "253": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local results = {",
          "executable": true
        },
        "1174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    print(i, arg)",
          "executable": true
        },
        "1546": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              logger.error(\"Failed to generate \" ....",
          "executable": true
        },
        "961": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        success, err = reporting.save_quality_repo...",
          "executable": true
        },
        "761": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        total_test_execution_time = total_executio...",
          "executable": true
        },
        "861": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "561": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "661": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "361": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        time = results.elapsed,",
          "executable": true
        },
        "461": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    files = filtered_files",
          "executable": true
        },
        "1015": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        timestamp = os.date(\"!%Y-%m-%dT%H:%M:%S\"),",
          "executable": true
        },
        "962": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          fs.join_paths(report_dir, \"quality-repor...",
          "executable": true
        },
        "862": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1023": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        files_failed = failed_files,",
          "executable": true
        },
        "662": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          status_color = yellow",
          "executable": true
        },
        "562": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for _, file in ipairs(files) do",
          "executable": true
        },
        "372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            name = line:match(\"PASS%s+(.+)\")",
          "executable": true
        },
        "472": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function runner.run_all(files_or_dir, firmo, optio...",
          "executable": true
        },
        "172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local file_context = {",
          "executable": true
        },
        "272": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      results.passes = state.passes or 0",
          "executable": true
        },
        "1597": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Debug output for manual calculation",
          "executable": false
        },
        "1401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"firmo.lua\"     -- Main module",
          "executable": true
        },
        "920": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.debug(\"Raw coverage percentage values...",
          "executable": true
        },
        "520": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "620": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          print(string.format(\"  - Added result: %...",
          "executable": true
        },
        "720": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    tests_passed = total_passes, -- Same as 'passe...",
          "executable": true
        },
        "820": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if coverage_loaded and coverage and options.cove...",
          "executable": true
        },
        "210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "110": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      table.insert(file_test_results, result)",
          "executable": true
        },
        "410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "971": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            error = err and error_handler.format_e...",
          "executable": true
        },
        "871": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "771": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          path = slow_test.path_string,",
          "executable": true
        },
        "671": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          result.path_string or \"\"))",
          "executable": true
        },
        "571": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "471": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean Whether all tests passed",
          "executable": false
        },
        "371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            status = \"pass\"",
          "executable": true
        },
        "972": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          })",
          "executable": true
        },
        "171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Create a test context for this file",
          "executable": false
        },
        "772": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          execution_time = slow_test.execution_tim...",
          "executable": true
        },
        "872": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Use reporting module to generate report...",
          "executable": false
        },
        "572": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      failed_files = failed_files + 1",
          "executable": true
        },
        "672": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "282": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "482": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Print debugging info if verbose",
          "executable": false
        },
        "382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "970": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          logger.error(\"Failed to generate JSON qu...",
          "executable": true
        },
        "870": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.info(\"Reporting module loaded, gene...",
          "executable": true
        },
        "770": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          name = slow_test.name,",
          "executable": true
        },
        "670": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          result.name,",
          "executable": true
        },
        "1503": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return coverage.get_report_data() ",
          "executable": true
        },
        "1526": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Generate reports",
          "executable": false
        },
        "589": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if file_passes == 0 and file_errors == 0 and r...",
          "executable": true
        },
        "220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "320": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not success then",
          "executable": true
        },
        "489": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local failed_files = 0",
          "executable": true
        },
        "189": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local success, err = pcall(function()",
          "executable": true
        },
        "289": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1277": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parse command-line arguments",
          "executable": false
        },
        "982": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local success = quality.save_report(fs.join_...",
          "executable": true
        },
        "989": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if success then",
          "executable": true
        },
        "582": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Get the actual test counts from the results",
          "executable": false
        },
        "882": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              format = format, ",
          "executable": true
        },
        "889": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Test file does not exist: \" .. file_p...",
          "executable": true
        },
        "292": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add test errors from structured results",
          "executable": false
        },
        "983": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if success then",
          "executable": true
        },
        "492": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local total_skipped = 0",
          "executable": true
        },
        "783": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.error(\"Test run failed\", { ",
          "executable": true
        },
        "883": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              error = err and error_handler.format...",
          "executable": true
        },
        "583": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local file_passes = results.passes",
          "executable": true
        },
        "683": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if name then",
          "executable": true
        },
        "483": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.verbose then",
          "executable": true
        },
        "940": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if reporting_loaded and reporting then",
          "executable": true
        },
        "283": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "740": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Track slowest tests",
          "executable": false
        },
        "840": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local reporting_loaded, reporting",
          "executable": true
        },
        "540": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "640": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "699": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(string.format(\"  %d. %s[%s]%s %s (%s...",
          "executable": true
        },
        "599": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.debug(\"Using test_definition state ...",
          "executable": true
        },
        "230": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local test_definition = require(\"lib.core.test_d...",
          "executable": true
        },
        "130": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "299": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        test_name = result.name,",
          "executable": true
        },
        "199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "992": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "592": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if test_definition and test_definition.get_s...",
          "executable": true
        },
        "999": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      level_name = report.level_name,",
          "executable": true
        },
        "899": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(\"  Function coverage: \" .. string.fo...",
          "executable": true
        },
        "892": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local summary = report_data and report_data.su...",
          "executable": true
        },
        "122": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          original_print(green .. \"PASS \" .. resul...",
          "executable": true
        },
        "1297": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not firmo_loaded then",
          "executable": true
        },
        "993": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Print quality summary",
          "executable": false
        },
        "893": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if summary then",
          "executable": true
        },
        "793": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          table.insert(failed_tests, {",
          "executable": true
        },
        "693": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        elseif result.status == \"fail\" then",
          "executable": true
        },
        "593": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local state = test_definition.get_state()",
          "executable": true
        },
        "493": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local start_time = os.clock()",
          "executable": true
        },
        "910": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Use the numeric values for the logger to ...",
          "executable": false
        },
        "293": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  results.test_errors = {}",
          "executable": true
        },
        "193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "610": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(string.format(\"\\n%sCollecting %d str...",
          "executable": true
        },
        "510": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if options.coverage_instance then",
          "executable": true
        },
        "810": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "710": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      print(string.format(\"  ... and %d more\", #al...",
          "executable": true
        },
        "340": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    tests_passed = results.passes, -- Add for cons...",
          "executable": true
        },
        "440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not files then",
          "executable": true
        },
        "140": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "240": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if options.verbose then",
          "executable": true
        },
        "1477": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1310": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "922": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        line_percent = summary.line_coverage_perce...",
          "executable": true
        },
        "822": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "722": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    tests_skipped = total_skipped,",
          "executable": true
        },
        "622": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1292": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Try to load firmo",
          "executable": false
        },
        "1652": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1316": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Central configuration loaded succ...",
          "executable": true
        },
        "1465": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1473": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1572": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    end",
          "executable": true
        },
        "1685": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "return runner",
          "executable": true
        },
        "1646": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      has_report_data = has_report_data,",
          "executable": true
        },
        "1683": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  os.exit(success and 0 or 1)",
          "executable": true
        },
        "1071": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1394": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          exclude_patterns = #(coverage_config.exc...",
          "executable": true
        },
        "1682": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Always exit with appropriate code",
          "executable": false
        },
        "1681": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg == \"--help\" or arg == \"-h\" then",
          "executable": true
        },
        "1192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg == \"--quality\" or arg == \"-q\" then",
          "executable": true
        },
        "515": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1679": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    reason = success and \"All tests passed\" or \"Te...",
          "executable": true
        },
        "1677": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    success = success, ",
          "executable": true
        },
        "1676": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.info(\"Exiting with code\", { ",
          "executable": true
        },
        "1674": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1563": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              covered_file_count = covered_file_co...",
          "executable": true
        },
        "1416": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Debug output of final configuration",
          "executable": false
        },
        "1672": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- This ensures test failures are properly propa...",
          "executable": false
        },
        "1671": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- CRITICAL FIX: Run the main function and alway...",
          "executable": false
        },
        "1669": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    args[i] = arg[i]",
          "executable": true
        },
        "1151": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Parse command-line arguments",
          "executable": false
        },
        "1573": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  end",
          "executable": true
        },
        "1667": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local args = {}",
          "executable": true
        },
        "1666": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Create a clean args table (without script nam...",
          "executable": false
        },
        "1684": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1588": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1663": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1472": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          })",
          "executable": true
        },
        "1662": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return final_success",
          "executable": true
        },
        "634": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1660": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1536": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          fs.ensure_directory_exists(report_dir)",
          "executable": true
        },
        "1659": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1658": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1428": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      coverage_init_success = false",
          "executable": true
        },
        "1657": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      exit_code = 1",
          "executable": true
        },
        "1656": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      reason = \"Tests had failures or execution er...",
          "executable": true
        },
        "1494": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.error(\"Failed to stop coverage tracki...",
          "executable": true
        },
        "1331": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error = error_handler.format_error(central_c...",
          "executable": true
        },
        "1655": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.error(\"TESTS FAILED! Returning non-zero...",
          "executable": true
        },
        "1452": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Run a single test file with the same option...",
          "executable": false
        },
        "1654": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not test_success then",
          "executable": true
        },
        "1500": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Get coverage report data",
          "executable": false
        },
        "1651": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1650": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1649": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_coverage_percent = string.format(\"%.2f%...",
          "executable": true
        },
        "1228": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      i = i + 1",
          "executable": true
        },
        "1647": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_coverage_percent = string.format(\"%.2f%...",
          "executable": true
        },
        "114": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        pass_count = pass_count + 1",
          "executable": true
        },
        "214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Cleaning up temporary files afte...",
          "executable": true
        },
        "1665": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "if arg and arg[0]:match(\"runner%.lua$\") then",
          "executable": true
        },
        "1136": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if #files > 0 then",
          "executable": true
        },
        "1644": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      is_active = coverage.is_active and coverage....",
          "executable": true
        },
        "1643": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      coverage_object_valid = coverage ~= nil,",
          "executable": true
        },
        "1642": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      is_coverage_enabled = options.coverage == tr...",
          "executable": true
        },
        "1641": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Coverage data consistency check\"...",
          "executable": true
        },
        "1640": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1638": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_coverage_percent = report_data.summary....",
          "executable": true
        },
        "1226": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.threshold = tonumber(args[i])",
          "executable": true
        },
        "1215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg == \"--filter\" and i < #args then",
          "executable": true
        },
        "1635": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      has_report_data = true",
          "executable": true
        },
        "1634": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if success and report_data and report_data.sum...",
          "executable": true
        },
        "1201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg:match(\"^%-%-filter=(.+)$\") then",
          "executable": true
        },
        "1636": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_coverage_percent = report_data.summary....",
          "executable": true
        },
        "208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.info = original_logger_info",
          "executable": true
        },
        "308": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for line in results.output:gmatch(\"[^\\r\\n]+\") ...",
          "executable": true
        },
        "408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          status = (success and results.errors == ...",
          "executable": true
        },
        "508": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- We just need to log that we're using the pre-...",
          "executable": false
        },
        "608": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if results.test_results and #results.test_resu...",
          "executable": true
        },
        "708": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "808": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      all_passed = true,",
          "executable": true
        },
        "908": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1631": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return coverage.get_report_data() ",
          "executable": true
        },
        "1175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1628": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1626": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local function_coverage_percent = 0",
          "executable": true
        },
        "1625": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local line_coverage_percent = 0",
          "executable": true
        },
        "1624": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local has_report_data = false",
          "executable": true
        },
        "1623": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check if we have report data that includes ...",
          "executable": false
        },
        "108": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1622": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.coverage and coverage and coverage_in...",
          "executable": true
        },
        "1565": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "              -- Count lines",
          "executable": false
        },
        "1191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.coverage_debug = true",
          "executable": true
        },
        "481": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1356": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "1619": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "1618": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    final_success = final_success",
          "executable": true
        },
        "1617": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    report_success = report_success,",
          "executable": true
        },
        "1547": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                error = err and error_handler.form...",
          "executable": true
        },
        "1615": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test_success = test_success,",
          "executable": true
        },
        "1614": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.debug(\"Exit status components\", {",
          "executable": true
        },
        "1140": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        run_success = true",
          "executable": true
        },
        "1336": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Load coverage module",
          "executable": false
        },
        "1202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.filter = arg:match(\"^%-%-filter=(.+)...",
          "executable": true
        },
        "1196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg == \"--json\" or arg == \"-j\" then",
          "executable": true
        },
        "1610": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- CRITICAL FIX: Return success only if all oper...",
          "executable": false
        },
        "1609": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1608": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1607": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1605": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1131": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.info(\"Running tests\", { timestamp = o...",
          "executable": true
        },
        "1653": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Log a clear error message if tests failed",
          "executable": false
        },
        "1603": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            })",
          "executable": true
        },
        "1602": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              covered_lines = covered_lines",
          "executable": true
        },
        "1073": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local exclude_patterns = options.exclude_pattern...",
          "executable": true
        },
        "1601": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              total_lines = total_lines,",
          "executable": true
        },
        "1600": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              covered_file_count = covered_file_co...",
          "executable": true
        },
        "491": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local total_failures = 0",
          "executable": true
        },
        "1004": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Try to load JSON module",
          "executable": false
        },
        "1065": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1598": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            logger.debug(\"Manual coverage calculat...",
          "executable": true
        },
        "185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "316": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Try to clean up, but don't let cleanup fail...",
          "executable": false
        },
        "516": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Ensure coverage instance is active",
          "executable": false
        },
        "416": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return results",
          "executable": true
        },
        "716": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- - files_passed/files_failed => test files tha...",
          "executable": false
        },
        "616": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        result.file_path = file",
          "executable": true
        },
        "916": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        files = string.format(\"%.2f%%\", summary.fi...",
          "executable": true
        },
        "816": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    has_coverage_object = coverage ~= nil,",
          "executable": true
        },
        "1594": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              files = string.format(\"%.2f%%\", file...",
          "executable": true
        },
        "904": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(\"  Overall coverage (raw): \" .. tost...",
          "executable": true
        },
        "804": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "704": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          result.name,",
          "executable": true
        },
        "604": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "504": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "116": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Display the test result",
          "executable": false
        },
        "304": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "346": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local json_module",
          "executable": true
        },
        "1039": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- Add error details for failed tests",
          "executable": false
        },
        "1591": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              overall = string.format(\"%.2f%%\", ov...",
          "executable": true
        },
        "1589": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Print report with manually calculat...",
          "executable": false
        },
        "1007": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not ok then",
          "executable": true
        },
        "1664": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- If this script is being run directly, execute m...",
          "executable": false
        },
        "1082": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if fs.directory_exists(path) then",
          "executable": true
        },
        "409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "1586": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for i, arg in ipairs(args) do",
          "executable": true
        },
        "1585": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            report_data.summary.overall_coverage_p...",
          "executable": true
        },
        "1054": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1564": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "              ",
          "executable": false
        },
        "1104": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  watcher.set_check_interval(watch_interval)",
          "executable": true
        },
        "1583": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            report_data.summary.line_coverage_perc...",
          "executable": true
        },
        "1582": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Also update the summary values dire...",
          "executable": false
        },
        "226": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Also clear global context",
          "executable": false
        },
        "104": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.info = function(message, context)",
          "executable": true
        },
        "426": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    pattern = pattern,",
          "executable": true
        },
        "526": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "626": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file = file,",
          "executable": true
        },
        "726": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    structured_results_count = #all_test_results",
          "executable": true
        },
        "826": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      coverage.stop()",
          "executable": true
        },
        "926": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "914": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        lines = string.format(\"%.2f%%\", summary.li...",
          "executable": true
        },
        "1581": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "714": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- In the summary, use consistent terminology:",
          "executable": false
        },
        "814": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.debug(\"Checking coverage conditions:\", {",
          "executable": true
        },
        "514": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "614": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for _, result in ipairs(results.test_results...",
          "executable": true
        },
        "314": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            file = file_path,",
          "executable": true
        },
        "126": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end)",
          "executable": true
        },
        "161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Try to load temp_file_integration if availabl...",
          "executable": false
        },
        "1094": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif fs.file_exists(path) then",
          "executable": true
        },
        "1578": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Calculate percentages",
          "executable": false
        },
        "1577": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "222": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if firmo.set_current_test_context then",
          "executable": true
        },
        "1453": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Detected file path\", { path = pat...",
          "executable": true
        },
        "1574": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                end",
          "executable": true
        },
        "1571": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                      covered_lines = covered_line...",
          "executable": true
        },
        "1154": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    verbose = false, -- Verbose output",
          "executable": true
        },
        "1492": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1516": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          file_count = file_count + 1",
          "executable": true
        },
        "1570": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    if line_data.covered or line_d...",
          "executable": true
        },
        "1569": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                    total_lines = total_lines + 1",
          "executable": true
        },
        "1265": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  lua scripts/runner.lua tests/          ...",
          "executable": true
        },
        "1064": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return all_passed",
          "executable": true
        },
        "1091": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1075": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Initialize the file watcher",
          "executable": false
        },
        "1566": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              if file_data.lines then",
          "executable": true
        },
        "1584": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            report_data.summary.file_coverage_perc...",
          "executable": true
        },
        "1243": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function runner.print_usage()",
          "executable": true
        },
        "1262": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"\")",
          "executable": true
        },
        "1673": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local success = runner.main(args)",
          "executable": true
        },
        "1562": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              file_count = file_count + 1",
          "executable": true
        },
        "1561": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            for file_path, file_data in pairs(repo...",
          "executable": true
        },
        "1159": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    discover_uncovered = true, -- Discover files t...",
          "executable": true
        },
        "1153": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local options = {",
          "executable": true
        },
        "1559": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local covered_lines = 0",
          "executable": true
        },
        "1558": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local total_lines = 0",
          "executable": true
        },
        "1556": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local file_count = 0",
          "executable": true
        },
        "1555": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Calculate actual file counts manual...",
          "executable": false
        },
        "1554": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if report_data.summary then",
          "executable": true
        },
        "1115": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1553": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- Print coverage summary",
          "executable": false
        },
        "1239": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1552": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "1378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg == \"--watch\" or arg == \"-w\" then",
          "executable": true
        },
        "1550": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "1549": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              report_success = false",
          "executable": true
        },
        "1254": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --quality-level=<n>   Set quality valid...",
          "executable": true
        },
        "1392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.debug(\"Applied coverage settings fr...",
          "executable": true
        },
        "55": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Since we're resetting each time, these are al...",
          "executable": false
        },
        "1165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    filter = nil, -- Filter pattern for tests",
          "executable": true
        },
        "1616": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    coverage_init_success = coverage_init_success,",
          "executable": true
        },
        "1545": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if not format_success then",
          "executable": true
        },
        "1197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.json_output = true",
          "executable": true
        },
        "1370": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1539": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          local formats = options.formats or { \"ht...",
          "executable": true
        },
        "1538": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- Generate reports",
          "executable": false
        },
        "1385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          coverage_config.track_all_executed = fil...",
          "executable": true
        },
        "1227": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg == \"--format\" and i < #args then",
          "executable": true
        },
        "1162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    watch = false, -- Enable watch mode",
          "executable": true
        },
        "1535": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          local report_dir = options.report_dir or...",
          "executable": true
        },
        "1232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      runner.print_usage()",
          "executable": true
        },
        "1253": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --quality, -q         Enable quality va...",
          "executable": true
        },
        "169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      temp_file = temp_file_module",
          "executable": true
        },
        "269": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if state and state.test_results and #state.tes...",
          "executable": true
        },
        "369": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          local status, name",
          "executable": true
        },
        "469": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param firmo table The firmo module instance",
          "executable": false
        },
        "569": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if results.success and results.errors == 0 the...",
          "executable": true
        },
        "669": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          normal,",
          "executable": true
        },
        "769": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        table.insert(timing_stats.slowest_tests, {",
          "executable": true
        },
        "869": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if reporting_loaded and reporting then",
          "executable": true
        },
        "969": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "1485": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local report_success = true",
          "executable": true
        },
        "1124": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.info(\"File changes detected\", { files...",
          "executable": true
        },
        "1534": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- Create reports directory",
          "executable": false
        },
        "1220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.report_dir = args[i]",
          "executable": true
        },
        "1532": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          report_success = false",
          "executable": true
        },
        "1182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.verbose = true",
          "executable": true
        },
        "1531": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          logger.error(\"Failed to load reporting m...",
          "executable": true
        },
        "1530": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not ok then",
          "executable": true
        },
        "1529": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1528": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        ok, reporting = pcall(require, \"lib.report...",
          "executable": true
        },
        "1525": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "1524": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        report_success = false",
          "executable": true
        },
        "1523": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "1522": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          operation = \"coverage tracking\"",
          "executable": true
        },
        "911": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Convert percentages to strings with forma...",
          "executable": false
        },
        "1520": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if file_count == 0 then",
          "executable": true
        },
        "1519": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1518": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1517": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1514": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if report_data.files then",
          "executable": true
        },
        "1513": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local file_count = 0",
          "executable": true
        },
        "1051": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "637": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    total_passes = total_passes + file_passes",
          "executable": true
        },
        "1511": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1510": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      report_success = false",
          "executable": true
        },
        "1509": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "1508": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error = ok and \"No data returned\" or error...",
          "executable": true
        },
        "1026": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "1507": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.error(\"Failed to get coverage report ...",
          "executable": true
        },
        "1506": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not ok or not report_data then",
          "executable": true
        },
        "1505": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "422": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local filter = options.filter",
          "executable": true
        },
        "1502": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    ok, report_data = pcall(function() ",
          "executable": true
        },
        "1501": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local report_data",
          "executable": true
        },
        "1604": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "1499": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1496": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "1491": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "1488": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Stop coverage tracking",
          "executable": false
        },
        "177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "277": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file = file_path,",
          "executable": true
        },
        "377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            status = \"skipped\"",
          "executable": true
        },
        "477": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    files = runner.find_test_files(files_or_dir, o...",
          "executable": true
        },
        "577": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        test_errors = results.errors,",
          "executable": true
        },
        "677": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if result.execution_time then",
          "executable": true
        },
        "777": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Log timing stats at debug level",
          "executable": false
        },
        "877": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          local success, err = reporting.save_cove...",
          "executable": true
        },
        "977": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1487": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.coverage and coverage and coverage_in...",
          "executable": true
        },
        "1486": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1484": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Generate coverage reports if needed",
          "executable": false
        },
        "1483": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1027": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1482": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1481": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "1450": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "789": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if #all_test_results > 0 then",
          "executable": true
        },
        "1478": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "1047": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- Add metadata",
          "executable": false
        },
        "1475": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1126": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.info(\"Changed file\", { path = file ...",
          "executable": true
        },
        "1474": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1471": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            file = err.file",
          "executable": true
        },
        "1470": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            test_name = err.test_name,",
          "executable": true
        },
        "1139": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.warn(\"No test files found to run\")",
          "executable": true
        },
        "1469": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          logger.error(string.format(\"Test error #...",
          "executable": true
        },
        "1468": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for i, err in ipairs(result.test_errors) d...",
          "executable": true
        },
        "1029": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if #all_test_results > 0 then",
          "executable": true
        },
        "1466": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Print specific error details",
          "executable": false
        },
        "1464": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "1463": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        test_errors = #(result.test_errors or {})",
          "executable": true
        },
        "1462": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        errors = result.errors,",
          "executable": true
        },
        "259": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    total = 0,",
          "executable": true
        },
        "1360": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local file_config = central_config.get(\"co...",
          "executable": true
        },
        "1092": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1459": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.error(\"Test failures detected in file...",
          "executable": true
        },
        "1458": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not test_success then",
          "executable": true
        },
        "1456": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1454": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = runner.run_file(path, firmo, op...",
          "executable": true
        },
        "1410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1480": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.error(\"Path not found\", { path = path }...",
          "executable": true
        },
        "1449": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Continue to generate reports, but remembe...",
          "executable": false
        },
        "551": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        enabled = true,",
          "executable": true
        },
        "1447": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not test_success then",
          "executable": true
        },
        "1446": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- CRITICAL FIX: Ensure test failures cause th...",
          "executable": false
        },
        "1213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      i = i + 1",
          "executable": true
        },
        "1444": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test_success = runner.run_all(path, firmo, opt...",
          "executable": true
        },
        "195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local save_path = package.path",
          "executable": true
        },
        "295": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if result.status == \"fail\" then",
          "executable": true
        },
        "395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                details = \"\",",
          "executable": true
        },
        "495": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  ---@type TestResult[]",
          "executable": false
        },
        "595": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_errors = state.errors or 0",
          "executable": true
        },
        "695": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "795": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            path = result.path_string,",
          "executable": true
        },
        "895": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if options.debug then",
          "executable": true
        },
        "995": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Quality summary\", {",
          "executable": true
        },
        "1443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Detected directory path\", { path ...",
          "executable": true
        },
        "1066": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Watch mode for continuous testing",
          "executable": false
        },
        "1442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Run all tests in directory",
          "executable": false
        },
        "1441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if fs.directory_exists(path) then",
          "executable": true
        },
        "1207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg:match(\"^%-%-threshold=(%d+)$\") then",
          "executable": true
        },
        "499": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    module_reset.register_with_firmo(firmo)",
          "executable": true
        },
        "1439": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local test_success = false",
          "executable": true
        },
        "1438": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- We can automatically detect directories witho...",
          "executable": false
        },
        "1362": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Merge include/exclude from config file",
          "executable": false
        },
        "1436": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1435": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    options.coverage_instance = coverage",
          "executable": true
        },
        "1122": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      last_change_time = current_time",
          "executable": true
        },
        "1143": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      need_to_run = false",
          "executable": true
        },
        "406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          classname = file_path:match(\"([^/\\\\]+)$\"...",
          "executable": true
        },
        "506": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1019": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        skipped = total_skipped,",
          "executable": true
        },
        "806": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "906": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(\"  Function coverage (raw): \" .. tos...",
          "executable": true
        },
        "606": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "706": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1430": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.info(\"Coverage tracking started succe...",
          "executable": true
        },
        "1237": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1426": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error = error_handler.format_error(err)",
          "executable": true
        },
        "1189": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      print(\"SET COVERAGE OPTION TO TRUE\")",
          "executable": true
        },
        "106": {
          "covered": true,
          "executed": true,
          "execution_count": 16,
          "line_type": "code",
          "content": "    if context and context.test_result and type(co...",
          "executable": true
        },
        "1424": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not ok then",
          "executable": true
        },
        "749": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          slowest_tests[5] = result",
          "executable": true
        },
        "1413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      coverage.init(coverage_config)",
          "executable": true
        },
        "1418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        include_patterns = coverage_config.include...",
          "executable": true
        },
        "1166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    report_dir = \"./coverage-reports\", -- Director...",
          "executable": true
        },
        "1417": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.debug(\"Coverage initialized with conf...",
          "executable": true
        },
        "1415": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      coverage.start()",
          "executable": true
        },
        "1420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        debug_mode = coverage_config.debug",
          "executable": true
        },
        "1107": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local debounce_time = 0.5 -- seconds to wait aft...",
          "executable": true
        },
        "1412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Initialize coverage with the merged confi...",
          "executable": false
        },
        "285": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Fall back to traditional counters if we cou...",
          "executable": false
        },
        "1451": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif fs.file_exists(path) then",
          "executable": true
        },
        "1409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        }",
          "executable": true
        },
        "118": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- Expected error test pass",
          "executable": false
        },
        "84": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for i, v in ipairs(args) do",
          "executable": true
        },
        "1304": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Setup watch mode for continuous testing",
          "executable": false
        },
        "1407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"**/*_test.lua\",     -- Test files with ...",
          "executable": true
        },
        "1680": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "1149": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return run_success",
          "executable": true
        },
        "1311": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Try to load the central configuration",
          "executable": false
        },
        "1403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"**/*.lua\",     -- All Lua files by defa...",
          "executable": true
        },
        "1397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Fallback to reasonable defaults if no c...",
          "executable": false
        },
        "1396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "1393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          include_patterns = #(coverage_config.inc...",
          "executable": true
        },
        "1391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          coverage_config.debug = file_config.debu...",
          "executable": true
        },
        "555": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "1387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1537": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "1384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if file_config.track_all_executed ~= nil t...",
          "executable": true
        },
        "310": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local name = line:match(\"FAIL%s+(.+)\")",
          "executable": true
        },
        "428": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    exclude_patterns = table.concat(exclude_patter...",
          "executable": true
        },
        "528": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          logger.error(\"Failed to start coverage i...",
          "executable": true
        },
        "228": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "328": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- CRITICAL FIX: Ensure execution errors are c...",
          "executable": false
        },
        "828": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "928": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "628": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        total_collected = #all_test_results",
          "executable": true
        },
        "728": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Calculate statistics on test execution time i...",
          "executable": false
        },
        "1381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          coverage_config.auto_fix_block_relations...",
          "executable": true
        },
        "692": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          status_color = green",
          "executable": true
        },
        "393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                message = \"Test failed: \" .. name,",
          "executable": true
        },
        "1551": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "1377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          coverage_config.use_static_analysis = fi...",
          "executable": true
        },
        "128": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local reason = result.reason and (\" - \" .....",
          "executable": true
        },
        "581": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.report_dir = arg:match(\"^%-%-report%...",
          "executable": true
        },
        "1375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          coverage_config.track_blocks = file_conf...",
          "executable": true
        },
        "1380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if file_config.auto_fix_block_relationship...",
          "executable": true
        },
        "1371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Apply other config file settings (but c...",
          "executable": false
        },
        "1540": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "1369": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1158": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    coverage_debug = false, -- Enable debug output...",
          "executable": true
        },
        "183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Also set global context",
          "executable": false
        },
        "1367": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if file_config.exclude then",
          "executable": true
        },
        "1366": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1365": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "762": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        average_test_execution_time = total_execut...",
          "executable": true
        },
        "1363": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if file_config.include then ",
          "executable": true
        },
        "1437": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if path is a file or directory",
          "executable": false
        },
        "254": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    success = success,",
          "executable": true
        },
        "1460": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        path = path,",
          "executable": true
        },
        "1359": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if central_config then",
          "executable": true
        },
        "1358": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Apply config from central configuration i...",
          "executable": false
        },
        "1357": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1620": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "700": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          i,",
          "executable": true
        },
        "1354": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        discover_uncovered = options.discover_unco...",
          "executable": true
        },
        "1353": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        debug = options.coverage_debug == true,",
          "executable": true
        },
        "1302": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if we're running in watch mode",
          "executable": false
        },
        "512": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        operation = \"run_all\",",
          "executable": true
        },
        "1349": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Build coverage configuration from configu...",
          "executable": false
        },
        "362": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        test_cases = {},",
          "executable": true
        },
        "1504": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "1346": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1157": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    coverage = false, -- Enable coverage tracking",
          "executable": true
        },
        "1345": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1344": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false",
          "executable": true
        },
        "1046": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "1343": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "1341": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.error(\"Failed to load coverage module...",
          "executable": true
        },
        "1340": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not coverage_loaded then",
          "executable": true
        },
        "1251": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --coverage, -c        Enable coverage t...",
          "executable": true
        },
        "1058": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1338": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    coverage_loaded, coverage = pcall(require, \"li...",
          "executable": true
        },
        "1337": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local coverage_loaded",
          "executable": true
        },
        "1334": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    exclude_patterns = { \"fixtures/*\" }, -- Patter...",
          "executable": true
        },
        "1332": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1284": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  report_dir:\", options.report_dir)",
          "executable": true
        },
        "1329": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "1328": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1327": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1326": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "1271": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Print all args for debugging",
          "executable": false
        },
        "1069": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.error(\"Watch mode unavailable\", { reaso...",
          "executable": true
        },
        "1560": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1138": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "1178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  while i <= #args do",
          "executable": true
        },
        "1321": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config_loaded then",
          "executable": true
        },
        "1319": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if fs.file_exists(\".firmo-config.lua\") then",
          "executable": true
        },
        "1318": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Try to load from .firmo-config.lua if it ex...",
          "executable": false
        },
        "379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          elseif line:match(\"PENDING%s+\") then",
          "executable": true
        },
        "1314": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if central_config_loaded then",
          "executable": true
        },
        "1313": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local central_config_loaded, central_config_resu...",
          "executable": true
        },
        "1102": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "1404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        coverage_config.exclude = coverage_config....",
          "executable": true
        },
        "1309": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local coverage = nil",
          "executable": true
        },
        "1057": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "1049": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            test_case.metadata = result.options",
          "executable": true
        },
        "1580": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local line_percent = total_lines > 0 a...",
          "executable": true
        },
        "691": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if result.status == \"pass\" then ",
          "executable": true
        },
        "1303": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.watch then",
          "executable": true
        },
        "1351": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        enabled = true,",
          "executable": true
        },
        "1301": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1041": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            test_case.failure = {",
          "executable": true
        },
        "1274": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    print(i, arg)",
          "executable": true
        },
        "1296": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    firmo_loaded, firmo = pcall(require, \"firmo\")",
          "executable": true
        },
        "1295": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Try again with relative path",
          "executable": false
        },
        "1294": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not firmo_loaded then",
          "executable": true
        },
        "1291": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1637": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      function_coverage_percent = report_data.summ...",
          "executable": true
        },
        "249": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1235": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif not arg:match(\"^%-\") and not path then",
          "executable": true
        },
        "1286": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Make sure we have a path",
          "executable": false
        },
        "518": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.warn(\"Coverage instance is not acti...",
          "executable": true
        },
        "418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Find test files in a directory",
          "executable": false
        },
        "318": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      temp_file.cleanup_all()",
          "executable": true
        },
        "918": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "818": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "718": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    files_passed = passed_files,",
          "executable": true
        },
        "618": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "51": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- We want to capture just this file's results, ...",
          "executable": false
        },
        "41": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   - errors: number Number of failing tests",
          "executable": false
        },
        "31": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local cyan = string.char(27) .. \"[36m\"",
          "executable": true
        },
        "21": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "logging.configure_from_config(\"runner\")",
          "executable": true
        },
        "968": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          logger.info(\"Generated JSON quality repo...",
          "executable": true
        },
        "81": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local args = {...}",
          "executable": true
        },
        "71": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Count PASS/FAIL from test output",
          "executable": false
        },
        "868": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "456": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Filtered test files\", {",
          "executable": true
        },
        "356": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        timestamp = os.date(\"!%Y-%m-%dT%H:%M:%S\"),",
          "executable": true
        },
        "656": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local status_color = \"\"",
          "executable": true
        },
        "556": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "11": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local logging = require(\"lib.tools.logging\")",
          "executable": true
        },
        "1199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg:match(\"^%-%-pattern=(.+)$\") then",
          "executable": true
        },
        "256": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    passes = pass_count,",
          "executable": true
        },
        "156": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1285": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1330": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Central configuration module not ...",
          "executable": true
        },
        "1283": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  coverage:\", options.coverage)",
          "executable": true
        },
        "1281": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"Parsed options:\")",
          "executable": true
        },
        "856": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local file_count = 0",
          "executable": true
        },
        "756": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1059": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Format as JSON with markers for parallel ...",
          "executable": false
        },
        "956": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            error = err and error_handler.format_e...",
          "executable": true
        },
        "658": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          status_color = green",
          "executable": true
        },
        "558": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error = error_handler.format_error(quality...",
          "executable": true
        },
        "458": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      original_count = #files,",
          "executable": true
        },
        "358": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        failures = results.errors,",
          "executable": true
        },
        "258": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    skipped = skip_count,",
          "executable": true
        },
        "158": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local temp_file_integration",
          "executable": true
        },
        "1278": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local path, options = runner.parse_arguments(arg...",
          "executable": true
        },
        "782": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not all_passed then",
          "executable": true
        },
        "50": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Always initialize counter properties for this...",
          "executable": false
        },
        "60": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Reset test_definition module state if availab...",
          "executable": false
        },
        "70": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.info(\"Running file\", { file_path = file_p...",
          "executable": true
        },
        "80": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Convert arguments to strings first to handl...",
          "executable": false
        },
        "838": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local formats = { \"html\", \"json\", \"lcov\", \"cob...",
          "executable": true
        },
        "20": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local logger = logging.get_logger(\"runner\")",
          "executable": true
        },
        "30": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local yellow = string.char(27) .. \"[33m\"",
          "executable": true
        },
        "938": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local reporting_loaded, reporting = pcall(requ...",
          "executable": true
        },
        "366": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Extract test cases if possible",
          "executable": false
        },
        "466": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "566": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- CRITICAL FIX: Consider a file failed if:",
          "executable": false
        },
        "666": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          i,",
          "executable": true
        },
        "1299": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false",
          "executable": true
        },
        "1273": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for i, arg in ipairs(args) do",
          "executable": true
        },
        "166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Also load the temp_file module",
          "executable": false
        },
        "266": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local test_definition = require(\"lib.core.test_d...",
          "executable": true
        },
        "1230": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Help flag",
          "executable": false
        },
        "424": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.info(\"Finding test files\", {",
          "executable": true
        },
        "1270": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function runner.main(args)",
          "executable": true
        },
        "1269": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Main function to run tests from command line",
          "executable": false
        },
        "766": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "866": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        files_count = file_count",
          "executable": true
        },
        "966": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1268": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "568": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- 2. There were test failures (results.errors...",
          "executable": false
        },
        "668": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          result.status:upper(),",
          "executable": true
        },
        "368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if line:match(\"PASS%s+\") or line:match(\"FA...",
          "executable": true
        },
        "468": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param files_or_dir string|string[] Either a di...",
          "executable": false
        },
        "168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if temp_file_loaded then",
          "executable": true
        },
        "268": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local state = test_definition.get_state()",
          "executable": true
        },
        "1267": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  lua scripts/runner.lua --coverage tests...",
          "executable": true
        },
        "1266": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  lua scripts/runner.lua --pattern=covera...",
          "executable": true
        },
        "392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              test_case.failure = {",
          "executable": true
        },
        "1260": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --json, -j            Output JSON resul...",
          "executable": true
        },
        "1259": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --watch, -w           Enable watch mode...",
          "executable": true
        },
        "1257": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --memory, -m          Track memory usag...",
          "executable": true
        },
        "559": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "1317": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "711": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "811": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          elseif line:match(\"SKIP%s+\") then",
          "executable": true
        },
        "276": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.debug(\"Using test_definition state fo...",
          "executable": true
        },
        "176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "354": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local test_results = {",
          "executable": true
        },
        "776": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "676": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "576": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        execution_success = results.success,",
          "executable": true
        },
        "476": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(files_or_dir) == \"string\" then",
          "executable": true
        },
        "1246": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"Where path can be a file or directory, an...",
          "executable": true
        },
        "415": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "976": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "876": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "1244": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"Usage: lua scripts/runner.lua [options] [...",
          "executable": true
        },
        "1032": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            name = result.name,",
          "executable": true
        },
        "1241": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1240": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return path, options",
          "executable": true
        },
        "1238": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    i = i + 1",
          "executable": true
        },
        "1429": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1105": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  watcher.init(directories, exclude_patterns)",
          "executable": true
        },
        "1287": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not path then",
          "executable": true
        },
        "90": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1234": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- First non-flag argument is considered the p...",
          "executable": false
        },
        "1080": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local files = {}",
          "executable": true
        },
        "1648": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      function_coverage_percent = string.format(\"%...",
          "executable": true
        },
        "1290": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "1225": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      i = i + 1",
          "executable": true
        },
        "1067": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function runner.watch_mode(path, firmo, options)",
          "executable": true
        },
        "1221": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg == \"--quality-level\" and i < #args ...",
          "executable": true
        },
        "1533": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "958": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "858": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for _ in pairs(report_data.files) do",
          "executable": true
        },
        "758": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Calculate average execution time",
          "executable": false
        },
        "286": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    results.passes = pass_count > 0 and pass_count...",
          "executable": true
        },
        "386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              classname = file_path:match(\"([^/\\\\]...",
          "executable": true
        },
        "1219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      i = i + 1",
          "executable": true
        },
        "186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "686": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.verbose and #all_test_results > 0 the...",
          "executable": true
        },
        "786": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "486": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "586": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1070": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "1205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg:match(\"^%-%-quality%-level=(%d+)$\")...",
          "executable": true
        },
        "886": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "986": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.filter = args[i]",
          "executable": true
        },
        "1216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      i = i + 1",
          "executable": true
        },
        "1632": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "1214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.pattern = args[i]",
          "executable": true
        },
        "1445": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg == \"--pattern\" and i < #args then",
          "executable": true
        },
        "1187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg == \"--coverage\" or arg == \"-c\" then",
          "executable": true
        },
        "1005": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local json_module",
          "executable": true
        },
        "1211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Options with values (separate argument)",
          "executable": false
        },
        "1210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.formats = { arg:match(\"^%-%-format=(...",
          "executable": true
        },
        "1209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg:match(\"^%-%-format=(.+)$\") then",
          "executable": true
        },
        "1208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.threshold = tonumber(arg:match(\"^%-%...",
          "executable": true
        },
        "1206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.quality_level = tonumber(arg:match(\"...",
          "executable": true
        },
        "1190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg == \"--coverage-debug\" or arg == \"-c...",
          "executable": true
        },
        "1218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg == \"--report-dir\" and i < #args the...",
          "executable": true
        },
        "1203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg:match(\"^%-%-report%-dir=(.+)$\") the...",
          "executable": true
        },
        "1612": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1633": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1087": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local found = fs.discover_files({ path }, { te...",
          "executable": true
        },
        "1006": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local ok, mod = pcall(require, \"lib.reporting....",
          "executable": true
        },
        "1544": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1611": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local final_success = test_success and coverage_...",
          "executable": true
        },
        "1425": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.error(\"Failed to initialize or start ...",
          "executable": true
        },
        "1002": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Output overall JSON results if requested",
          "executable": false
        },
        "1186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.performance = true",
          "executable": true
        },
        "1185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif arg == \"--performance\" or arg == \"-p\" t...",
          "executable": true
        },
        "521": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1181": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if arg == \"--verbose\" or arg == \"-v\" then",
          "executable": true
        },
        "1179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local arg = args[i]",
          "executable": true
        },
        "1177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local i = 1",
          "executable": true
        },
        "1176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local path = nil",
          "executable": true
        },
        "134": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "234": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Copy test_definition results into file_te...",
          "executable": false
        },
        "334": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Always show the completion status with test c...",
          "executable": false
        },
        "434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not fs.directory_exists(dir_path) then",
          "executable": true
        },
        "534": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            table.insert(test_results.test_cases, ...",
          "executable": true
        },
        "298": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file = file_path,",
          "executable": true
        },
        "198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      package.path = fs.join_paths(dir, \"?.lua\") ....",
          "executable": true
        },
        "1629": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Try to safely extract coverage percentages ...",
          "executable": false
        },
        "798": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          })",
          "executable": true
        },
        "698": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "598": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Log that we're using state directly for...",
          "executable": false
        },
        "498": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if module_reset_loaded and module_reset then",
          "executable": true
        },
        "978": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Fall back to legacy approach",
          "executable": false
        },
        "878": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if success then",
          "executable": true
        },
        "1090": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        table.insert(files, file)",
          "executable": true
        },
        "1118": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local current_time = os.time()",
          "executable": true
        },
        "1172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"Parse arguments input:\")",
          "executable": true
        },
        "1512": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Count files in report_data",
          "executable": false
        },
        "1333": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    threshold = 80, -- Coverage/quality threshold",
          "executable": true
        },
        "1167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    formats = { \"html\", \"json\", \"lcov\", \"cobertura...",
          "executable": true
        },
        "1040": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if result.status == \"fail\" and result.er...",
          "executable": true
        },
        "1161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    quality_level = 3, -- Quality validation level",
          "executable": true
        },
        "1325": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          error = error_handler.format_error(confi...",
          "executable": true
        },
        "1152": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function runner.parse_arguments(args)",
          "executable": true
        },
        "1668": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for i = 1, #arg do",
          "executable": true
        },
        "621": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            result.name, result.status:upper()))",
          "executable": true
        },
        "1148": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1147": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    os.execute(\"sleep 0.1\")",
          "executable": true
        },
        "1146": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Small sleep to prevent CPU hogging",
          "executable": false
        },
        "1145": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "271": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      results.test_results = file_test_results",
          "executable": true
        },
        "1432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1142": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      last_run_time = current_time",
          "executable": true
        },
        "1096": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local dir = fs.get_directory_name(path)",
          "executable": true
        },
        "1613": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add more detailed logging about the exit stat...",
          "executable": false
        },
        "1324": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.warn(\"Failed to load .firmo-config....",
          "executable": true
        },
        "1137": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        run_success = runner.run_all(files, firmo,...",
          "executable": true
        },
        "1645": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      report_success = report_success,",
          "executable": true
        },
        "399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "1134": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      firmo.reset()",
          "executable": true
        },
        "1133": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      io.write(\"\\027[2J\\027[H\")",
          "executable": true
        },
        "1130": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if need_to_run and current_time - last_change_...",
          "executable": true
        },
        "1128": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1127": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1088": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if found then",
          "executable": true
        },
        "120": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "1123": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      need_to_run = true",
          "executable": true
        },
        "748": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- Replace the fastest of our 5 slowest",
          "executable": false
        },
        "848": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Get coverage report data",
          "executable": false
        },
        "948": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          quality_data, ",
          "executable": true
        },
        "1433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Always store coverage in options so it can ...",
          "executable": false
        },
        "724": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    failures = total_failures, -- Add these for co...",
          "executable": true
        },
        "536": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        operation = \"run_all\",",
          "executable": true
        },
        "924": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_percent = summary.file_coverage_perce...",
          "executable": true
        },
        "824": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Stopping coverage tracking\")",
          "executable": true
        },
        "236": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        table.insert(file_test_results, result)",
          "executable": true
        },
        "136": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.error = function(message, context)",
          "executable": true
        },
        "1121": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if changed_files then",
          "executable": true
        },
        "1119": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check for file changes",
          "executable": false
        },
        "1117": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  while true do",
          "executable": true
        },
        "154": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return original_logger_error(message, context)",
          "executable": true
        },
        "799": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1062": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "454": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "936": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    fs.ensure_directory_exists(report_dir)",
          "executable": true
        },
        "836": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local report_dir = options.report_dir or \"./co...",
          "executable": true
        },
        "736": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if result.execution_time then",
          "executable": true
        },
        "438": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Use filesystem module to find test files",
          "executable": false
        },
        "338": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    failures = results.errors,",
          "executable": true
        },
        "638": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    total_failures = total_failures + file_errors",
          "executable": true
        },
        "538": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "45": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   - file: string Path to the test file",
          "executable": false
        },
        "1100": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "238": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "138": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if context and context.test_result and type(co...",
          "executable": true
        },
        "1110": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local run_success = true",
          "executable": true
        },
        "1109": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local need_to_run = true",
          "executable": true
        },
        "998": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      level = report.level,",
          "executable": true
        },
        "898": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(\"  Line coverage: \" .. string.format...",
          "executable": true
        },
        "1108": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local last_change_time = 0",
          "executable": true
        },
        "1035": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            file = result.file_path,",
          "executable": true
        },
        "1103": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1312": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local central_config",
          "executable": true
        },
        "546": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    quality_loaded, quality = pcall(require, \"lib....",
          "executable": true
        },
        "734": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "834": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- get_report_data() handles stats computation...",
          "executable": false
        },
        "934": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Generate quality reports in different forma...",
          "executable": false
        },
        "146": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        fail_count = fail_count + 1",
          "executable": true
        },
        "246": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          state.passes or 0, state.errors or 0, st...",
          "executable": true
        },
        "1099": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Watching file\", { file = path, di...",
          "executable": true
        },
        "1098": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(files, path)",
          "executable": true
        },
        "1097": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(directories, dir)",
          "executable": true
        },
        "1095": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Watch the file's directory and run the spec...",
          "executable": false
        },
        "124": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      elseif result.status == \"skip\" or result.sta...",
          "executable": true
        },
        "1089": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for _, file in ipairs(found) do",
          "executable": true
        },
        "946": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local success, err = reporting.save_qualit...",
          "executable": true
        },
        "224": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "746": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end)",
          "executable": true
        },
        "846": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "348": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not ok then",
          "executable": true
        },
        "448": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Apply filter if specified",
          "executable": false
        },
        "548": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.info(\"Quality module loaded\", { purpo...",
          "executable": true
        },
        "648": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      running_total_failures = total_failures,",
          "executable": true
        },
        "1200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.pattern = arg:match(\"^%-%-pattern=(....",
          "executable": true
        },
        "1086": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local test_pattern = options.pattern or \"*_tes...",
          "executable": true
        },
        "148": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Display the failure",
          "executable": false
        },
        "248": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          #state.test_results))",
          "executable": true
        },
        "1085": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Find test files in the directory",
          "executable": false
        },
        "1150": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1081": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if path is a directory or file",
          "executable": false
        },
        "1025": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        test_cases = {}",
          "executable": true
        },
        "1233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      os.exit(0)",
          "executable": true
        },
        "1079": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local directories = {}",
          "executable": true
        },
        "1078": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Determine what to watch based on path type",
          "executable": false
        },
        "1077": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.info(\"Press Ctrl+C to exit\")",
          "executable": true
        },
        "944": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if quality_data then",
          "executable": true
        },
        "844": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.error(\"Failed to load reporting modul...",
          "executable": true
        },
        "744": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          table.sort(slowest_tests, function(a, b)...",
          "executable": true
        },
        "644": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_passes = file_passes,",
          "executable": true
        },
        "1567": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                for line_num, line_data in pairs(f...",
          "executable": true
        },
        "1074": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local watch_interval = options.interval or 1.0",
          "executable": true
        },
        "1072": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  options = options or {}",
          "executable": true
        },
        "1068": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not has_watcher then",
          "executable": true
        },
        "174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        name = file_path,",
          "executable": true
        },
        "274": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      results.skipped = state.skipped or 0",
          "executable": true
        },
        "374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            status = \"fail\"",
          "executable": true
        },
        "474": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local files",
          "executable": true
        },
        "1222": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      i = i + 1",
          "executable": true
        },
        "1568": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  if type(line_data) == \"table\" an...",
          "executable": true
        },
        "1063": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1113": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for k, v in pairs(options) do",
          "executable": true
        },
        "1279": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1056": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          test_case_count = #test_results.test_cas...",
          "executable": true
        },
        "1163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    json_output = false, -- Output JSON results",
          "executable": true
        },
        "1476": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Continue to generate reports, but remembe...",
          "executable": false
        },
        "1045": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "44": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   - elapsed: number Execution time in seconds",
          "executable": false
        },
        "324": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file = file_path,",
          "executable": true
        },
        "1300": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1050": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "1014": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        name = \"firmo-tests\",",
          "executable": true
        },
        "1038": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "1037": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          }",
          "executable": true
        },
        "1106": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local last_run_time = os.time()",
          "executable": true
        },
        "75": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Keep track of the original print function",
          "executable": false
        },
        "1242": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Print usage information",
          "executable": false
        },
        "1031": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          local test_case = {",
          "executable": true
        },
        "854": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "954": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "654": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      print(\"\\nStructured test results from \" .. f...",
          "executable": true
        },
        "754": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1030": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for _, result in ipairs(all_test_results) ...",
          "executable": true
        },
        "1467": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if result.test_errors and #result.test_error...",
          "executable": true
        },
        "1028": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Add individual test cases from structured...",
          "executable": false
        },
        "115": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "144": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Count based on status",
          "executable": false
        },
        "465": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return files",
          "executable": true
        },
        "420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  options = options or {}",
          "executable": true
        },
        "1245": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"\")",
          "executable": true
        },
        "544": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local quality_loaded, quality",
          "executable": true
        },
        "444": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      pattern = pattern,",
          "executable": true
        },
        "344": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.json_output or options.results_format...",
          "executable": true
        },
        "244": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        print(string.format(\"  Test definition res...",
          "executable": true
        },
        "414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1576": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "322": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(results.test_errors, {",
          "executable": true
        },
        "1347": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Initialize and start coverage tracking",
          "executable": false
        },
        "522": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Try to start coverage if it's not activ...",
          "executable": false
        },
        "1400": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"lib/**/*.lua\", -- Library code",
          "executable": true
        },
        "326": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1018": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        errors = 0,",
          "executable": true
        },
        "1011": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      json_module = mod",
          "executable": true
        },
        "1114": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    runner_options[k] = v",
          "executable": true
        },
        "792": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if result.status == \"fail\" then",
          "executable": true
        },
        "1372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if file_config.track_blocks ~= nil then",
          "executable": true
        },
        "85": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      string_args[i] = tostring(v)",
          "executable": true
        },
        "1033": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            path = result.path_string,",
          "executable": true
        },
        "1548": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              })",
          "executable": true
        },
        "34": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param file_path string The path to the test fi...",
          "executable": false
        },
        "964": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"json\"",
          "executable": true
        },
        "1044": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            }",
          "executable": true
        },
        "1135": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Run tests based on the files we found ear...",
          "executable": false
        },
        "664": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "564": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local results = runner.run_file(file, firmo, o...",
          "executable": true
        },
        "864": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        has_summary = report_data.summary ~= nil,",
          "executable": true
        },
        "764": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        slowest_tests = {}",
          "executable": true
        },
        "394": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                type = \"Assertion\",",
          "executable": true
        },
        "494": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Collection to aggregate test results from all...",
          "executable": false
        },
        "194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Ensure proper package path for test file",
          "executable": false
        },
        "294": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for _, result in ipairs(results.test_results or ...",
          "executable": true
        },
        "330": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- it will still be properly counted as a fail...",
          "executable": false
        },
        "430": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Handle directory existence check properly",
          "executable": false
        },
        "1022": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        files_passed = passed_files,",
          "executable": true
        },
        "1368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          coverage_config.exclude = file_config.ex...",
          "executable": true
        },
        "1264": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  lua scripts/runner.lua tests/coverage_t...",
          "executable": true
        },
        "1276": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1479": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Path not found",
          "executable": false
        },
        "682": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "141": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Store the result for reporting",
          "executable": false
        },
        "1247": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --pattern=<pattern>   Only run test fil...",
          "executable": true
        },
        "389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            }",
          "executable": true
        },
        "1355": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        threshold = options.threshold or 80",
          "executable": true
        },
        "1125": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for _, file in ipairs(changed_files) do",
          "executable": true
        },
        "365": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "565": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Count passed/failed files",
          "executable": false
        },
        "1000": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1042": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              message = result.error_message,",
          "executable": true
        },
        "1272": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"Runner.main called with arguments:\")",
          "executable": true
        },
        "412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local json_results = json_module.encode(test...",
          "executable": true
        },
        "100": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Intercept logger calls to capture structured ...",
          "executable": false
        },
        "974": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "1144": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.info(\"Watching for changes\")",
          "executable": true
        },
        "1383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1256": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --verbose, -v         Enable verbose ou...",
          "executable": true
        },
        "574": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.debug(\"File marked as failed\", {",
          "executable": true
        },
        "674": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          print(string.format(\"     Expected error...",
          "executable": true
        },
        "774": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "874": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          local report_path = fs.join_paths(report...",
          "executable": true
        },
        "264": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    temp_file_integration = temp_file_integration_...",
          "executable": true
        },
        "464": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.sort(files)",
          "executable": true
        },
        "364": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        success = success and results.errors == 0,",
          "executable": true
        },
        "1013": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local test_results = {",
          "executable": true
        },
        "459": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      filter = filter,",
          "executable": true
        },
        "291": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  results.total = results.passes + results.errors ...",
          "executable": true
        },
        "524": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          options.coverage_instance.start()",
          "executable": true
        },
        "1376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if file_config.use_static_analysis ~= nil ...",
          "executable": true
        },
        "1364": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          coverage_config.include = file_config.in...",
          "executable": true
        },
        "261": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    output = table.concat(output_buffer, \"\\n\"),",
          "executable": true
        },
        "1579": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local file_percent = file_count > 0 an...",
          "executable": true
        },
        "300": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        test_path = result.path_string,",
          "executable": true
        },
        "200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    dofile(file_path)",
          "executable": true
        },
        "1255": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --threshold=<n>       Set coverage/qual...",
          "executable": true
        },
        "596": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_skipped = state.skipped or 0",
          "executable": true
        },
        "600": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          file = file,",
          "executable": true
        },
        "602": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          state_errors = file_errors,",
          "executable": true
        },
        "605": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local temp_file_integration_loaded, temp_file_in...",
          "executable": true
        },
        "262": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test_results = file_test_results, -- Include t...",
          "executable": true
        },
        "1348": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local ok, err = pcall(function()",
          "executable": true
        },
        "462": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "615": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Add the file path to each result for ea...",
          "executable": false
        },
        "1084": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(directories, path)",
          "executable": true
        },
        "391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if status == \"fail\" then",
          "executable": true
        },
        "1599": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              file_count = file_count,",
          "executable": true
        },
        "984": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.info(\"Generated HTML quality report...",
          "executable": true
        },
        "884": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            })",
          "executable": true
        },
        "784": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      failed_files = failed_files,",
          "executable": true
        },
        "684": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local elapsed_time = os.clock() - start_time",
          "executable": true
        },
        "584": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local file_errors = results.errors",
          "executable": true
        },
        "591": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local test_definition = require(\"lib.core.te...",
          "executable": true
        },
        "1305": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return runner.watch_mode(path, firmo, options)",
          "executable": true
        },
        "159": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local temp_file",
          "executable": true
        },
        "624": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "625": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.debug(\"Collected structured test resu...",
          "executable": true
        },
        "143": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "629": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "631": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if options.verbose then",
          "executable": true
        },
        "633": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          red, file, normal))",
          "executable": true
        },
        "1661": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Return the combined success status",
          "executable": false
        },
        "651": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1621": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add additional debug logging for coverage dat...",
          "executable": false
        },
        "381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            name = line:match(\"PENDING:%s+(.+)\")",
          "executable": true
        },
        "449": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if filter and filter ~= \"\" then",
          "executable": true
        },
        "1288": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.error(\"No path specified\", { usage = \"l...",
          "executable": true
        },
        "373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          elseif line:match(\"FAIL%s+\") then",
          "executable": true
        },
        "473": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  options = options or {}",
          "executable": true
        },
        "54": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  firmo.skipped = 0",
          "executable": true
        },
        "152": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "131": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if firmo.set_current_test_context then",
          "executable": true
        },
        "101": {
          "covered": true,
          "executed": true,
          "execution_count": 16,
          "line_type": "code",
          "content": "  local original_logger_info = logger.info",
          "executable": true
        },
        "1448": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.error(\"Test failures detected in dire...",
          "executable": true
        },
        "687": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    print(string.format(\"\\n%sAll collected test re...",
          "executable": true
        },
        "163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if temp_file_integration_loaded then",
          "executable": true
        },
        "1184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.memory = true",
          "executable": true
        },
        "994": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local report = quality.summary_report()",
          "executable": true
        },
        "421": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local pattern = options.pattern or \"*.lua\"",
          "executable": true
        },
        "794": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            name = result.name,",
          "executable": true
        },
        "894": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Print detailed coverage data for debuggin...",
          "executable": false
        },
        "594": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_passes = state.passes or 0",
          "executable": true
        },
        "694": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          status_color = red",
          "executable": true
        },
        "484": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    print(string.format(\"\\n%sRunning %d test files...",
          "executable": true
        },
        "384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local test_case = {",
          "executable": true
        },
        "284": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      _G._current_temp_file_context = file_context",
          "executable": true
        },
        "446": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return {}",
          "executable": true
        },
        "1592": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              lines = string.format(\"%.2f%%\", line...",
          "executable": true
        },
        "646": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_skipped = file_skipped,",
          "executable": true
        },
        "251": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "351": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if ok then",
          "executable": true
        },
        "151": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1361": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "554": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        threshold = options.threshold or 80,",
          "executable": true
        },
        "655": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for i, result in ipairs(results.test_results...",
          "executable": true
        },
        "1388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if file_config.debug ~= nil and not option...",
          "executable": true
        },
        "355": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        name = file_path:match(\"([^/\\\\]+)$\") or fi...",
          "executable": true
        },
        "404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        table.insert(test_results.test_cases, {",
          "executable": true
        },
        "336": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.info(\"Test completed\", {",
          "executable": true
        },
        "436": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return {}",
          "executable": true
        },
        "636": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Count total tests",
          "executable": false
        },
        "1350": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local coverage_config = {",
          "executable": true
        },
        "312": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          table.insert(results.test_errors, {",
          "executable": true
        },
        "387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              time = 0, -- We don't have individua...",
          "executable": true
        },
        "187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Execute the test file",
          "executable": false
        },
        "441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.error(\"Failed to discover test files\", ...",
          "executable": true
        },
        "102": {
          "covered": true,
          "executed": true,
          "execution_count": 16,
          "line_type": "code",
          "content": "  local original_logger_error = logger.error",
          "executable": true
        },
        "1308": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local coverage_init_success = true",
          "executable": true
        },
        "715": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- - passes/failures => individual test cases pa...",
          "executable": false
        },
        "1596": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "1411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              name = name,",
          "executable": true
        },
        "533": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if state and state.test_results then",
          "executable": true
        },
        "333": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "237": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "725": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elapsed_time_seconds = string.format(\"%.2f\", e...",
          "executable": true
        },
        "1170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "537": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        solution = \"Coverage instance should be in...",
          "executable": true
        },
        "437": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "337": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    passes = results.passes,",
          "executable": true
        },
        "733": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local count_with_execution_time = 0",
          "executable": true
        },
        "738": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        count_with_execution_time = count_with_exe...",
          "executable": true
        },
        "1421": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "768": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for i, slow_test in ipairs(slowest_tests) do",
          "executable": true
        },
        "1461": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        success = result.success,",
          "executable": true
        },
        "791": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for _, result in ipairs(all_test_results) do",
          "executable": true
        },
        "729": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local timing_stats = {}",
          "executable": true
        },
        "40": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   - passes: number Number of passing tests",
          "executable": false
        },
        "10": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local error_handler = require(\"lib.tools.error_han...",
          "executable": true
        },
        "61": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local test_definition = require(\"lib.core.test_d...",
          "executable": true
        },
        "91": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Still show output",
          "executable": false
        },
        "1250": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --report-dir=<path>   Save reports to s...",
          "executable": true
        },
        "815": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    coverage_loaded = coverage_loaded,",
          "executable": true
        },
        "1248": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  print(\"  --filter=<filter>     Only run tests ma...",
          "executable": true
        },
        "825": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if coverage.stop then",
          "executable": true
        },
        "829": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.error(\"Function not found\", { functio...",
          "executable": true
        },
        "321": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.error(\"Execution error\", { error = err ...",
          "executable": true
        },
        "1408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"**/*_spec.lua\"      -- Spec files",
          "executable": true
        },
        "74": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local skip_count = 0",
          "executable": true
        },
        "64": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "505": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Module reset system activated\", {...",
          "executable": true
        },
        "427": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    filter = filter,",
          "executable": true
        },
        "527": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not ok then",
          "executable": true
        },
        "35": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param firmo table The firmo module instance",
          "executable": false
        },
        "1111": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Create a copy of options for the runner",
          "executable": false
        },
        "306": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- If we don't have structured test errors, try ...",
          "executable": false
        },
        "689": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if i <= 10 then -- Only show first 10 to avo...",
          "executable": true
        },
        "1405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"**/tests/**/*.lua\", -- Test files",
          "executable": true
        },
        "881": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            logger.error(\"Failed to generate cover...",
          "executable": true
        },
        "204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Restore original print function",
          "executable": false
        },
        "891": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Print coverage summary",
          "executable": false
        },
        "902": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Print raw values for debugging",
          "executable": false
        },
        "909": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1521": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.error(\"No files were tracked in cov...",
          "executable": true
        },
        "915": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        functions = string.format(\"%.2f%%\", summar...",
          "executable": true
        },
        "919": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Debug: Print raw values",
          "executable": false
        },
        "925": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "529": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            error = error_handler.format_error(err...",
          "executable": true
        },
        "1587": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local overall_percent = (file_percent ...",
          "executable": true
        },
        "570": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      passed_files = passed_files + 1",
          "executable": true
        },
        "1188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options.coverage = true",
          "executable": true
        }
      },
      "line_coverage_percent": 0,
      "covered_lines": 7,
      "executed_lines": 7,
      "executed_functions": 1,
      "covered_functions": 1,
      "name": "runner.lua",
      "function_coverage_percent": 100,
      "path": "scripts/runner.lua"
    },
    "./lib/coverage/debug_hook.lua": {
      "execution_coverage_percent": 36,
      "functions": {
        "fix_block_relationships:444-607": {
          "covered": true,
          "executed": true,
          "start_line": 444,
          "execution_count": 1,
          "name": "fix_block_relationships",
          "type": "closure",
          "end_line": 607
        },
        "is_running:415-417": {
          "covered": true,
          "executed": true,
          "start_line": 415,
          "execution_count": 1,
          "name": "is_running",
          "type": "closure",
          "end_line": 417
        },
        "stop:375-411": {
          "covered": true,
          "executed": true,
          "start_line": 375,
          "execution_count": 1,
          "name": "stop",
          "type": "closure",
          "end_line": 411
        },
        "get_coverage_data:421-430": {
          "covered": true,
          "executed": true,
          "start_line": 421,
          "execution_count": 2,
          "name": "get_coverage_data",
          "type": "closure",
          "end_line": 430
        },
        "set_auto_fix_block_relationships:435-439": {
          "covered": true,
          "executed": true,
          "start_line": 435,
          "execution_count": 1,
          "name": "set_auto_fix_block_relationships",
          "type": "closure",
          "end_line": 439
        }
      },
      "total_lines": 606,
      "executable_lines": 391,
      "total_functions": 5,
      "lines": {
        "132": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if normalized_path:match(lua_pattern) then",
          "executable": true
        },
        "432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    pending_relationships_resolved = 0",
          "executable": true
        },
        "532": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Extract the file path",
          "executable": false
        },
        "332": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param initial_data table Optional existing cov...",
          "executable": false
        },
        "150": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check cache first",
          "executable": false
        },
        "350": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "250": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local debug_file = io.open(\"coverage_debug.log...",
          "executable": true
        },
        "550": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      local block = file_data.logical_chunks[block...",
          "executable": true
        },
        "450": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Process pending relationships first",
          "executable": false
        },
        "142": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- By default, don't track",
          "executable": false
        },
        "201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Initialize coverage data for the file",
          "executable": false
        },
        "342": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if initial_data and type(initial_data) == \"table...",
          "executable": true
        },
        "242": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      tracked_files_log = {}",
          "executable": true
        },
        "542": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for file_path, file_data in pairs(coverage_data....",
          "executable": true
        },
        "301": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local start_line = info.linedefined",
          "executable": true
        },
        "401": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.is_running()",
          "executable": true
        },
        "501": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "601": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  )",
          "executable": true
        },
        "260": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Skip files that shouldn't be tracked",
          "executable": false
        },
        "360": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Stops the debug hook and returns the collected...",
          "executable": false
        },
        "460": {
          "covered": true,
          "executed": true,
          "execution_count": 12,
          "line_type": "code",
          "content": "            if file_data.logical_chunks[child_id] ...",
          "executable": true
        },
        "560": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            type = \"root\",",
          "executable": true
        },
        "215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function debug_hook_function(event, line)",
          "executable": true
        },
        "315": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Mark function as executed and track it as a...",
          "executable": false
        },
        "211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local active_functions = {}",
          "executable": true
        },
        "111": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(config.coverage.include) == \"table\" th...",
          "executable": true
        },
        "252": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      debug_file:write(string.format(\"File: %s\\n\",...",
          "executable": true
        },
        "352": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  debug.sethook(debug_hook_function, \"lcr\")",
          "executable": true
        },
        "452": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      for parent_id, child_blocks in pairs(file_da...",
          "executable": true
        },
        "552": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Set parent to root",
          "executable": false
        },
        "114": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local lua_pattern = pattern:gsub(\"%*%*\", \"...",
          "executable": true
        },
        "214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param line number The line number for line eve...",
          "executable": false
        },
        "411": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Recalculate summary to ensure it's up to date",
          "executable": false
        },
        "311": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end_line,",
          "executable": true
        },
        "511": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Cache the content",
          "executable": false
        },
        "570": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "470": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "                end",
          "executable": true
        },
        "370": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if original_hook then",
          "executable": true
        },
        "270": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Process based on event type",
          "executable": false
        },
        "208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "308": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path,",
          "executable": true
        },
        "408": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return nil",
          "executable": true
        },
        "508": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- If block has a parent, ensure parent has ...",
          "executable": false
        },
        "325": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif event == \"return\" then",
          "executable": true
        },
        "225": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "525": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "          -- Add to parent's children if not alrea...",
          "executable": false
        },
        "425": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- This ensures that all parent-child references ...",
          "executable": false
        },
        "129": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for _, pattern in ipairs(config.coverage.exc...",
          "executable": true
        },
        "229": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return",
          "executable": true
        },
        "329": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "108": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Otherwise check include/exclude patterns if...",
          "executable": false
        },
        "125": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "180": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "480": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "580": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      relationships_fixed = stats.relationships_fi...",
          "executable": true
        },
        "280": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    data_structure.mark_line_executed(coverage_dat...",
          "executable": true
        },
        "380": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if coverage_data then",
          "executable": true
        },
        "539": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            child.parent_id = block_id",
          "executable": true
        },
        "239": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      debug_file:write(\"Debug Hook Tracking Inform...",
          "executable": true
        },
        "139": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return should_include",
          "executable": true
        },
        "439": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "339": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "316": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    data_structure.mark_function_executed(coverage...",
          "executable": true
        },
        "216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Call the original hook if it exists",
          "executable": false
        },
        "516": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "          -- Check if block is already in parent's...",
          "executable": false
        },
        "416": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Sets whether to automatically fix block relati...",
          "executable": false
        },
        "604": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "504": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    for block_id, block_data in pairs(file_data.lo...",
          "executable": true
        },
        "116": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          should_include = true",
          "executable": true
        },
        "304": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "490": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Initialize block map and identify orphaned ...",
          "executable": false
        },
        "390": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        relationships_fixed = stats.relationships_...",
          "executable": true
        },
        "590": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "290": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        func_type = data_structure.FUNCTION_TYPES....",
          "executable": true
        },
        "190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "509": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if block_data.parent_id and block_data.paren...",
          "executable": true
        },
        "309": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      name,",
          "executable": true
        },
        "409": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "109": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check include patterns",
          "executable": false
        },
        "209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "226": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "104": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Not excluded and track_all_executed is en...",
          "executable": false
        },
        "426": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return {files_processed: number, relationships...",
          "executable": false
        },
        "526": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          if not already_child then",
          "executable": true
        },
        "514": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          parent.children = parent.children or {}",
          "executable": true
        },
        "314": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "126": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "519": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            if child_id == block_id then",
          "executable": true
        },
        "419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.set_auto_fix_block_relationships(enable...",
          "executable": true
        },
        "319": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local level = 2  -- The function that was call...",
          "executable": true
        },
        "219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "119": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "103": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "503": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Process all block relationships to ensure c...",
          "executable": false
        },
        "603": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "303": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local func_id = name .. \":\" .. start_line .. \"...",
          "executable": true
        },
        "403": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param event string The debug event (e.g., \"lin...",
          "executable": false
        },
        "113": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Convert glob patterns to Lua patterns",
          "executable": false
        },
        "269": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "369": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Restore the original hook if any",
          "executable": false
        },
        "469": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "                  break",
          "executable": true
        },
        "569": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        table.insert(file_data.logical_chunks[\"roo...",
          "executable": true
        },
        "513": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "          -- Ensure parent has children array",
          "executable": false
        },
        "413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "313": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    )",
          "executable": true
        },
        "39": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config_cache then",
          "executable": true
        },
        "29": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    include = {\"**/*.lua\"},",
          "executable": true
        },
        "19": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local hook_active = false",
          "executable": true
        },
        "79": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get configuration safely",
          "executable": false
        },
        "69": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param file_path string The file path to check",
          "executable": false
        },
        "59": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Failed to load central configurat...",
          "executable": true
        },
        "49": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end)",
          "executable": true
        },
        "99": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- If excluded, don't track",
          "executable": false
        },
        "89": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for _, pattern in ipairs(config.coverage.e...",
          "executable": true
        },
        "177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Whether initialization ...",
          "executable": false
        },
        "277": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "28": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    track_all_executed = true,",
          "executable": true
        },
        "477": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "577": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if stats.relationships_fixed > 0 or stats.pendin...",
          "executable": true
        },
        "78": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "88": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(config.coverage.exclude) == \"table\" ...",
          "executable": true
        },
        "98": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "38": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Return cached config if available",
          "executable": false
        },
        "48": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil",
          "executable": true
        },
        "58": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not config_cache then",
          "executable": true
        },
        "68": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Determines if a file should be tracked for cov...",
          "executable": false
        },
        "27": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  coverage = {",
          "executable": true
        },
        "17": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M._VERSION = \"0.1.0\"",
          "executable": true
        },
        "87": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local should_exclude = false",
          "executable": true
        },
        "77": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local normalized_path = data_structure.normalize...",
          "executable": true
        },
        "97": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "47": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "37": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_safe_config()",
          "executable": true
        },
        "67": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "57": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Log warning once (not cached, so will only lo...",
          "executable": false
        },
        "195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = normalized_path,",
          "executable": true
        },
        "295": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "395": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "495": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      block_data.children = block_data.children or...",
          "executable": true
        },
        "595": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    logger.warn(\"Cannot reset coverage data while ...",
          "executable": true
        },
        "178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function ensure_file_tracked(file_path)",
          "executable": true
        },
        "378": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "278": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "578": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    logger.info(\"Block relationships fixed\", {",
          "executable": true
        },
        "478": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "16": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Version",
          "executable": false
        },
        "26": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local default_config = {",
          "executable": true
        },
        "406": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.get_coverage_data()",
          "executable": true
        },
        "506": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if block_id == \"root\" then goto next_block e...",
          "executable": true
        },
        "76": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Normalize the path",
          "executable": false
        },
        "86": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Check exclude patterns first",
          "executable": false
        },
        "56": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "66": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return default_config",
          "executable": true
        },
        "36": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table config The configuration table",
          "executable": false
        },
        "46": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return central_config.get_config() ",
          "executable": true
        },
        "106": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return true",
          "executable": true
        },
        "288": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if info.name then",
          "executable": true
        },
        "388": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      logger.debug(\"Auto-fixed block relationships...",
          "executable": true
        },
        "488": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local orphaned_blocks = {}",
          "executable": true
        },
        "588": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "25": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Default configuration used when central_config ...",
          "executable": false
        },
        "15": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local fs = require(\"lib.tools.filesystem\")",
          "executable": true
        },
        "118": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error = err and error_handler.format_error(e...",
          "executable": true
        },
        "95": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "396": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.info(\"Stopped coverage debug hook\")",
          "executable": true
        },
        "296": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        func_type = data_structure.FUNCTION_TYPES....",
          "executable": true
        },
        "65": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "496": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "45": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if central_config and type(central_config.get_...",
          "executable": true
        },
        "35": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Gets configuration settings safely, falling ba...",
          "executable": false
        },
        "527": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            table.insert(parent.children, block_id...",
          "executable": true
        },
        "427": {
          "covered": true,
          "executed": true,
          "execution_count": 3,
          "line_type": "code",
          "content": "function M.fix_block_relationships()",
          "executable": true
        },
        "327": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local level = 2  -- The function that's return...",
          "executable": true
        },
        "227": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Skip files loaded from memory (no actual file...",
          "executable": false
        },
        "428": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Initialize statistics",
          "executable": false
        },
        "528": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            stats.relationships_fixed = stats.rela...",
          "executable": true
        },
        "228": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if info.source:sub(1, 1) ~= \"@\" then",
          "executable": true
        },
        "328": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    active_functions[level] = nil",
          "executable": true
        },
        "127": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check exclude patterns",
          "executable": false
        },
        "505": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- Skip the root block",
          "executable": false
        },
        "405": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return table|nil coverage_data The current cov...",
          "executable": false
        },
        "305": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Register the function if not already regist...",
          "executable": false
        },
        "205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file_path = normalized_path",
          "executable": true
        },
        "64": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "74": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "84": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If track_all_executed is enabled, check fil...",
          "executable": false
        },
        "94": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            break",
          "executable": true
        },
        "105": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return true",
          "executable": true
        },
        "14": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local central_config = require(\"lib.core.central_c...",
          "executable": true
        },
        "9": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local M = {}",
          "executable": true
        },
        "5": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_coverage_data fun(): table|nil Retur...",
          "executable": false
        },
        "6": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field fix_block_relationships fun(): {files_pr...",
          "executable": false
        },
        "7": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field set_auto_fix_block_relationships fun(ena...",
          "executable": false
        },
        "8": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field _VERSION string Version of this module",
          "executable": false
        },
        "1": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@class CoverageDebugHook",
          "executable": false
        },
        "2": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field start fun(coverage_data: table): boolean...",
          "executable": false
        },
        "3": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field stop fun(): boolean Stops the debug hook",
          "executable": false
        },
        "4": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field is_running fun(): boolean Checks if the ...",
          "executable": false
        },
        "33": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Configuration cache to avoid repetitive warning...",
          "executable": false
        },
        "23": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local tracked_files_log = nil",
          "executable": true
        },
        "53": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config_cache = result",
          "executable": true
        },
        "43": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Try to get configuration from central_config",
          "executable": false
        },
        "73": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "63": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config_cache = default_config",
          "executable": true
        },
        "93": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            should_exclude = true",
          "executable": true
        },
        "83": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config.coverage then",
          "executable": true
        },
        "13": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local data_structure = require(\"lib.coverage.data_...",
          "executable": true
        },
        "307": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      coverage_data,",
          "executable": true
        },
        "207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "507": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "407": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if not coverage_data then",
          "executable": true
        },
        "107": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "42": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "52": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if success and type(result) == \"table\" then",
          "executable": true
        },
        "22": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local file_cache = {}",
          "executable": true
        },
        "32": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "82": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if the file should be tracked based on ...",
          "executable": false
        },
        "92": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if normalized_path:match(lua_pattern) th...",
          "executable": true
        },
        "62": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Cache the default to avoid repeated warning...",
          "executable": false
        },
        "72": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not file_path then",
          "executable": true
        },
        "12": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local logger = require(\"lib.tools.logging\")",
          "executable": true
        },
        "417": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param enabled boolean Whether to enable automa...",
          "executable": false
        },
        "517": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          local already_child = false",
          "executable": true
        },
        "217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if original_hook then",
          "executable": true
        },
        "317": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "518": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          for _, child_id in ipairs(parent.childre...",
          "executable": true
        },
        "418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Always returns true",
          "executable": false
        },
        "318": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Remember this function is active at this le...",
          "executable": false
        },
        "218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    original_hook(event, line)",
          "executable": true
        },
        "117": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          break",
          "executable": true
        },
        "51": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- If successful and returned a table, use it",
          "executable": false
        },
        "41": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "31": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "21": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local coverage_data = nil",
          "executable": true
        },
        "91": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          local lua_pattern = pattern:gsub(\"%*%*\",...",
          "executable": true
        },
        "81": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "71": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function should_track_file(file_path)",
          "executable": true
        },
        "61": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "456": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          file_data.logical_chunks[parent_id].chil...",
          "executable": true
        },
        "356": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "556": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Add to root's children",
          "executable": false
        },
        "11": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local error_handler = require(\"lib.tools.error_han...",
          "executable": true
        },
        "256": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      debug_file:close()",
          "executable": true
        },
        "156": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local content, err = error_handler.safe_io_opera...",
          "executable": true
        },
        "535": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        for _, child_id in ipairs(block_data.child...",
          "executable": true
        },
        "335": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if hook is already running",
          "executable": false
        },
        "435": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Check if coverage data exists",
          "executable": false
        },
        "135": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "235": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Record file paths for debugging",
          "executable": false
        },
        "558": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          file_data.logical_chunks[\"root\"] = {",
          "executable": true
        },
        "458": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          for _, child_id in ipairs(child_blocks) ...",
          "executable": true
        },
        "358": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "258": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "158": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file_path,",
          "executable": true
        },
        "50": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "60": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error = success and \"No configuration return...",
          "executable": true
        },
        "70": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean should_track Whether the file s...",
          "executable": false
        },
        "80": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local config = get_safe_config()",
          "executable": true
        },
        "10": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dependencies",
          "executable": false
        },
        "20": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local original_hook = nil",
          "executable": true
        },
        "30": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    exclude = {}",
          "executable": true
        },
        "40": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return config_cache",
          "executable": true
        },
        "366": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "466": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "              for _, existing_child_id in ipairs(f...",
          "executable": true
        },
        "566": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        file_data.logical_chunks[\"root\"].children ...",
          "executable": true
        },
        "166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "266": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not ensure_file_tracked(file_path) then",
          "executable": true
        },
        "545": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      ::next_block::",
          "executable": true
        },
        "445": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Check if the file has block data",
          "executable": false
        },
        "345": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    coverage_data = data_structure.create()",
          "executable": true
        },
        "245": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "145": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Gets the source code for a file, caching the r...",
          "executable": false
        },
        "568": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Add orphaned block to root's children",
          "executable": false
        },
        "368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "468": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "                  already_child = true",
          "executable": true
        },
        "168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "268": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "447": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      goto continue",
          "executable": true
        },
        "347": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "547": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "247": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if event == \"line\" and tracked_files_log and not...",
          "executable": true
        },
        "147": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return string|nil source_code The source code ...",
          "executable": false
        },
        "376": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Mark as inactive first to prevent hook from f...",
          "executable": false
        },
        "276": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      debug_file:close()",
          "executable": true
        },
        "176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param file_path string The file path",
          "executable": false
        },
        "576": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Log results",
          "executable": false
        },
        "476": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "              end",
          "executable": true
        },
        "90": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- Convert glob patterns to Lua patterns",
          "executable": false
        },
        "557": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if not file_data.logical_chunks[\"root\"] th...",
          "executable": true
        },
        "357": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.info(\"Started coverage debug hook\")",
          "executable": true
        },
        "457": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "157": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    function() return fs.read_file(file_path) end,",
          "executable": true
        },
        "257": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "286": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "386": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if auto_fix_block_relationships then",
          "executable": true
        },
        "186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if file is already initialized",
          "executable": false
        },
        "486": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Build a map of blocks by ID for efficient a...",
          "executable": false
        },
        "586": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "123": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not should_include then",
          "executable": true
        },
        "223": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not info or not info.source then",
          "executable": true
        },
        "323": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    }",
          "executable": true
        },
        "423": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "523": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "275": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      debug_file:write(string.format(\"EXECUTING: %...",
          "executable": true
        },
        "375": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "134": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "234": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "334": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.start(initial_data)",
          "executable": true
        },
        "475": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "                stats.pending_relationships_resolv...",
          "executable": true
        },
        "534": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if block_data.children then",
          "executable": true
        },
        "398": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "298": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "598": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "498": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if block_data.parent_id and block_data.paren...",
          "executable": true
        },
        "337": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Debug hook is already running\")",
          "executable": true
        },
        "437": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    logger.debug(\"No coverage data available for b...",
          "executable": true
        },
        "537": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "402": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return hook_active",
          "executable": true
        },
        "302": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local end_line = info.lastlinedefined",
          "executable": true
        },
        "137": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "502": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "133": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          return false",
          "executable": true
        },
        "333": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Whether the hook was su...",
          "executable": false
        },
        "233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local file_path = info.source:sub(2)  -- Remove ...",
          "executable": true
        },
        "533": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- If block has children, ensure each child ...",
          "executable": false
        },
        "433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "385": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Fix block relationships if auto-fix is enab...",
          "executable": false
        },
        "285": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local func_type = data_structure.FUNCTION_TYPE...",
          "executable": true
        },
        "185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "585": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      files_processed = stats.files_processed",
          "executable": true
        },
        "485": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  data_structure.initialize_file(coverage_data, no...",
          "executable": true
        },
        "102": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "241": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      debug_file:close()",
          "executable": true
        },
        "341": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Initialize coverage data",
          "executable": false
        },
        "441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Process each file",
          "executable": false
        },
        "541": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if data_structure.get_file_data(coverage_data, n...",
          "executable": true
        },
        "387": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      local stats = M.fix_block_relationships()",
          "executable": true
        },
        "287": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Determine function type",
          "executable": false
        },
        "312": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      func_type",
          "executable": true
        },
        "487": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local block_map = {}",
          "executable": true
        },
        "512": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if parent then",
          "executable": true
        },
        "536": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          local child = file_data.logical_chunks[c...",
          "executable": true
        },
        "436": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if not coverage_data or not coverage_data.files ...",
          "executable": true
        },
        "336": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if hook_active then",
          "executable": true
        },
        "236": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if event == \"line\" and not tracked_files_log the...",
          "executable": true
        },
        "136": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "355": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  hook_active = true",
          "executable": true
        },
        "455": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "          -- Parent exists, add all children",
          "executable": false
        },
        "555": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "454": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if file_data.logical_chunks[parent_id] the...",
          "executable": true
        },
        "554": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        stats.relationships_fixed = stats.relation...",
          "executable": true
        },
        "254": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      debug_file:write(string.format(\"Current even...",
          "executable": true
        },
        "255": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      debug_file:write(string.format(\"Current line...",
          "executable": true
        },
        "438": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return stats",
          "executable": true
        },
        "338": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "151": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if file_cache[file_path] then",
          "executable": true
        },
        "212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- The debug hook function that tracks line execu...",
          "executable": false
        },
        "351": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Set our debug hook to track lines, calls, and...",
          "executable": false
        },
        "251": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if debug_file then",
          "executable": true
        },
        "238": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if debug_file then",
          "executable": true
        },
        "451": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if file_data._pending_child_blocks then",
          "executable": true
        },
        "297": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "397": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "497": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- Check for orphaned blocks (has parent_id ...",
          "executable": false
        },
        "597": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "546": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "346": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "446": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if not file_data.logical_chunks then",
          "executable": true
        },
        "146": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param file_path string The file path",
          "executable": false
        },
        "246": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Track unique files for debugging",
          "executable": false
        },
        "465": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "              local already_child = false",
          "executable": true
        },
        "365": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Debug hook is not running\")",
          "executable": true
        },
        "124": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false",
          "executable": true
        },
        "565": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Ensure root has children array",
          "executable": false
        },
        "324": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "224": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return",
          "executable": true
        },
        "265": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Ensure file is initialized in coverage data",
          "executable": false
        },
        "424": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Fixes inconsistent parent-child relationships ...",
          "executable": false
        },
        "348": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Store the original hook if any",
          "executable": false
        },
        "448": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "548": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Handle orphaned blocks - connect them to th...",
          "executable": false
        },
        "421": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.debug(\"Auto-fix block relationships \" .. ...",
          "executable": true
        },
        "521": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "              break",
          "executable": true
        },
        "221": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get information about the current execution",
          "executable": false
        },
        "248": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    tracked_files_log[file_path] = true",
          "executable": true
        },
        "563": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Failed to read source file\", {",
          "executable": true
        },
        "263": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "363": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if hook is running",
          "executable": false
        },
        "463": {
          "covered": false,
          "executed": true,
          "execution_count": 12,
          "line_type": "blank",
          "content": "              ",
          "executable": false
        },
        "179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not file_path or not should_track_file(file_p...",
          "executable": true
        },
        "274": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if debug_file then",
          "executable": true
        },
        "374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "474": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "                table.insert(file_data.logical_chu...",
          "executable": true
        },
        "579": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      files_processed = stats.files_processed,",
          "executable": true
        },
        "479": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "131": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local lua_pattern = pattern:gsub(\"%*%*\", \"...",
          "executable": true
        },
        "531": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    relationships_fixed = 0,",
          "executable": true
        },
        "331": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Starts the debug hook for coverage tracking",
          "executable": false
        },
        "231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "573": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    ::continue::",
          "executable": true
        },
        "273": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local debug_file = io.open(\"coverage_execution...",
          "executable": true
        },
        "173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return content",
          "executable": true
        },
        "473": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "              if not already_child then",
          "executable": true
        },
        "373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    debug.sethook() -- This clears the hook",
          "executable": true
        },
        "530": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "249": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local track_status = should_track_file(file_pa...",
          "executable": true
        },
        "349": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  original_hook = debug.gethook()",
          "executable": true
        },
        "149": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_file_source(file_path)",
          "executable": true
        },
        "544": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "444": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "449": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "244": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "181": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "281": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "381": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Let the data_structure module handle all ca...",
          "executable": false
        },
        "481": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "143": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return false",
          "executable": true
        },
        "443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    stats.files_processed = stats.files_processed ...",
          "executable": true
        },
        "543": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "243": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "343": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    coverage_data = initial_data",
          "executable": true
        },
        "394": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "494": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- Initialize children array if it doesn't e...",
          "executable": false
        },
        "159": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    {operation = \"read_source_file\"}",
          "executable": true
        },
        "500": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "591": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Resets the coverage data to a clean state",
          "executable": false
        },
        "559": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            id = \"root\",",
          "executable": true
        },
        "459": {
          "covered": false,
          "executed": true,
          "execution_count": 13,
          "line_type": "comment",
          "content": "            -- Check if child exists",
          "executable": false
        },
        "291": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      elseif info.namewhat == \"local\" then",
          "executable": true
        },
        "191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the source code",
          "executable": false
        },
        "491": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    for block_id, block_data in pairs(file_data.lo...",
          "executable": true
        },
        "391": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        pending_relationships_resolved = stats.pen...",
          "executable": true
        },
        "462": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "              file_data.logical_chunks[child_id].p...",
          "executable": true
        },
        "362": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.stop()",
          "executable": true
        },
        "262": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return",
          "executable": true
        },
        "162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not content then",
          "executable": true
        },
        "606": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 606",
          "executable": false
        },
        "605": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "return M",
          "executable": true
        },
        "602": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.info(\"Reset coverage data\")",
          "executable": true
        },
        "600": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  file_cache = {}",
          "executable": true
        },
        "153": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "599": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  coverage_data = data_structure.create()",
          "executable": true
        },
        "596": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "379": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Calculate coverage summary using the central ...",
          "executable": false
        },
        "200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "300": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Create a function ID for tracking",
          "executable": false
        },
        "353": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "253": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      debug_file:write(string.format(\"Should track...",
          "executable": true
        },
        "264": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = file_path,",
          "executable": true
        },
        "464": {
          "covered": false,
          "executed": true,
          "execution_count": 12,
          "line_type": "comment",
          "content": "              -- Add to parent's children array if...",
          "executable": false
        },
        "364": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not hook_active then",
          "executable": true
        },
        "593": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.reset()",
          "executable": true
        },
        "306": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    data_structure.register_function(",
          "executable": true
        },
        "561": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            children = {}",
          "executable": true
        },
        "589": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return stats",
          "executable": true
        },
        "361": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Whether the hook was su...",
          "executable": false
        },
        "461": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "              -- Update child's parent_id",
          "executable": false
        },
        "161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "261": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not should_track_file(file_path) then",
          "executable": true
        },
        "587": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "549": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    for _, block_id in ipairs(orphaned_blocks) do",
          "executable": true
        },
        "128": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(config.coverage.exclude) == \"table\" th...",
          "executable": true
        },
        "562": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          }",
          "executable": true
        },
        "372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "472": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "              ",
          "executable": false
        },
        "172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "272": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Debug line execution tracking",
          "executable": false
        },
        "267": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return",
          "executable": true
        },
        "581": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      pending_relationships_resolved = stats.pendi...",
          "executable": true
        },
        "575": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "574": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "144": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "524": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "567": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "564": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "520": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "              already_child = true",
          "executable": true
        },
        "553": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        block.parent_id = \"root\"",
          "executable": true
        },
        "551": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if block then",
          "executable": true
        },
        "584": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    logger.debug(\"No block relationships needed fi...",
          "executable": true
        },
        "210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Map to track active functions ",
          "executable": false
        },
        "110": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local should_include = false",
          "executable": true
        },
        "410": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "310": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      start_line,",
          "executable": true
        },
        "220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "538": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          if child and child.parent_id ~= block_id...",
          "executable": true
        },
        "529": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "571": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "471": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "              end",
          "executable": true
        },
        "371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    debug.sethook(original_hook, \"clr\") -- Ensure ...",
          "executable": true
        },
        "271": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if event == \"line\" then",
          "executable": true
        },
        "171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  file_cache[file_path] = content",
          "executable": true
        },
        "359": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "515": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "572": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "152": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return file_cache[file_path]",
          "executable": true
        },
        "282": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif event == \"call\" then",
          "executable": true
        },
        "182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "482": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- Clear pending relationships",
          "executable": false
        },
        "382": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Just use calculate_summary, which will ensu...",
          "executable": false
        },
        "100": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if should_exclude then",
          "executable": true
        },
        "169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  data_structure.calculate_summary(coverage_data)",
          "executable": true
        },
        "165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error = error_handler.format_error(err)",
          "executable": true
        },
        "121": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Initializes coverage for a file if not already...",
          "executable": false
        },
        "54": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        },
        "279": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Mark the current line as executed",
          "executable": false
        },
        "18": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Module state",
          "executable": false
        },
        "594": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if hook_active then",
          "executable": true
        },
        "377": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  hook_active = false",
          "executable": true
        },
        "120": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "384": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "389": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        files_processed = stats.files_processed,",
          "executable": true
        },
        "489": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "189": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "289": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if info.namewhat == \"global\" then",
          "executable": true
        },
        "344": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "354": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Mark as active",
          "executable": false
        },
        "141": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "112": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for _, pattern in ipairs(config.coverage.inc...",
          "executable": true
        },
        "155": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Read the file content",
          "executable": false
        },
        "154": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil, err",
          "executable": true
        },
        "582": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "259": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "130": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Convert glob patterns to Lua patterns",
          "executable": false
        },
        "192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local source_code, err = get_file_source(file_pa...",
          "executable": true
        },
        "292": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        func_type = data_structure.FUNCTION_TYPES....",
          "executable": true
        },
        "392": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "492": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      block_map[block_id] = block_data",
          "executable": true
        },
        "230": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.debug(\"Initialized coverage tracking for ...",
          "executable": true
        },
        "583": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "101": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false",
          "executable": true
        },
        "383": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    data_structure.calculate_summary(coverage_data...",
          "executable": true
        },
        "483": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      file_data._pending_child_blocks = {}",
          "executable": true
        },
        "183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Normalize the path",
          "executable": false
        },
        "283": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Extract function information",
          "executable": false
        },
        "184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local normalized_path = data_structure.normalize...",
          "executable": true
        },
        "284": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local name = info.name or \"anonymous\"",
          "executable": true
        },
        "540": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            stats.relationships_fixed = stats.rela...",
          "executable": true
        },
        "148": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table|nil error Error information if fa...",
          "executable": false
        },
        "430": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    files_processed = 0,",
          "executable": true
        },
        "330": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "499": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        table.insert(orphaned_blocks, block_id)",
          "executable": true
        },
        "399": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Checks if the debug hook is currently running",
          "executable": false
        },
        "299": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "44": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local success, result = pcall(function() ",
          "executable": true
        },
        "34": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local config_cache = nil",
          "executable": true
        },
        "24": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local auto_fix_block_relationships = true -- Enabl...",
          "executable": true
        },
        "55": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "75": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "85": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if config.coverage.track_all_executed and norm...",
          "executable": true
        },
        "592": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return boolean success Whether the reset was s...",
          "executable": false
        },
        "96": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "320": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    active_functions[level] = {",
          "executable": true
        },
        "321": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = file_path,",
          "executable": true
        },
        "122": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If not included by any pattern, don't track",
          "executable": false
        },
        "326": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Function is returning, remove from active f...",
          "executable": false
        },
        "294": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        func_type = data_structure.FUNCTION_TYPES....",
          "executable": true
        },
        "194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Failed to initialize coverage for...",
          "executable": true
        },
        "522": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "422": {
          "covered": true,
          "executed": true,
          "execution_count": 3,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "322": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      func_id = func_id",
          "executable": true
        },
        "222": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local info = debug.getinfo(2, \"Sln\") -- 'S' for ...",
          "executable": true
        },
        "493": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "393": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "293": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      elseif info.namewhat == \"method\" then",
          "executable": true
        },
        "193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not source_code then",
          "executable": true
        },
        "174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "510": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        local parent = file_data.logical_chunks[bl...",
          "executable": true
        },
        "400": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return boolean is_running Whether the hook is ...",
          "executable": false
        },
        "404": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Returns the current coverage data",
          "executable": false
        },
        "340": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "140": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "240": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      debug_file:write(\"==========================...",
          "executable": true
        },
        "414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return coverage_data",
          "executable": true
        },
        "415": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  auto_fix_block_relationships = enabled",
          "executable": true
        },
        "138": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If we've reached here, the file should be t...",
          "executable": false
        },
        "429": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "  local stats = {",
          "executable": true
        },
        "434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "237": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local debug_file = io.open(\"coverage_debug.log...",
          "executable": true
        },
        "453": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Check if the parent block now exists",
          "executable": false
        },
        "467": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "                if existing_child_id == child_id t...",
          "executable": true
        },
        "367": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "484": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "115": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if normalized_path:match(lua_pattern) then",
          "executable": true
        }
      },
      "line_coverage_percent": 36,
      "covered_lines": 143,
      "executed_lines": 143,
      "executed_functions": 5,
      "covered_functions": 5,
      "name": "debug_hook.lua",
      "function_coverage_percent": 100,
      "path": "./lib/coverage/debug_hook.lua"
    },
    "./lib/coverage/init.lua": {
      "execution_coverage_percent": 26,
      "functions": {
        "stop:91-147": {
          "covered": true,
          "executed": true,
          "start_line": 91,
          "execution_count": 1,
          "name": "stop",
          "type": "closure",
          "end_line": 147
        },
        "operation:252-252": {
          "covered": true,
          "executed": true,
          "start_line": 252,
          "execution_count": 1,
          "name": "operation",
          "type": "local",
          "end_line": 252
        },
        "track_file:220-269": {
          "covered": true,
          "executed": true,
          "start_line": 220,
          "execution_count": 1,
          "name": "track_file",
          "type": "closure",
          "end_line": 269
        }
      },
      "total_lines": 411,
      "executable_lines": 269,
      "total_functions": 3,
      "lines": {
        "51": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      central_config.set(\"coverage.report_dir\", co...",
          "executable": true
        },
        "41": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "31": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      central_config.set(\"coverage.debug\", config....",
          "executable": true
        },
        "21": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M._VERSION = \"0.1.0\"",
          "executable": true
        },
        "91": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "81": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "232": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      file_path = normalized_path",
          "executable": true
        },
        "61": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      include_count = #(central_config.get(\"covera...",
          "executable": true
        },
        "356": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      formatter = require(\"lib.reporting.formatter...",
          "executable": true
        },
        "11": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dependencies",
          "executable": false
        },
        "256": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "156": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local coverage_data = debug_hook.get_coverage_da...",
          "executable": true
        },
        "150": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return debug_hook.is_running()",
          "executable": true
        },
        "135": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    total_lines = coverage_data.summary.total_line...",
          "executable": true
        },
        "235": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "358": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "258": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param file_path string The file path",
          "executable": false
        },
        "158": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil",
          "executable": true
        },
        "50": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(config.report_dir) == \"string\" then",
          "executable": true
        },
        "60": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      track_all_executed = central_config.get(\"cov...",
          "executable": true
        },
        "142": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Resets coverage data",
          "executable": false
        },
        "201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return coverage_data.files[normalized_path]",
          "executable": true
        },
        "10": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local M = {}",
          "executable": true
        },
        "20": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Version",
          "executable": false
        },
        "30": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(config.debug) == \"boolean\" then",
          "executable": true
        },
        "40": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "366": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        table.insert(errors, format .. \": \" .. (er...",
          "executable": true
        },
        "301": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Gets all tracked file paths",
          "executable": false
        },
        "266": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "245": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return false, \"Failed to read file: \" .. error...",
          "executable": true
        },
        "145": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return debug_hook.reset()",
          "executable": true
        },
        "368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.get_tracked_files()",
          "executable": true
        },
        "268": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "  if not M.is_running() then",
          "executable": true
        },
        "215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "315": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.generate_reports(output_dir, formats)",
          "executable": true
        },
        "211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Normalize the path",
          "executable": false
        },
        "111": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    logger.error(\"No coverage data available after...",
          "executable": true
        },
        "252": {
          "covered": true,
          "executed": true,
          "execution_count": 3,
          "line_type": "code",
          "content": "    file_path = normalized_path",
          "executable": true
        },
        "352": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      formatter = require(\"lib.reporting.formatter...",
          "executable": true
        },
        "247": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "147": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Checks if coverage tracking is currently runni...",
          "executable": false
        },
        "114": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, \"Failed to normalize file path\"",
          "executable": true
        },
        "176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(file_paths, file_path)",
          "executable": true
        },
        "411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "return M",
          "executable": true
        },
        "311": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param output_dir string Directory where report...",
          "executable": false
        },
        "115": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Process all files to classify lines",
          "executable": false
        },
        "170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not coverage_data then",
          "executable": true
        },
        "370": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "270": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = file_path,",
          "executable": true
        },
        "208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "308": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "90": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Coverage tracking is not running\"...",
          "executable": true
        },
        "325": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "225": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if not coverage_data then",
          "executable": true
        },
        "357": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "129": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "229": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Check if file already exists in the data stru...",
          "executable": false
        },
        "329": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "108": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Get the collected coverage data",
          "executable": false
        },
        "286": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return #successes > 0, \"Failed to generate som...",
          "executable": true
        },
        "186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil",
          "executable": true
        },
        "125": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if not is_valid then",
          "executable": true
        },
        "180": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "280": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      function_coverage = coverage_data.summary.fu...",
          "executable": true
        },
        "239": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    function() return fs.read_file(file_path) end,",
          "executable": true
        },
        "139": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "339": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "316": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "123": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Validate the final data structure",
          "executable": false
        },
        "223": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Get the coverage data",
          "executable": false
        },
        "323": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, \"Failed to create output directo...",
          "executable": true
        },
        "275": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Generated coverage reports\", {",
          "executable": true
        },
        "134": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    executed_files = coverage_data.summary.execute...",
          "executable": true
        },
        "234": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return true",
          "executable": true
        },
        "334": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, \"No coverage data available\"",
          "executable": true
        },
        "116": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  for file_path, _ in pairs(coverage_data.files) d...",
          "executable": true
        },
        "304": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not success then",
          "executable": true
        },
        "398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success = pcall(function() require(\"lib....",
          "executable": true
        },
        "298": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false, \"Failed to track file: \" .. (e...",
          "executable": true
        },
        "198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "290": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not coverage_data then",
          "executable": true
        },
        "190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "337": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Recalculate summary to ensure accurate data",
          "executable": false
        },
        "309": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "302": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Mark the line as executed",
          "executable": false
        },
        "137": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    line_coverage_percent = coverage_data.summary....",
          "executable": true
        },
        "237": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Read the file content",
          "executable": false
        },
        "226": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return false, \"No coverage data available, cov...",
          "executable": true
        },
        "104": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    logger.error(\"Failed to stop coverage tracking...",
          "executable": true
        },
        "133": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    total_files = coverage_data.summary.total_file...",
          "executable": true
        },
        "333": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not coverage_data then",
          "executable": true
        },
        "233": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if #errors > 0 then",
          "executable": true
        },
        "285": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    operation = \"track_line\"",
          "executable": true
        },
        "185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not coverage_data then",
          "executable": true
        },
        "314": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return string|nil error_message Error message ...",
          "executable": false
        },
        "126": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    logger.error(\"Coverage data validation failed\"...",
          "executable": true
        },
        "202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "102": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local success = debug_hook.stop()",
          "executable": true
        },
        "241": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    {operation = \"read_file_for_tracking\"}",
          "executable": true
        },
        "341": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local successes = {}",
          "executable": true
        },
        "187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "287": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "312": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param formats string[] List of formats to gene...",
          "executable": false
        },
        "319": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    normalized_path = normalized_path,",
          "executable": true
        },
        "119": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "336": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "236": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "136": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    executed_lines = coverage_data.summary.execute...",
          "executable": true
        },
        "103": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if not success then",
          "executable": true
        },
        "203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Explicitly tracks a file for coverage",
          "executable": false
        },
        "254": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "255": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "338": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  data_structure.calculate_summary(coverage_data)",
          "executable": true
        },
        "151": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local normalized_path = data_structure.normalize...",
          "executable": true
        },
        "351": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif format == \"lcov\" then",
          "executable": true
        },
        "251": {
          "covered": true,
          "executed": true,
          "execution_count": 3,
          "line_type": "code",
          "content": "  logger.info(\"Started tracking file for coverage\"...",
          "executable": true
        },
        "238": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "  local content, err = error_handler.safe_io_opera...",
          "executable": true
        },
        "138": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "297": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not success then",
          "executable": true
        },
        "397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local function has_formatter(name)",
          "executable": true
        },
        "197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil",
          "executable": true
        },
        "346": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local formatter = nil",
          "executable": true
        },
        "146": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "246": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not normalized_path then",
          "executable": true
        },
        "169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local coverage_data = debug_hook.get_coverage_da...",
          "executable": true
        },
        "124": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local is_valid, error_message = data_structure.v...",
          "executable": true
        },
        "369": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      table.insert(errors, format .. \": Unsupporte...",
          "executable": true
        },
        "324": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "224": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local coverage_data = debug_hook.get_coverage_da...",
          "executable": true
        },
        "265": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "  error_handler.assert(type(line_num) == \"number\",...",
          "executable": true
        },
        "165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "348": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Load the appropriate formatter",
          "executable": false
        },
        "121": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  data_structure.calculate_summary(coverage_data)",
          "executable": true
        },
        "409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return available_formats",
          "executable": true
        },
        "407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(available_formats, \"json\")",
          "executable": true
        },
        "405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if has_formatter(\"json\") then",
          "executable": true
        },
        "221": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "248": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Initialize coverage data for the file",
          "executable": false
        },
        "404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(available_formats, \"cobertura\")",
          "executable": true
        },
        "402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if has_formatter(\"cobertura\") then",
          "executable": true
        },
        "400": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "39": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      central_config.set(\"coverage.include\", confi...",
          "executable": true
        },
        "29": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config then",
          "executable": true
        },
        "19": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local line_classifier = require(\"lib.coverage.line...",
          "executable": true
        },
        "399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return success",
          "executable": true
        },
        "79": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "69": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Whether coverage tracki...",
          "executable": false
        },
        "59": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      debug = central_config.get(\"coverage.debug\")...",
          "executable": true
        },
        "49": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if other formatters are available",
          "executable": false
        },
        "395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "99": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "89": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not debug_hook.is_running() then",
          "executable": true
        },
        "174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local file_paths = {}",
          "executable": true
        },
        "274": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if #successes > 0 then",
          "executable": true
        },
        "279": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, \"Failed to normalize file path\"",
          "executable": true
        },
        "394": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local available_formats = {\"html\", \"lcov\"}",
          "executable": true
        },
        "179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return file_paths",
          "executable": true
        },
        "392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return string[] formats List of available form...",
          "executable": false
        },
        "391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Gets a list of available report formats",
          "executable": false
        },
        "131": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Return results",
          "executable": false
        },
        "113": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "331": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get coverage data",
          "executable": false
        },
        "231": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    logger.debug(\"File already being tracked\", {",
          "executable": true
        },
        "382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "18": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local data_structure = require(\"lib.coverage.data_...",
          "executable": true
        },
        "28": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Store configuration in central_config",
          "executable": false
        },
        "367": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_coverage = coverage_data.summary.line_c...",
          "executable": true
        },
        "332": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local coverage_data = M.get_report_data()",
          "executable": true
        },
        "377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      formats = table.concat(successes, \", \"),",
          "executable": true
        },
        "78": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "88": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if tracking is running",
          "executable": false
        },
        "98": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    debug_hook.set_auto_fix_block_relationships(au...",
          "executable": true
        },
        "373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Log results",
          "executable": false
        },
        "38": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(config.include) == \"table\" then",
          "executable": true
        },
        "48": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "58": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Coverage configuration set\", {",
          "executable": true
        },
        "68": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Starts coverage tracking",
          "executable": false
        },
        "249": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  data_structure.initialize_file(coverage_data, no...",
          "executable": true
        },
        "349": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if format == \"html\" then",
          "executable": true
        },
        "376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      output_dir = output_dir,",
          "executable": true
        },
        "149": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.is_running()",
          "executable": true
        },
        "372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "276": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Normalize the path",
          "executable": false
        },
        "344": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Generate reports in each requested format",
          "executable": false
        },
        "244": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if not content then",
          "executable": true
        },
        "181": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Gets coverage summary",
          "executable": false
        },
        "281": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "365": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "310": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Generates coverage reports in specified format...",
          "executable": false
        },
        "363": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if success then",
          "executable": true
        },
        "362": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "303": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local success = data_structure.mark_line_execute...",
          "executable": true
        },
        "360": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local output_path = output_dir .. \"coverage-...",
          "executable": true
        },
        "345": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for _, format in ipairs(formats) do",
          "executable": true
        },
        "27": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "17": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local debug_hook = require(\"lib.coverage.debug_hoo...",
          "executable": true
        },
        "355": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif format == \"json\" then",
          "executable": true
        },
        "354": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      formatter = require(\"lib.reporting.formatter...",
          "executable": true
        },
        "353": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif format == \"cobertura\" then",
          "executable": true
        },
        "350": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      formatter = require(\"lib.reporting.formatter...",
          "executable": true
        },
        "87": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "143": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return boolean success Whether the reset was s...",
          "executable": false
        },
        "347": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "97": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Only call set if it's explicitly configured",
          "executable": false
        },
        "47": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      central_config.set(\"coverage.source_dirs\", c...",
          "executable": true
        },
        "37": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "243": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "57": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "359": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if formatter then",
          "executable": true
        },
        "195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local coverage_data = debug_hook.get_coverage_da...",
          "executable": true
        },
        "194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.get_file_coverage(file_path)",
          "executable": true
        },
        "294": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Ensure the file is being tracked",
          "executable": false
        },
        "343": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "342": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local errors = {}",
          "executable": true
        },
        "173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "335": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Gets coverage data for a specific file",
          "executable": false
        },
        "378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      total_files = coverage_data.summary.total_fi...",
          "executable": true
        },
        "278": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not normalized_path then",
          "executable": true
        },
        "330": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "328": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    output_dir = output_dir .. \"/\"",
          "executable": true
        },
        "289": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local coverage_data = debug_hook.get_coverage_da...",
          "executable": true
        },
        "326": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Normalize output path",
          "executable": false
        },
        "16": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Internal modules",
          "executable": false
        },
        "26": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.info(\"Initializing coverage module (v2)\")",
          "executable": true
        },
        "262": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "function M.track_line(file_path, line_num)",
          "executable": true
        },
        "162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- In a real implementation, we would create a d...",
          "executable": false
        },
        "322": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not mkdir_success then",
          "executable": true
        },
        "321": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local mkdir_success, mkdir_err = fs.ensure_direc...",
          "executable": true
        },
        "320": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Ensure output directory exists",
          "executable": false
        },
        "67": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "96": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if auto_fix_blocks ~= nil then",
          "executable": true
        },
        "317": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(output_dir) == \"string...",
          "executable": true
        },
        "76": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not success then",
          "executable": true
        },
        "86": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.info(\"Stopping coverage tracking (v2)\")",
          "executable": true
        },
        "56": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "66": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "36": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "253": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "264": {
          "covered": true,
          "executed": true,
          "execution_count": 3,
          "line_type": "code",
          "content": "  error_handler.assert(type(file_path) == \"string\"...",
          "executable": true
        },
        "164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return coverage_data",
          "executable": true
        },
        "313": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Whether report generati...",
          "executable": false
        },
        "364": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        table.insert(successes, format)",
          "executable": true
        },
        "72": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "106": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "306": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "305": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, \"Failed to mark line as executed...",
          "executable": true
        },
        "361": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local success, err = formatter.generate(cove...",
          "executable": true
        },
        "188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Return a deep copy to prevent modification",
          "executable": false
        },
        "261": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return string|nil error_message Error message ...",
          "executable": false
        },
        "300": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "5": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field is_running fun(): boolean Checks if cove...",
          "executable": false
        },
        "296": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, err = M.track_file(file_path)",
          "executable": true
        },
        "295": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not coverage_data.files[normalized_path] then",
          "executable": true
        },
        "25": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.init(config)",
          "executable": true
        },
        "15": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local fs = require(\"lib.tools.filesystem\")",
          "executable": true
        },
        "172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "272": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "118": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table|nil summary Coverage summary stat...",
          "executable": false
        },
        "292": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "291": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, \"No coverage data available\"",
          "executable": true
        },
        "196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not coverage_data then",
          "executable": true
        },
        "95": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local auto_fix_blocks = central_config.get(\"cove...",
          "executable": true
        },
        "85": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.stop()",
          "executable": true
        },
        "75": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "65": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "55": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      central_config.set(\"coverage.auto_fix_block_...",
          "executable": true
        },
        "45": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "35": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      central_config.set(\"coverage.track_all_execu...",
          "executable": true
        },
        "210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "110": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if not coverage_data then",
          "executable": true
        },
        "327": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if output_dir:sub(-1) ~= \"/\" then",
          "executable": true
        },
        "227": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "288": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the coverage data",
          "executable": false
        },
        "242": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  )",
          "executable": true
        },
        "70": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.start()",
          "executable": true
        },
        "282": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.debug(\"Manually tracking line execution\",...",
          "executable": true
        },
        "277": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local normalized_path = data_structure.normalize...",
          "executable": true
        },
        "371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "228": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return {}",
          "executable": true
        },
        "127": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      error = error_message",
          "executable": true
        },
        "273": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, \"Coverage tracking is not active...",
          "executable": true
        },
        "271": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_num = line_num",
          "executable": true
        },
        "269": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    logger.debug(\"Coverage not active, ignoring tr...",
          "executable": true
        },
        "24": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Whether initialization ...",
          "executable": false
        },
        "34": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(config.track_all_executed) == \"boolean...",
          "executable": true
        },
        "44": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Whether the file was su...",
          "executable": false
        },
        "64": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "74": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local success = debug_hook.start()",
          "executable": true
        },
        "84": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Whether coverage tracki...",
          "executable": false
        },
        "94": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Get the configuration for auto-fixing block r...",
          "executable": false
        },
        "267": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Check if coverage is active",
          "executable": false
        },
        "263": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "260": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return boolean success Whether the line was su...",
          "executable": false
        },
        "259": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param line_num number The line number to mark ...",
          "executable": false
        },
        "105": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "257": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "--- Explicitly marks a line as executed for covera...",
          "executable": false
        },
        "148": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean is_running Whether coverage tra...",
          "executable": false
        },
        "14": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local central_config = require(\"lib.core.central_c...",
          "executable": true
        },
        "9": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field _VERSION string Version of this module",
          "executable": false
        },
        "220": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    operation = \"track_file\"",
          "executable": true
        },
        "284": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    line_num = line_num,",
          "executable": true
        },
        "184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local coverage_data = debug_hook.get_coverage_da...",
          "executable": true
        },
        "189": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return coverage_data.summary",
          "executable": true
        },
        "6": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_report_data fun(): table|nil Gets co...",
          "executable": false
        },
        "7": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field generate_reports fun(output_dir: string,...",
          "executable": false
        },
        "8": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_available_formats fun(): string[] Ge...",
          "executable": false
        },
        "1": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@class CoverageV2",
          "executable": false
        },
        "2": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field start fun(): boolean Starts coverage tra...",
          "executable": false
        },
        "3": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field stop fun(): boolean Stops coverage track...",
          "executable": false
        },
        "4": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field reset fun(): boolean Resets coverage dat...",
          "executable": false
        },
        "77": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.error(\"Failed to start coverage trackin...",
          "executable": true
        },
        "200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local normalized_path = data_structure.normalize...",
          "executable": true
        },
        "101": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Stop the debug hook (which will auto-fix bloc...",
          "executable": false
        },
        "80": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param file_path string The file path",
          "executable": false
        },
        "23": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param config table Configuration table with in...",
          "executable": false
        },
        "53": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "43": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      central_config.set(\"coverage.exclude\", confi...",
          "executable": true
        },
        "73": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Initialize fresh coverage data",
          "executable": false
        },
        "63": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "93": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "83": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Stops coverage tracking and processes the resu...",
          "executable": false
        },
        "383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "46": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(config.source_dirs) == \"table\" then",
          "executable": true
        },
        "183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.get_summary()",
          "executable": true
        },
        "283": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file_path = normalized_path,",
          "executable": true
        },
        "128": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param file_path string The file path to track",
          "executable": false
        },
        "13": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local logger = require(\"lib.tools.logging\")",
          "executable": true
        },
        "42": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(config.exclude) == \"table\" then",
          "executable": true
        },
        "307": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.track_file(file_path)",
          "executable": true
        },
        "230": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "  if coverage_data.files[normalized_path] then",
          "executable": true
        },
        "130": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "299": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return string[] file_paths List of normalized ...",
          "executable": false
        },
        "33": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- For now, we'll just return the data directly",
          "executable": false
        },
        "153": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table|nil coverage_data The coverage da...",
          "executable": false
        },
        "154": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.get_report_data()",
          "executable": true
        },
        "155": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the raw coverage data",
          "executable": false
        },
        "112": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "132": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.info(\"Coverage tracking stopped successfu...",
          "executable": true
        },
        "107": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "141": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "122": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "52": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "22": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Initializes the coverage module with configura...",
          "executable": false
        },
        "32": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "82": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "92": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "62": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      exclude_count = #(central_config.get(\"covera...",
          "executable": true
        },
        "222": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "120": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Calculate final summary",
          "executable": false
        },
        "393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.get_available_formats()",
          "executable": true
        },
        "293": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table|nil file_data Coverage data for t...",
          "executable": false
        },
        "109": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local coverage_data = debug_hook.get_coverage_da...",
          "executable": true
        },
        "12": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local error_handler = require(\"lib.tools.error_han...",
          "executable": true
        },
        "54": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(config.auto_fix_block_relationships) =...",
          "executable": true
        },
        "175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for file_path, _ in pairs(coverage_data.files) d...",
          "executable": true
        },
        "340": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Track successes",
          "executable": false
        },
        "71": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.info(\"Starting coverage tracking (v2)\")",
          "executable": true
        },
        "217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.debug(\"Tracking file for coverage\", {",
          "executable": true
        },
        "240": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    file_path,",
          "executable": true
        },
        "157": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not coverage_data then",
          "executable": true
        },
        "206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return string|nil error_message Error message ...",
          "executable": false
        },
        "209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(file_path) == \"string\"...",
          "executable": true
        },
        "140": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "100": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "159": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "318": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(formats) == \"table\", \"...",
          "executable": true
        },
        "218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file_path = file_path,",
          "executable": true
        },
        "152": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Gets the current coverage data for reporting",
          "executable": false
        },
        "117": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    line_classifier.classify_lines(coverage_data, ...",
          "executable": true
        },
        "144": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.reset()",
          "executable": true
        },
        "250": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        }
      },
      "line_coverage_percent": 26,
      "covered_lines": 72,
      "executed_lines": 72,
      "executed_functions": 3,
      "covered_functions": 3,
      "name": "init.lua",
      "function_coverage_percent": 100,
      "path": "./lib/coverage/init.lua"
    },
    "./lib/coverage/data_structure.lua": {
      "execution_coverage_percent": 29,
      "functions": {
        "calculate_summary:465-667": {
          "covered": true,
          "executed": true,
          "start_line": 465,
          "execution_count": 3,
          "name": "calculate_summary",
          "type": "closure",
          "end_line": 667
        },
        "initialize_file:110-192": {
          "covered": true,
          "executed": true,
          "start_line": 110,
          "execution_count": 1,
          "name": "initialize_file",
          "type": "closure",
          "end_line": 192
        },
        "normalize_path:51-68": {
          "covered": true,
          "executed": true,
          "start_line": 51,
          "execution_count": 2,
          "name": "normalize_path",
          "type": "closure",
          "end_line": 68
        }
      },
      "total_lines": 1058,
      "executable_lines": 698,
      "total_functions": 3,
      "lines": {
        "132": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    discovered = true,",
          "executable": true
        },
        "432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "532": {
          "covered": true,
          "executed": true,
          "execution_count": 2849,
          "line_type": "code",
          "content": "    file_data.executed_functions = 0",
          "executable": true
        },
        "232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          executable = true,  -- Assume it's execu...",
          "executable": true
        },
        "332": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      valid_types = table.concat({M.LINE_TYPES.COD...",
          "executable": true
        },
        "660": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "comment",
          "content": "  -- Check basic structure",
          "executable": false
        },
        "760": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    covered_lines = covered_lines + file_data.cove...",
          "executable": true
        },
        "860": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "960": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local normalized_path = M.normalize_path(file_pa...",
          "executable": true
        },
        "150": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    covered_lines = 0,",
          "executable": true
        },
        "350": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if line exists",
          "executable": false
        },
        "250": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          new_lines = line_number",
          "executable": true
        },
        "550": {
          "covered": true,
          "executed": true,
          "execution_count": 111,
          "line_type": "code",
          "content": "          local line_data = file_data.lines[line_n...",
          "executable": true
        },
        "450": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param data table The coverage data structure",
          "executable": false
        },
        "832": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "932": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "632": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "    summary.overall_coverage_percent = math.floor(",
          "executable": true
        },
        "732": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          return false, \"Line \" .. line_num .. \" i...",
          "executable": true
        },
        "142": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param file_path string The path to the file",
          "executable": false
        },
        "342": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not file_data then",
          "executable": true
        },
        "242": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_data.total_lines = line_number",
          "executable": true
        },
        "542": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        file_data.executed_functions = file_data.e...",
          "executable": true
        },
        "442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "701": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local required_file_fields = {",
          "executable": true
        },
        "801": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "901": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "301": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- We don't update file statistics here as they ...",
          "executable": false
        },
        "401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the file data",
          "executable": false
        },
        "501": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "601": {
          "covered": true,
          "executed": true,
          "execution_count": 33,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "160": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local lines_array = {}",
          "executable": true
        },
        "260": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false",
          "executable": true
        },
        "360": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the line data",
          "executable": false
        },
        "460": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  summary.executed_files = 0",
          "executable": true
        },
        "560": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "              file_has_executed_lines = true",
          "executable": true
        },
        "742": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "642": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "  logger.debug(\"Coverage summary calculated\", {",
          "executable": true
        },
        "942": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end_line = end_line,",
          "executable": true
        },
        "842": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true, nil",
          "executable": true
        },
        "215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not file_data then",
          "executable": true
        },
        "315": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(file_path) == \"string\"...",
          "executable": true
        },
        "211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local normalized_path = M.normalize_path(file_pa...",
          "executable": true
        },
        "111": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Check if file already exists in the data stru...",
          "executable": false
        },
        "252": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_data.expanded_lines_logged = true",
          "executable": true
        },
        "352": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Attempted to classify non-existen...",
          "executable": true
        },
        "452": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.calculate_summary(data)",
          "executable": true
        },
        "552": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            line_data.executed = true",
          "executable": true
        },
        "880": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        M.FUNCTION_TYPES.CLOSURE",
          "executable": true
        },
        "980": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "680": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "780": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Summary mismatch: total_files\", ...",
          "executable": true
        },
        "411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if line exists",
          "executable": false
        },
        "311": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Whether the operation s...",
          "executable": false
        },
        "611": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "511": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- Count all executed and executable lines c...",
          "executable": false
        },
        "170": {
          "covered": true,
          "executed": true,
          "execution_count": 23,
          "line_type": "code",
          "content": "      execution_count = 0,",
          "executable": true
        },
        "1021": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "470": {
          "covered": true,
          "executed": true,
          "execution_count": 3,
          "line_type": "code",
          "content": "  for path, file_data in pairs(data.files) do",
          "executable": true
        },
        "370": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "270": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    debug_file:write(string.format(\"MARKED EXECUTE...",
          "executable": true
        },
        "652": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "752": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local executed_files = 0",
          "executable": true
        },
        "852": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.register_function(data, file_path, func...",
          "executable": true
        },
        "952": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Whether the operation s...",
          "executable": false
        },
        "325": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "225": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Some files like assertion.lua might have li...",
          "executable": false
        },
        "525": {
          "covered": true,
          "executed": true,
          "execution_count": 31484,
          "line_type": "code",
          "content": "        line_data.executed = false",
          "executable": true
        },
        "425": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not line_data.executed then",
          "executable": true
        },
        "129": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    path = normalized_path,",
          "executable": true
        },
        "229": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Add new line entries for all lines up to ...",
          "executable": false
        },
        "329": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = file_path,",
          "executable": true
        },
        "429": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "750": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local executed_functions = 0",
          "executable": true
        },
        "650": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    function_coverage = summary.function_coverage_...",
          "executable": true
        },
        "950": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param file_path string The path to the file",
          "executable": false
        },
        "850": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param func_type string The function type (glob...",
          "executable": false
        },
        "125": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "180": {
          "covered": true,
          "executed": true,
          "execution_count": 23,
          "line_type": "code",
          "content": "  data.summary.total_files = data.summary.total_fi...",
          "executable": true
        },
        "480": {
          "covered": true,
          "executed": true,
          "execution_count": 3,
          "line_type": "code",
          "content": "        line_data.executable = true",
          "executable": true
        },
        "580": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "280": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Important: If a line is executed, it must be ...",
          "executable": false
        },
        "380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_data.executable_lines = file_data.execu...",
          "executable": true
        },
        "639": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "539": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- A function is executed if its execution c...",
          "executable": false
        },
        "839": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    data.summary.covered_files = covered_files",
          "executable": true
        },
        "739": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "239": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "139": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "439": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "339": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "490": {
          "covered": true,
          "executed": true,
          "execution_count": 31517,
          "line_type": "code",
          "content": "    file_data.executed_lines = 0",
          "executable": true
        },
        "390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param line_number number The line number that ...",
          "executable": false
        },
        "690": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Path must be normalized",
          "executable": false
        },
        "590": {
          "covered": true,
          "executed": true,
          "execution_count": 33,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "929": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_data.functions[func_id].lines[line_num]...",
          "executable": true
        },
        "290": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- When a line is executed, it's definitely exec...",
          "executable": false
        },
        "190": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "709": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if file_data[field] == nil then",
          "executable": true
        },
        "809": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      calculated_value = executed_lines",
          "executable": true
        },
        "509": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "609": {
          "covered": true,
          "executed": true,
          "execution_count": 33,
          "line_type": "code",
          "content": "    summary.execution_coverage_percent = 0",
          "executable": true
        },
        "309": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param line_number number The line number to cl...",
          "executable": false
        },
        "1017": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Attempted to mark function covere...",
          "executable": true
        },
        "109": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local normalized_path = M.normalize_path(file_pa...",
          "executable": true
        },
        "209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1055": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "939": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    func_name = func_name,",
          "executable": true
        },
        "819": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "719": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "619": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "    summary.file_coverage_percent = math.floor((su...",
          "executable": true
        },
        "519": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          file_data.covered_lines = file_data.cove...",
          "executable": true
        },
        "419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "319": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Validate classification type",
          "executable": false
        },
        "219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "119": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  for _ in source_code:gmatch(\"[^\\r\\n]+\") do",
          "executable": true
        },
        "103": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Whether the operation s...",
          "executable": false
        },
        "1034": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local func_data = file_data.functions[func_id]",
          "executable": true
        },
        "1052": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Update global statistics",
          "executable": false
        },
        "903": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if file_data.functions[func_id] then",
          "executable": true
        },
        "703": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"total_lines\", \"executable_lines\", \"executed...",
          "executable": true
        },
        "803": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    data.summary.executable_lines = executable_lin...",
          "executable": true
        },
        "503": {
          "covered": true,
          "executed": true,
          "execution_count": 33,
          "line_type": "code",
          "content": "        if line_data.line_type ~= \"comment\" and li...",
          "executable": true
        },
        "603": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Calculate summary percentages",
          "executable": false
        },
        "303": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not file_data then",
          "executable": true
        },
        "890": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local file_data = data.files[normalized_path]",
          "executable": true
        },
        "790": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      summary_value = data.summary.total_lines,",
          "executable": true
        },
        "990": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the file data",
          "executable": false
        },
        "113": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    logger.debug(\"File already exists in coverage ...",
          "executable": true
        },
        "913": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  file_data.functions[func_id] = {",
          "executable": true
        },
        "813": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "713": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "613": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    summary.function_coverage_percent = math.floor...",
          "executable": true
        },
        "513": {
          "covered": true,
          "executed": true,
          "execution_count": 2849,
          "line_type": "code",
          "content": "        if line_data.executed then",
          "executable": true
        },
        "413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Attempted to mark non-existent li...",
          "executable": true
        },
        "313": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "39": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  ANONYMOUS = \"anonymous\", -- Anonymous functions",
          "executable": true
        },
        "29": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  FOR = \"for\",",
          "executable": true
        },
        "19": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M.LINE_TYPES = {",
          "executable": true
        },
        "79": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      covered_lines = 0,",
          "executable": true
        },
        "69": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- File statistics",
          "executable": false
        },
        "59": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "49": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "99": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param file_path string The path to the file",
          "executable": false
        },
        "89": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Combined metrics",
          "executable": false
        },
        "18": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Line type constants",
          "executable": false
        },
        "28": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  IF = \"if\",",
          "executable": true
        },
        "78": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      executed_lines = 0,",
          "executable": true
        },
        "88": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "98": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param data table The coverage data structure",
          "executable": false
        },
        "38": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  METHOD = \"method\",     -- Methods (obj:method())",
          "executable": true
        },
        "48": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "58": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    normalized = normalized:gsub(\"//\", \"/\")",
          "executable": true
        },
        "68": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    summary = {",
          "executable": true
        },
        "888": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "988": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not func_data.executed then",
          "executable": true
        },
        "27": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  FUNCTION = \"function\",",
          "executable": true
        },
        "17": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M._VERSION = \"0.1.0\"",
          "executable": true
        },
        "87": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      function_coverage_percent = 0,",
          "executable": true
        },
        "77": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      executable_lines = 0,",
          "executable": true
        },
        "97": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Initializes coverage data for a specific file",
          "executable": false
        },
        "47": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil",
          "executable": true
        },
        "37": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  LOCAL = \"local\",       -- Local functions",
          "executable": true
        },
        "67": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "    -- Summary statistics",
          "executable": false
        },
        "57": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "  while normalized:match(\"//\") do",
          "executable": true
        },
        "178": {
          "covered": false,
          "executed": true,
          "execution_count": 23,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- We no longer update global statistics her...",
          "executable": false
        },
        "278": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "578": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      summary.executed_files = summary.executed_fi...",
          "executable": true
        },
        "478": {
          "covered": false,
          "executed": true,
          "execution_count": 3,
          "line_type": "comment",
          "content": "      -- Only count truly executable code lines",
          "executable": false
        },
        "778": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Just log differences for now",
          "executable": false
        },
        "678": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"total_functions\", \"executed_functions\", \"cove...",
          "executable": true
        },
        "16": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Version",
          "executable": false
        },
        "26": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M.BLOCK_TYPES = {",
          "executable": true
        },
        "1009": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(func_id) == \"string\", ...",
          "executable": true
        },
        "96": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "76": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      total_lines = 0,",
          "executable": true
        },
        "86": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      covered_functions = 0,",
          "executable": true
        },
        "56": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Remove duplicate slashes",
          "executable": false
        },
        "66": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return {",
          "executable": true
        },
        "36": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  GLOBAL = \"global\",     -- Functions defined at g...",
          "executable": true
        },
        "46": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not path then",
          "executable": true
        },
        "188": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return table|nil file_data The file data or ni...",
          "executable": false
        },
        "288": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  file_data.execution_counts[line_number] = line_d...",
          "executable": true
        },
        "388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param data table The coverage data structure",
          "executable": false
        },
        "488": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "588": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      file_data.line_coverage_percent = math.floor...",
          "executable": true
        },
        "688": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check files",
          "executable": false
        },
        "788": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if data.summary.total_lines ~= total_lines then",
          "executable": true
        },
        "25": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Block type constants",
          "executable": false
        },
        "15": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local central_config = require(\"lib.core.central_c...",
          "executable": true
        },
        "1048": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "95": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(line_number) == \"numbe...",
          "executable": true
        },
        "296": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  line_data.executed = true",
          "executable": true
        },
        "65": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.create()",
          "executable": true
        },
        "496": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Calculate line statistics",
          "executable": false
        },
        "796": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "696": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(file_data) ~= \"table\" then",
          "executable": true
        },
        "996": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "896": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "327": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not valid_types[classification] then",
          "executable": true
        },
        "227": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- or if there are multiple versions. We'll dy...",
          "executable": false
        },
        "927": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if file_data.lines[line_num] then",
          "executable": true
        },
        "827": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      calculated_value = executed_files",
          "executable": true
        },
        "727": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"executable\", \"executed\", \"covered\", \"exec...",
          "executable": true
        },
        "627": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      lines = 0.7,",
          "executable": true
        },
        "127": {
          "covered": true,
          "executed": true,
          "execution_count": 24,
          "line_type": "code",
          "content": "  local file_data = {",
          "executable": true
        },
        "24": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = normalized_path,",
          "executable": true
        },
        "305": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "905": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = normalized_path,",
          "executable": true
        },
        "805": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "705": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"total_functions\", \"executed_functions\", \"co...",
          "executable": true
        },
        "94": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    files = {},",
          "executable": true
        },
        "105": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(file_path) == \"string\"...",
          "executable": true
        },
        "14": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local logger = require(\"lib.tools.logging\")",
          "executable": true
        },
        "9": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field normalize_path fun(path: string): string...",
          "executable": false
        },
        "5": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_file_data fun(data: table, file_path...",
          "executable": false
        },
        "6": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field set_line_classification fun(data: table,...",
          "executable": false
        },
        "7": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field calculate_summary fun(data: table): tabl...",
          "executable": false
        },
        "8": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field validate fun(data: table): boolean, stri...",
          "executable": false
        },
        "1": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@class CoverageDataStructure",
          "executable": false
        },
        "2": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field create fun(): table Creates a new covera...",
          "executable": false
        },
        "3": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field initialize_file fun(data: table, file_pa...",
          "executable": false
        },
        "4": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field mark_line_executed fun(data: table, file...",
          "executable": false
        },
        "33": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "23": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  STRUCTURE = \"structure\"",
          "executable": true
        },
        "53": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Remove trailing slashes",
          "executable": false
        },
        "43": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param path string The file path to normalize",
          "executable": false
        },
        "73": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_coverage_percent = 0,",
          "executable": true
        },
        "63": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "--- Creates a new coverage data structure with ini...",
          "executable": false
        },
        "93": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Detailed data for each file",
          "executable": false
        },
        "83": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Function statistics",
          "executable": false
        },
        "13": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local error_handler = require(\"lib.tools.error_han...",
          "executable": true
        },
        "307": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param data table The coverage data structure",
          "executable": false
        },
        "207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(file_path) == \"string\"...",
          "executable": true
        },
        "507": {
          "covered": false,
          "executed": true,
          "execution_count": 33,
          "line_type": "comment",
          "content": "        -- All executed lines are also considered ...",
          "executable": false
        },
        "407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "707": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "607": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "907": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      func_id = func_id",
          "executable": true
        },
        "807": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Summary mismatch: executed_lines...",
          "executable": true
        },
        "107": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "42": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Normalizes a file path for consistent lookup",
          "executable": false
        },
        "52": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "22": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  BLANK = \"blank\",",
          "executable": true
        },
        "32": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  REPEAT = \"repeat\"",
          "executable": true
        },
        "82": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "92": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "62": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "72": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      executed_files = 0,",
          "executable": true
        },
        "12": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dependencies",
          "executable": false
        },
        "417": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "517": {
          "covered": false,
          "executed": true,
          "execution_count": 2849,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = normalized_path,",
          "executable": true
        },
        "317": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(classification) == \"st...",
          "executable": true
        },
        "817": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      summary_value = data.summary.covered_lines,",
          "executable": true
        },
        "917": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    type = func_type,",
          "executable": true
        },
        "617": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "717": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false, \"Line number '\" .. tostring(...",
          "executable": true
        },
        "117": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Count lines in the source code",
          "executable": false
        },
        "667": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "567": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        func_data.covered = false",
          "executable": true
        },
        "467": {
          "covered": true,
          "executed": true,
          "execution_count": 3,
          "line_type": "code",
          "content": "  summary.covered_functions = 0",
          "executable": true
        },
        "367": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Update executability based on classification",
          "executable": false
        },
        "267": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Log execution",
          "executable": false
        },
        "167": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      executable = false,  -- Will be set by the s...",
          "executable": true
        },
        "967": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      func_id = func_id",
          "executable": true
        },
        "867": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    [M.FUNCTION_TYPES.CLOSURE] = true",
          "executable": true
        },
        "767": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "535": {
          "covered": false,
          "executed": true,
          "execution_count": 2849,
          "line_type": "comment",
          "content": "    -- Calculate function statistics",
          "executable": false
        },
        "635": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      (summary.file_coverage_percent * weights.fil...",
          "executable": true
        },
        "335": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "435": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    line_data.covered = true",
          "executable": true
        },
        "135": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    lines = {},",
          "executable": true
        },
        "235": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          execution_count = 0,",
          "executable": true
        },
        "935": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  data.summary.total_functions = data.summary.tota...",
          "executable": true
        },
        "735": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "835": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      summary_value = data.summary.covered_files,",
          "executable": true
        },
        "645": {
          "covered": true,
          "executed": true,
          "execution_count": 7,
          "line_type": "code",
          "content": "    executed_lines = summary.executed_lines,",
          "executable": true
        },
        "545": {
          "covered": true,
          "executed": true,
          "execution_count": 33,
          "line_type": "code",
          "content": "        func_data.covered = true",
          "executable": true
        },
        "445": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "345": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_number = line_number",
          "executable": true
        },
        "245": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Only log once per file",
          "executable": false
        },
        "145": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "945": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "845": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param data table The coverage data structure",
          "executable": false
        },
        "745": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local total_lines = 0",
          "executable": true
        },
        "447": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "347": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "647": {
          "covered": true,
          "executed": true,
          "execution_count": 7,
          "line_type": "code",
          "content": "    total_functions = summary.total_functions,",
          "executable": true
        },
        "547": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "247": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        logger.info(\"Dynamically expanded line cou...",
          "executable": true
        },
        "147": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    total_lines = line_count,",
          "executable": true
        },
        "847": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param func_name string The function name",
          "executable": false
        },
        "747": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local executed_lines = 0",
          "executable": true
        },
        "947": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "557": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "              line_data.execution_count = 1",
          "executable": true
        },
        "657": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "comment",
          "content": "---@return boolean is_valid Whether the data struc...",
          "executable": false
        },
        "357": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "457": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local summary = data.summary",
          "executable": true
        },
        "157": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "257": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        line_number = line_number,",
          "executable": true
        },
        "957": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(func_id) == \"string\", ...",
          "executable": true
        },
        "757": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    total_lines = total_lines + file_data.total_li...",
          "executable": true
        },
        "857": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(start_line) == \"number...",
          "executable": true
        },
        "1020": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1003": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param func_id string The function ID",
          "executable": false
        },
        "623": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "723": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "823": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "923": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "123": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Extract file name from path",
          "executable": false
        },
        "223": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if line exists, and add it if it doesn'...",
          "executable": false
        },
        "323": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    [M.LINE_TYPES.BLANK] = true,",
          "executable": true
        },
        "423": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "523": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "275": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_data.execution_count",
          "executable": true
        },
        "375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if was_executable ~= line_data.executable then",
          "executable": true
        },
        "175": {
          "covered": false,
          "executed": true,
          "execution_count": 23,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "675": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"total_files\", \"covered_files\", \"executed_file...",
          "executable": true
        },
        "775": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Our goal is to ensure the data is in the corr...",
          "executable": false
        },
        "475": {
          "covered": false,
          "executed": true,
          "execution_count": 3,
          "line_type": "comment",
          "content": "    -- First, count executable lines correctly",
          "executable": false
        },
        "575": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "875": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      valid_types = table.concat({",
          "executable": true
        },
        "975": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = normalized_path,",
          "executable": true
        },
        "802": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Fix it",
          "executable": false
        },
        "702": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"path\", \"name\", \"source\", \"lines\", \"executio...",
          "executable": true
        },
        "933": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Update file statistics",
          "executable": false
        },
        "833": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if data.summary.covered_files ~= covered_files t...",
          "executable": true
        },
        "402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local file_data = data.files[normalized_path]",
          "executable": true
        },
        "302": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- during calculate_summary to ensure consistenc...",
          "executable": false
        },
        "137": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Execution count mapping (for quick lookup)",
          "executable": false
        },
        "502": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- A line that is executed must be executa...",
          "executable": false
        },
        "133": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "737": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if line_data.covered and not line_data.execu...",
          "executable": true
        },
        "837": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "937": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.debug(\"Registered function\", {",
          "executable": true
        },
        "433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Mark as covered if not already",
          "executable": false
        },
        "641": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "comment",
          "content": "  -- Log detailed statistics for debugging",
          "executable": false
        },
        "741": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "841": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "941": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    start_line = start_line,",
          "executable": true
        },
        "785": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    data.summary.total_files = file_count",
          "executable": true
        },
        "685": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "585": {
          "covered": false,
          "executed": true,
          "execution_count": 33,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "485": {
          "covered": true,
          "executed": true,
          "execution_count": 33,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "985": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  func_data.execution_count = func_data.execution_...",
          "executable": true
        },
        "885": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "241": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Update file statistics",
          "executable": false
        },
        "341": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local file_data = data.files[normalized_path]",
          "executable": true
        },
        "1016": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not file_data then",
          "executable": true
        },
        "541": {
          "covered": true,
          "executed": true,
          "execution_count": 33,
          "line_type": "code",
          "content": "        func_data.executed = true",
          "executable": true
        },
        "712": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "812": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    data.summary.executed_lines = executed_lines",
          "executable": true
        },
        "912": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Register the function",
          "executable": false
        },
        "287": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  line_data.execution_count = line_data.execution_...",
          "executable": true
        },
        "587": {
          "covered": true,
          "executed": true,
          "execution_count": 33,
          "line_type": "code",
          "content": "    if file_data.executable_lines > 0 then",
          "executable": true
        },
        "487": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    summary.executable_lines = summary.executable_...",
          "executable": true
        },
        "787": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "612": {
          "covered": true,
          "executed": true,
          "execution_count": 5,
          "line_type": "code",
          "content": "  if summary.total_functions > 0 then",
          "executable": true
        },
        "987": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Mark as executed if this is the first executi...",
          "executable": false
        },
        "887": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local normalized_path = M.normalize_path(file_pa...",
          "executable": true
        },
        "751": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local covered_functions = 0",
          "executable": true
        },
        "455": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "951": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param func_id string The function ID",
          "executable": false
        },
        "851": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Whether the operation s...",
          "executable": false
        },
        "155": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    covered_functions = 0,",
          "executable": true
        },
        "255": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.warn(\"Attempted to mark non-existent ...",
          "executable": true
        },
        "112": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if data.files[normalized_path] then",
          "executable": true
        },
        "212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "755": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for path, file_data in pairs(data.files) do",
          "executable": true
        },
        "855": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(file_path) == \"string\"...",
          "executable": true
        },
        "955": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(data) == \"table\", \"dat...",
          "executable": true
        },
        "451": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table data The updated coverage data st...",
          "executable": false
        },
        "297": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return data.files[normalized_path]",
          "executable": true
        },
        "697": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false, \"File data for '\" .. path .. \"...",
          "executable": true
        },
        "797": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if data.summary.executable_lines ~= executable_l...",
          "executable": true
        },
        "497": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    for line_num, line_data in pairs(file_data.lin...",
          "executable": true
        },
        "597": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      file_data.function_coverage_percent = math.f...",
          "executable": true
        },
        "897": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "997": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "821": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    data.summary.covered_lines = covered_lines",
          "executable": true
        },
        "921": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Track lines that belong to this function",
          "executable": false
        },
        "665": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if type(data.summary) ~= \"table\" then",
          "executable": true
        },
        "721": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(line_data) ~= \"table\" then",
          "executable": true
        },
        "265": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local line_data = file_data.lines[line_number]",
          "executable": true
        },
        "165": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  for i, line_content in ipairs(lines_array) do",
          "executable": true
        },
        "121": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "865": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    [M.FUNCTION_TYPES.METHOD] = true,",
          "executable": true
        },
        "765": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if file_data.executed_lines > 0 then",
          "executable": true
        },
        "221": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "965": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Attempted to mark function execut...",
          "executable": true
        },
        "963": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local file_data = data.files[normalized_path]",
          "executable": true
        },
        "563": {
          "covered": true,
          "executed": true,
          "execution_count": 4626,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "663": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "763": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    covered_functions = covered_functions + file_d...",
          "executable": true
        },
        "863": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    [M.FUNCTION_TYPES.GLOBAL] = true,",
          "executable": true
        },
        "1001": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param data table The coverage data structure",
          "executable": false
        },
        "263": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "363": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "463": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  summary.executed_lines = 0",
          "executable": true
        },
        "1036": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Function must be executed before it can be co...",
          "executable": false
        },
        "1043": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "931": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "831": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "731": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if line_data[field] == nil then",
          "executable": true
        },
        "279": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "579": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "479": {
          "covered": true,
          "executed": true,
          "execution_count": 3,
          "line_type": "code",
          "content": "      if line_data.line_type == M.LINE_TYPES.CODE ...",
          "executable": true
        },
        "779": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if data.summary.total_files ~= file_count then",
          "executable": true
        },
        "679": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"overall_coverage_percent\"",
          "executable": true
        },
        "979": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "879": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        M.FUNCTION_TYPES.ANONYMOUS, ",
          "executable": true
        },
        "531": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    file_data.total_functions = 0",
          "executable": true
        },
        "431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "331": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      classification = classification,",
          "executable": true
        },
        "231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_data.lines[i] = {",
          "executable": true
        },
        "973": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not file_data.functions[func_id] then",
          "executable": true
        },
        "673": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check summary fields",
          "executable": false
        },
        "573": {
          "covered": true,
          "executed": true,
          "execution_count": 1370,
          "line_type": "code",
          "content": "    summary.executed_functions = summary.executed_...",
          "executable": true
        },
        "873": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      func_name = func_name,",
          "executable": true
        },
        "773": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "273": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_data.line_type,",
          "executable": true
        },
        "173": {
          "covered": true,
          "executed": true,
          "execution_count": 24,
          "line_type": "code",
          "content": "    }",
          "executable": true
        },
        "1010": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "930": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "830": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    data.summary.executed_files = executed_files",
          "executable": true
        },
        "730": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for _, field in ipairs(required_line_fields)...",
          "executable": true
        },
        "630": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    }",
          "executable": true
        },
        "530": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Count total functions",
          "executable": false
        },
        "981": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the function data",
          "executable": false
        },
        "349": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1053": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    data.summary.covered_functions = data.summary....",
          "executable": true
        },
        "149": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    executed_lines = 0,",
          "executable": true
        },
        "649": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "    line_coverage = summary.line_coverage_percent ...",
          "executable": true
        },
        "681": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "781": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      summary_value = data.summary.total_files,",
          "executable": true
        },
        "549": {
          "covered": true,
          "executed": true,
          "execution_count": 144,
          "line_type": "code",
          "content": "        for line_num = func_data.start_line, func_...",
          "executable": true
        },
        "181": {
          "covered": true,
          "executed": true,
          "execution_count": 23,
          "line_type": "code",
          "content": "  data.summary.total_lines = data.summary.total_li...",
          "executable": true
        },
        "281": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if line_data.line_type ~= M.LINE_TYPES.COMMENT a...",
          "executable": true
        },
        "849": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param end_line number The ending line of the f...",
          "executable": false
        },
        "949": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param data table The coverage data structure",
          "executable": false
        },
        "843": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "943": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    func_type = func_type",
          "executable": true
        },
        "643": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    total_files = summary.total_files,",
          "executable": true
        },
        "743": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Validate summary statistics match file data",
          "executable": false
        },
        "1008": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(file_path) == \"string\"...",
          "executable": true
        },
        "443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Mark file as covered if this is the first c...",
          "executable": false
        },
        "543": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "243": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      data.summary.total_lines = data.summary.tota...",
          "executable": true
        },
        "343": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Attempted to classify line for a ...",
          "executable": true
        },
        "359": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "991": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Update file statistics",
          "executable": false
        },
        "400": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "500": {
          "covered": true,
          "executed": true,
          "execution_count": 33,
          "line_type": "code",
          "content": "        line_data.executed = true",
          "executable": true
        },
        "759": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    executed_lines = executed_lines + file_data.ex...",
          "executable": true
        },
        "659": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "function M.validate(data)",
          "executable": true
        },
        "800": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      calculated_value = executable_lines",
          "executable": true
        },
        "900": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local func_id = func_name .. \":\" .. start_line ....",
          "executable": true
        },
        "1024": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if function exists",
          "executable": false
        },
        "191": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  error_handler.assert(type(data) == \"table\", \"dat...",
          "executable": true
        },
        "959": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Normalize the path",
          "executable": false
        },
        "859": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(func_type) == \"string\"...",
          "executable": true
        },
        "1012": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local normalized_path = M.normalize_path(file_pa...",
          "executable": true
        },
        "953": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.mark_function_executed(data, file_path,...",
          "executable": true
        },
        "853": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "753": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local covered_files = 0",
          "executable": true
        },
        "653": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return data",
          "executable": true
        },
        "153": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    total_functions = 0,",
          "executable": true
        },
        "553": {
          "covered": true,
          "executed": true,
          "execution_count": 111,
          "line_type": "code",
          "content": "            line_data.covered = true",
          "executable": true
        },
        "453": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "353": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = normalized_path,",
          "executable": true
        },
        "253": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "961": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "761": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    total_functions = total_functions + file_data....",
          "executable": true
        },
        "861": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Validate function type",
          "executable": false
        },
        "561": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "              file_has_covered_lines = true",
          "executable": true
        },
        "661": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "  if type(data) ~= \"table\" then",
          "executable": true
        },
        "361": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local line_data = file_data.lines[line_number]",
          "executable": true
        },
        "461": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  summary.total_lines = 0",
          "executable": true
        },
        "1015": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local file_data = data.files[normalized_path]",
          "executable": true
        },
        "962": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the file data",
          "executable": false
        },
        "862": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local valid_types = {",
          "executable": true
        },
        "1023": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "662": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "    return false, \"Coverage data must be a table\"",
          "executable": true
        },
        "562": {
          "covered": true,
          "executed": true,
          "execution_count": 4737,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "472": {
          "covered": true,
          "executed": true,
          "execution_count": 3,
          "line_type": "code",
          "content": "    summary.total_files = summary.total_files + 1",
          "executable": true
        },
        "172": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      content = line_content,",
          "executable": true
        },
        "272": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_number,",
          "executable": true
        },
        "920": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    execution_count = 0,",
          "executable": true
        },
        "520": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          summary.covered_lines = summary.covered_...",
          "executable": true
        },
        "620": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "720": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Check line data structure",
          "executable": false
        },
        "820": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Fix it",
          "executable": false
        },
        "210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Normalize the path",
          "executable": false
        },
        "110": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "971": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "871": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Invalid function type\", {",
          "executable": true
        },
        "771": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "671": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "571": {
          "covered": false,
          "executed": true,
          "execution_count": 1370,
          "line_type": "comment",
          "content": "    -- Update summary function statistics",
          "executable": false
        },
        "471": {
          "covered": false,
          "executed": true,
          "execution_count": 3,
          "line_type": "comment",
          "content": "    -- Update file counters",
          "executable": false
        },
        "371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    line_data.executable = false",
          "executable": true
        },
        "972": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if function exists",
          "executable": false
        },
        "171": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      line_type = M.LINE_TYPES.CODE,  -- Default c...",
          "executable": true
        },
        "772": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "872": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = file_path,",
          "executable": true
        },
        "572": {
          "covered": true,
          "executed": true,
          "execution_count": 1370,
          "line_type": "code",
          "content": "    summary.total_functions = summary.total_functi...",
          "executable": true
        },
        "672": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "282": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "     line_data.line_type ~= M.LINE_TYPES.BLANK the...",
          "executable": true
        },
        "182": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "482": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "970": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "870": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not valid_types[func_type] then",
          "executable": true
        },
        "770": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      covered_files = covered_files + 1",
          "executable": true
        },
        "670": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, \"Coverage data must have a files...",
          "executable": true
        },
        "589": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      file_data.execution_coverage_percent = math....",
          "executable": true
        },
        "220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "320": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local valid_types = {",
          "executable": true
        },
        "489": {
          "covered": false,
          "executed": true,
          "execution_count": 33,
          "line_type": "comment",
          "content": "    -- Initialize file statistics for recounting",
          "executable": false
        },
        "189": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.get_file_data(data, file_path)",
          "executable": true
        },
        "289": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "982": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local func_data = file_data.functions[func_id]",
          "executable": true
        },
        "989": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    func_data.executed = true",
          "executable": true
        },
        "582": {
          "covered": true,
          "executed": true,
          "execution_count": 33,
          "line_type": "code",
          "content": "    if file_has_covered_lines then",
          "executable": true
        },
        "882": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "889": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the file data",
          "executable": false
        },
        "192": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  error_handler.assert(type(file_path) == \"string\"...",
          "executable": true
        },
        "292": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    line_data.executable = true",
          "executable": true
        },
        "983": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "492": {
          "covered": false,
          "executed": true,
          "execution_count": 31484,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "783": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "883": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "583": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      summary.covered_files = summary.covered_file...",
          "executable": true
        },
        "683": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(data.summary[field]) ~= \"number\" then",
          "executable": true
        },
        "383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "483": {
          "covered": true,
          "executed": true,
          "execution_count": 36,
          "line_type": "code",
          "content": "        line_data.executable = false",
          "executable": true
        },
        "940": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    func_id = func_id,",
          "executable": true
        },
        "283": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    line_data.executable = true",
          "executable": true
        },
        "740": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "840": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "540": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if func_data.execution_count > 0 then",
          "executable": true
        },
        "640": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "699": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "599": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      file_data.function_coverage_percent = 0",
          "executable": true
        },
        "230": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for i = file_data.total_lines + 1, line_numb...",
          "executable": true
        },
        "130": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    name = file_name,",
          "executable": true
        },
        "299": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  line_data.covered = true",
          "executable": true
        },
        "199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Marks a line as executed",
          "executable": false
        },
        "992": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file_data.executed_functions = file_data.execu...",
          "executable": true
        },
        "592": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      file_data.execution_coverage_percent = 0",
          "executable": true
        },
        "999": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "899": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Create a unique function ID",
          "executable": false
        },
        "892": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Attempted to register function fo...",
          "executable": true
        },
        "122": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "993": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "893": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = normalized_path,",
          "executable": true
        },
        "793": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Fix it",
          "executable": false
        },
        "693": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "593": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "493": {
          "covered": true,
          "executed": true,
          "execution_count": 31484,
          "line_type": "code",
          "content": "    local file_has_executed_lines = false",
          "executable": true
        },
        "910": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "293": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "610": {
          "covered": true,
          "executed": true,
          "execution_count": 28,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "510": {
          "covered": false,
          "executed": true,
          "execution_count": 31517,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "810": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "710": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false, \"File '\" .. path .. \"' missi...",
          "executable": true
        },
        "340": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the file data",
          "executable": false
        },
        "440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- We no longer update global statistics here,...",
          "executable": false
        },
        "140": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Function data",
          "executable": false
        },
        "240": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "922": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    lines = {},",
          "executable": true
        },
        "822": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "722": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false, \"Line data for line \" .. lin...",
          "executable": true
        },
        "622": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "114": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return data.files[normalized_path]",
          "executable": true
        },
        "214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local file_data = data.files[normalized_path]",
          "executable": true
        },
        "208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(line_number) == \"numbe...",
          "executable": true
        },
        "308": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param file_path string The path to the file",
          "executable": false
        },
        "408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "508": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        line_data.covered = true",
          "executable": true
        },
        "608": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    summary.line_coverage_percent = 0",
          "executable": true
        },
        "708": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, field in ipairs(required_file_fields) d...",
          "executable": true
        },
        "808": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      summary_value = data.summary.executed_lines,",
          "executable": true
        },
        "908": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "108": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Normalize the path",
          "executable": false
        },
        "1004": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Whether the operation s...",
          "executable": false
        },
        "316": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(line_number) == \"numbe...",
          "executable": true
        },
        "216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Attempted to mark line executed f...",
          "executable": true
        },
        "516": {
          "covered": true,
          "executed": true,
          "execution_count": 2849,
          "line_type": "code",
          "content": "          file_has_executed_lines = true",
          "executable": true
        },
        "416": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      total_lines = file_data.total_lines",
          "executable": true
        },
        "716": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(line_num) ~= \"number\" or line_num < ...",
          "executable": true
        },
        "616": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "916": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end_line = end_line,",
          "executable": true
        },
        "816": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Summary mismatch: covered_lines\"...",
          "executable": true
        },
        "904": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Function already registered\", {",
          "executable": true
        },
        "804": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "704": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"line_coverage_percent\", \"execution_coverage...",
          "executable": true
        },
        "604": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if summary.executable_lines > 0 then",
          "executable": true
        },
        "504": {
          "covered": true,
          "executed": true,
          "execution_count": 33,
          "line_type": "code",
          "content": "          line_data.executable = true",
          "executable": true
        },
        "116": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "304": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "1039": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = normalized_path,",
          "executable": true
        },
        "1007": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(data) == \"table\", \"dat...",
          "executable": true
        },
        "1054": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "226": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- that weren't in the source when we read it....",
          "executable": false
        },
        "104": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(data) == \"table\", \"dat...",
          "executable": true
        },
        "426": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Attempted to mark a non-executed ...",
          "executable": true
        },
        "526": {
          "covered": true,
          "executed": true,
          "execution_count": 31484,
          "line_type": "code",
          "content": "        line_data.covered = false",
          "executable": true
        },
        "626": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "    local weights = {",
          "executable": true
        },
        "726": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local required_line_fields = {",
          "executable": true
        },
        "826": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      summary_value = data.summary.executed_files,",
          "executable": true
        },
        "926": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for line_num = start_line, end_line do",
          "executable": true
        },
        "914": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    name = func_name,",
          "executable": true
        },
        "714": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Validate line data",
          "executable": false
        },
        "814": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "514": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          file_data.executed_lines = file_data.exe...",
          "executable": true
        },
        "614": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "314": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(data) == \"table\", \"dat...",
          "executable": true
        },
        "126": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Initialize file data structure",
          "executable": false
        },
        "169": {
          "covered": true,
          "executed": true,
          "execution_count": 24,
          "line_type": "code",
          "content": "      covered = false,",
          "executable": true
        },
        "269": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if debug_file then",
          "executable": true
        },
        "369": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    line_data.executable = true",
          "executable": true
        },
        "469": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Calculate per-file statistics",
          "executable": false
        },
        "569": {
          "covered": true,
          "executed": true,
          "execution_count": 4616,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "669": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(data.files) ~= \"table\" then",
          "executable": true
        },
        "769": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if file_data.covered_lines > 0 then",
          "executable": true
        },
        "869": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "969": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "1051": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1026": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Attempted to mark non-existent fu...",
          "executable": true
        },
        "177": {
          "covered": true,
          "executed": true,
          "execution_count": 23,
          "line_type": "code",
          "content": "  data.files[normalized_path] = file_data",
          "executable": true
        },
        "277": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    debug_file:close()",
          "executable": true
        },
        "377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_data.executable_lines = file_data.execu...",
          "executable": true
        },
        "477": {
          "covered": true,
          "executed": true,
          "execution_count": 3,
          "line_type": "code",
          "content": "    for line_num, line_data in pairs(file_data.lin...",
          "executable": true
        },
        "577": {
          "covered": true,
          "executed": true,
          "execution_count": 111,
          "line_type": "code",
          "content": "    if file_has_executed_lines then",
          "executable": true
        },
        "677": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"line_coverage_percent\", \"execution_coverage_p...",
          "executable": true
        },
        "777": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "877": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        M.FUNCTION_TYPES.LOCAL, ",
          "executable": true
        },
        "977": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1027": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = normalized_path,",
          "executable": true
        },
        "195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local normalized_path = M.normalize_path(file_pa...",
          "executable": true
        },
        "295": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Mark as executed",
          "executable": false
        },
        "395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(file_path) == \"string\"...",
          "executable": true
        },
        "495": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "595": {
          "covered": false,
          "executed": true,
          "execution_count": 33,
          "line_type": "comment",
          "content": "    -- Calculate function coverage percent",
          "executable": false
        },
        "695": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check file structure",
          "executable": false
        },
        "795": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "895": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "995": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    data.summary.executed_functions = data.summary...",
          "executable": true
        },
        "406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_number = line_number",
          "executable": true
        },
        "506": {
          "covered": false,
          "executed": true,
          "execution_count": 33,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(data) == \"table\", \"dat...",
          "executable": true
        },
        "1019": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      func_id = func_id",
          "executable": true
        },
        "806": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if data.summary.executed_lines ~= executed_lines...",
          "executable": true
        },
        "906": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      func_name = func_name,",
          "executable": true
        },
        "606": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    summary.execution_coverage_percent = math.floo...",
          "executable": true
        },
        "706": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    }",
          "executable": true
        },
        "106": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(source_code) == \"strin...",
          "executable": true
        },
        "118": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local line_count = 0",
          "executable": true
        },
        "428": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_number = line_number",
          "executable": true
        },
        "528": {
          "covered": true,
          "executed": true,
          "execution_count": 2849,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "228": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if line_number > file_data.total_lines then",
          "executable": true
        },
        "328": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Invalid line classification\", {",
          "executable": true
        },
        "828": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "928": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Add this line to the function's lines",
          "executable": false
        },
        "628": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      functions = 0.2,",
          "executable": true
        },
        "728": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "128": {
          "covered": false,
          "executed": true,
          "execution_count": 23,
          "line_type": "comment",
          "content": "    -- File metadata",
          "executable": false
        },
        "1046": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not func_data.covered then",
          "executable": true
        },
        "1058": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "return M",
          "executable": true
        },
        "1057": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1049": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Update file statistics",
          "executable": false
        },
        "518": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "          -- All executed lines are considered cov...",
          "executable": false
        },
        "418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "318": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_number = line_number",
          "executable": true
        },
        "918": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    executed = false,",
          "executable": true
        },
        "818": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      calculated_value = covered_lines",
          "executable": true
        },
        "718": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "618": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "  if summary.total_files > 0 then",
          "executable": true
        },
        "51": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local normalized = path:gsub(\"\\\\\", \"/\")",
          "executable": true
        },
        "41": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "31": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  DO = \"do\",",
          "executable": true
        },
        "21": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  COMMENT = \"comment\",",
          "executable": true
        },
        "968": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "81": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      execution_coverage_percent = 0,",
          "executable": true
        },
        "71": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      covered_files = 0,",
          "executable": true
        },
        "868": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "456": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Reset summary counters to recalculate",
          "executable": false
        },
        "356": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "656": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "comment",
          "content": "---@param data table The coverage data structure t...",
          "executable": false
        },
        "556": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            if line_data.execution_count == 0 then",
          "executable": true
        },
        "11": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local M = {}",
          "executable": true
        },
        "256": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_path = normalized_path,",
          "executable": true
        },
        "156": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    function_coverage_percent = 0,",
          "executable": true
        },
        "856": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(func_name) == \"string\"...",
          "executable": true
        },
        "756": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file_count = file_count + 1",
          "executable": true
        },
        "956": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(file_path) == \"string\"...",
          "executable": true
        },
        "658": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "comment",
          "content": "---@return string|nil error_message Error message ...",
          "executable": false
        },
        "558": {
          "covered": true,
          "executed": true,
          "execution_count": 111,
          "line_type": "code",
          "content": "              file_data.executed_lines = file_data...",
          "executable": true
        },
        "458": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  summary.total_files = 0",
          "executable": true
        },
        "358": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "258": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        total_lines = file_data.total_lines",
          "executable": true
        },
        "158": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "50": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Replace backslashes with forward slashes",
          "executable": false
        },
        "60": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "70": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      total_files = 0,",
          "executable": true
        },
        "80": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_coverage_percent = 0,",
          "executable": true
        },
        "838": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Fix it",
          "executable": false
        },
        "20": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  CODE = \"code\",",
          "executable": true
        },
        "30": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  WHILE = \"while\",",
          "executable": true
        },
        "938": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file_path = normalized_path,",
          "executable": true
        },
        "366": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "466": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  summary.executed_functions = 0",
          "executable": true
        },
        "566": {
          "covered": true,
          "executed": true,
          "execution_count": 4616,
          "line_type": "code",
          "content": "        func_data.executed = false",
          "executable": true
        },
        "666": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "    return false, \"Coverage data must have a summa...",
          "executable": true
        },
        "166": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    file_data.lines[i] = {",
          "executable": true
        },
        "266": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "766": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      executed_files = executed_files + 1",
          "executable": true
        },
        "866": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    [M.FUNCTION_TYPES.ANONYMOUS] = true,",
          "executable": true
        },
        "966": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = normalized_path,",
          "executable": true
        },
        "568": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "668": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if classification == M.LINE_TYPES.CODE then",
          "executable": true
        },
        "468": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "168": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      executed = false,",
          "executable": true
        },
        "268": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local debug_file = io.open(\"line_tracking_debug....",
          "executable": true
        },
        "376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if line_data.executable then",
          "executable": true
        },
        "276": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    ))",
          "executable": true
        },
        "176": {
          "covered": false,
          "executed": true,
          "execution_count": 23,
          "line_type": "comment",
          "content": "  -- Add file to data structure",
          "executable": false
        },
        "776": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- we might sometimes have mismatches due to var...",
          "executable": false
        },
        "676": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"total_lines\", \"executable_lines\", \"executed_l...",
          "executable": true
        },
        "576": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Update file execution flag",
          "executable": false
        },
        "476": {
          "covered": true,
          "executed": true,
          "execution_count": 3,
          "line_type": "code",
          "content": "    file_data.executable_lines = 0",
          "executable": true
        },
        "976": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      func_id = func_id",
          "executable": true
        },
        "876": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        M.FUNCTION_TYPES.GLOBAL, ",
          "executable": true
        },
        "90": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      overall_coverage_percent = 0,",
          "executable": true
        },
        "958": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "858": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(end_line) == \"number\",...",
          "executable": true
        },
        "758": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    executable_lines = executable_lines + file_dat...",
          "executable": true
        },
        "286": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Update execution count",
          "executable": false
        },
        "386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "186": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param data table The coverage data structure",
          "executable": false
        },
        "686": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "786": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "486": {
          "covered": false,
          "executed": true,
          "execution_count": 33,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "586": {
          "covered": false,
          "executed": true,
          "execution_count": 33,
          "line_type": "comment",
          "content": "    -- Calculate file percentages",
          "executable": false
        },
        "886": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Normalize the path",
          "executable": false
        },
        "986": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1005": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.mark_function_covered(data, file_path, ...",
          "executable": true
        },
        "1006": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "134": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Line-specific data",
          "executable": false
        },
        "234": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          covered = false,",
          "executable": true
        },
        "334": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not line_data.covered then",
          "executable": true
        },
        "534": {
          "covered": false,
          "executed": true,
          "execution_count": 2849,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Normalize the path",
          "executable": false
        },
        "298": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Mark as covered too",
          "executable": false
        },
        "198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "798": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Summary mismatch: executable_lin...",
          "executable": true
        },
        "698": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "598": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "498": {
          "covered": false,
          "executed": true,
          "execution_count": 33,
          "line_type": "comment",
          "content": "      -- Any line with execution_count > 0 must be...",
          "executable": false
        },
        "978": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "878": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        M.FUNCTION_TYPES.METHOD, ",
          "executable": true
        },
        "748": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local covered_lines = 0",
          "executable": true
        },
        "848": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param start_line number The starting line of t...",
          "executable": false
        },
        "948": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Marks a function as executed",
          "executable": false
        },
        "724": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "536": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    for func_id, func_data in pairs(file_data.func...",
          "executable": true
        },
        "924": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "824": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if data.summary.executed_files ~= executed_files...",
          "executable": true
        },
        "236": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          line_type = M.LINE_TYPES.CODE,  -- Defau...",
          "executable": true
        },
        "136": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "154": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    executed_functions = 0,",
          "executable": true
        },
        "454": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(data) == \"table\", \"dat...",
          "executable": true
        },
        "936": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "836": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      calculated_value = covered_files",
          "executable": true
        },
        "736": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Validate line relationships",
          "executable": false
        },
        "438": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file_data.covered_lines = file_data.covered_li...",
          "executable": true
        },
        "338": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local normalized_path = M.normalize_path(file_pa...",
          "executable": true
        },
        "638": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "    summary.overall_coverage_percent = 0",
          "executable": true
        },
        "538": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "238": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        }",
          "executable": true
        },
        "138": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    execution_counts = {},",
          "executable": true
        },
        "998": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "898": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "546": {
          "covered": true,
          "executed": true,
          "execution_count": 33,
          "line_type": "code",
          "content": "        file_data.covered_functions = file_data.co...",
          "executable": true
        },
        "734": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "834": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Summary mismatch: covered_files\"...",
          "executable": true
        },
        "934": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  file_data.total_functions = file_data.total_func...",
          "executable": true
        },
        "146": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- File statistics",
          "executable": false
        },
        "246": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if not file_data.expanded_lines_logged then",
          "executable": true
        },
        "124": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local file_name = normalized_path:match(\"([^/]+)...",
          "executable": true
        },
        "946": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "224": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not file_data.lines[line_number] then",
          "executable": true
        },
        "746": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local executable_lines = 0",
          "executable": true
        },
        "846": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param file_path string The path to the file co...",
          "executable": false
        },
        "348": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "448": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "548": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Mark all lines in the function range as...",
          "executable": false
        },
        "648": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "    executed_functions = summary.executed_function...",
          "executable": true
        },
        "148": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    executable_lines = 0,",
          "executable": true
        },
        "248": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          file_path = normalized_path,",
          "executable": true
        },
        "1025": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not file_data.functions[func_id] then",
          "executable": true
        },
        "944": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "844": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Registers a function in the coverage data",
          "executable": false
        },
        "744": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local file_count = 0",
          "executable": true
        },
        "644": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    executable_lines = summary.executable_lines,",
          "executable": true
        },
        "174": {
          "covered": true,
          "executed": true,
          "execution_count": 23,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "274": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      tostring(line_data.executed),",
          "executable": true
        },
        "374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Update file statistics if executability chang...",
          "executable": false
        },
        "474": {
          "covered": false,
          "executed": true,
          "execution_count": 3,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1056": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "1040": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      func_id = func_id",
          "executable": true
        },
        "1047": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    func_data.covered = true",
          "executable": true
        },
        "1045": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Mark as covered if not already",
          "executable": false
        },
        "44": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return string normalized_path The normalized p...",
          "executable": false
        },
        "324": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    [M.LINE_TYPES.STRUCTURE] = true",
          "executable": true
        },
        "1041": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1050": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file_data.covered_functions = file_data.covere...",
          "executable": true
        },
        "1014": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the file data",
          "executable": false
        },
        "1038": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Attempted to mark a non-executed ...",
          "executable": true
        },
        "1037": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not func_data.executed then",
          "executable": true
        },
        "1035": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "75": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Line statistics",
          "executable": false
        },
        "1032": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1031": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "854": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(data) == \"table\", \"dat...",
          "executable": true
        },
        "954": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "654": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "754": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1030": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "1029": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1028": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      func_id = func_id",
          "executable": true
        },
        "115": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "144": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    blocks = {},",
          "executable": true
        },
        "465": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  summary.total_functions = 0",
          "executable": true
        },
        "420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "415": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_number = line_number,",
          "executable": true
        },
        "544": {
          "covered": false,
          "executed": true,
          "execution_count": 33,
          "line_type": "comment",
          "content": "        -- In this simple implementation, executed...",
          "executable": false
        },
        "444": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- (We'll track this during calculate_summary)",
          "executable": false
        },
        "344": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = normalized_path,",
          "executable": true
        },
        "244": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = normalized_path,",
          "executable": true
        },
        "393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "222": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "322": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    [M.LINE_TYPES.COMMENT] = true,",
          "executable": true
        },
        "422": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local line_data = file_data.lines[line_number]",
          "executable": true
        },
        "522": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "499": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if line_data.execution_count > 0 then",
          "executable": true
        },
        "326": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1018": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = normalized_path,",
          "executable": true
        },
        "1011": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Normalize the path",
          "executable": false
        },
        "799": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      summary_value = data.summary.executable_line...",
          "executable": true
        },
        "792": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "692": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false, \"File path '\" .. path .. \"' is...",
          "executable": true
        },
        "85": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      executed_functions = 0,",
          "executable": true
        },
        "1033": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the function data",
          "executable": false
        },
        "55": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "34": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Function type constants",
          "executable": false
        },
        "964": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not file_data then",
          "executable": true
        },
        "1044": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local normalized_path = M.normalize_path(file_pa...",
          "executable": true
        },
        "664": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "564": {
          "covered": true,
          "executed": true,
          "execution_count": 4626,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "864": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    [M.FUNCTION_TYPES.LOCAL] = true,",
          "executable": true
        },
        "764": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "394": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_handler.assert(type(data) == \"table\", \"dat...",
          "executable": true
        },
        "494": {
          "covered": true,
          "executed": true,
          "execution_count": 31484,
          "line_type": "code",
          "content": "    local file_has_covered_lines = false",
          "executable": true
        },
        "194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Normalize the path for lookup",
          "executable": false
        },
        "294": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "330": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_number = line_number,",
          "executable": true
        },
        "430": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "1022": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "183": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return file_data",
          "executable": true
        },
        "392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.mark_line_covered(data, file_path, line...",
          "executable": true
        },
        "782": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      calculated_value = file_count",
          "executable": true
        },
        "789": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Summary mismatch: total_lines\", ...",
          "executable": true
        },
        "682": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for _, field in ipairs(required_summary_fields) ...",
          "executable": true
        },
        "141": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    functions = {},",
          "executable": true
        },
        "354": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      line_number = line_number,",
          "executable": true
        },
        "389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param file_path string The path to the file",
          "executable": false
        },
        "700": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check required file fields",
          "executable": false
        },
        "120": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    line_count = line_count + 1",
          "executable": true
        },
        "365": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  line_data.line_type = classification",
          "executable": true
        },
        "565": {
          "covered": true,
          "executed": true,
          "execution_count": 4616,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "1000": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Marks a function as covered (executed + valida...",
          "executable": false
        },
        "1042": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "424": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Line must be executed before it can be covere...",
          "executable": false
        },
        "412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not file_data.lines[line_number] then",
          "executable": true
        },
        "100": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param source_code string The source code conte...",
          "executable": false
        },
        "974": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Attempted to mark non-existent fu...",
          "executable": true
        },
        "271": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      normalized_path, ",
          "executable": true
        },
        "310": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param classification string The line classific...",
          "executable": false
        },
        "559": {
          "covered": true,
          "executed": true,
          "execution_count": 111,
          "line_type": "code",
          "content": "              file_data.covered_lines = file_data....",
          "executable": true
        },
        "574": {
          "covered": true,
          "executed": true,
          "execution_count": 1370,
          "line_type": "code",
          "content": "    summary.covered_functions = summary.covered_fu...",
          "executable": true
        },
        "674": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local required_summary_fields = {",
          "executable": true
        },
        "774": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check summary matches calculated values but a...",
          "executable": false
        },
        "874": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      func_type = func_type,",
          "executable": true
        },
        "264": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the line data",
          "executable": false
        },
        "164": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "464": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  summary.covered_lines = 0",
          "executable": true
        },
        "364": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Update classification",
          "executable": false
        },
        "1013": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "459": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  summary.covered_files = 0",
          "executable": true
        },
        "291": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if line_data.line_type ~= \"comment\" and line_dat...",
          "executable": true
        },
        "524": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Ensure non-executable lines are never c...",
          "executable": false
        },
        "581": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Update file coverage flag",
          "executable": false
        },
        "762": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    executed_functions = executed_functions + file...",
          "executable": true
        },
        "261": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "161": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  for line in source_code:gmatch(\"[^\\r\\n]+\") do",
          "executable": true
        },
        "300": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param data table The coverage data structure",
          "executable": false
        },
        "379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "596": {
          "covered": true,
          "executed": true,
          "execution_count": 31,
          "line_type": "code",
          "content": "    if file_data.total_functions > 0 then",
          "executable": true
        },
        "600": {
          "covered": true,
          "executed": true,
          "execution_count": 33,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "602": {
          "covered": false,
          "executed": true,
          "execution_count": 33,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "605": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    summary.line_coverage_percent = math.floor((su...",
          "executable": true
        },
        "162": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    table.insert(lines_array, line)",
          "executable": true
        },
        "262": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "362": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local was_executable = line_data.executable",
          "executable": true
        },
        "462": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  summary.executable_lines = 0",
          "executable": true
        },
        "615": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    summary.function_coverage_percent = 0",
          "executable": true
        },
        "621": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    summary.file_coverage_percent = 0",
          "executable": true
        },
        "391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean success Whether the operation s...",
          "executable": false
        },
        "491": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    file_data.covered_lines = 0",
          "executable": true
        },
        "984": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Update execution count",
          "executable": false
        },
        "884": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "784": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Fix it rather than failing validation",
          "executable": false
        },
        "684": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false, \"Summary field '\" .. field .. ...",
          "executable": true
        },
        "584": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "591": {
          "covered": true,
          "executed": true,
          "execution_count": 31,
          "line_type": "code",
          "content": "      file_data.line_coverage_percent = 0",
          "executable": true
        },
        "691": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if path ~= M.normalize_path(path) then",
          "executable": true
        },
        "159": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Initialize line data",
          "executable": false
        },
        "624": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Calculate overall coverage (weighted average)",
          "executable": false
        },
        "625": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "  if summary.executable_lines > 0 or summary.total...",
          "executable": true
        },
        "143": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Block relationship data",
          "executable": false
        },
        "629": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      files = 0.1",
          "executable": true
        },
        "631": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "633": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      (summary.line_coverage_percent * weights.lin...",
          "executable": true
        },
        "634": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      (summary.function_coverage_percent * weights...",
          "executable": true
        },
        "651": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "481": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        file_data.executable_lines = file_data.exe...",
          "executable": true
        },
        "381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- We no longer update global statistics her...",
          "executable": false
        },
        "449": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Calculates coverage statistics for the entire ...",
          "executable": false
        },
        "249": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          original_lines = file_data.total_lines,",
          "executable": true
        },
        "373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "473": {
          "covered": true,
          "executed": true,
          "execution_count": 3,
          "line_type": "code",
          "content": "    summary.total_lines = summary.total_lines + fi...",
          "executable": true
        },
        "54": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  normalized = normalized:gsub(\"/$\", \"\")",
          "executable": true
        },
        "152": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    execution_coverage_percent = 0,",
          "executable": true
        },
        "131": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    source = source_code,",
          "executable": true
        },
        "179": {
          "covered": false,
          "executed": true,
          "execution_count": 23,
          "line_type": "comment",
          "content": "  -- Update summary statistics",
          "executable": false
        },
        "101": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table file_data The initialized file da...",
          "executable": false
        },
        "551": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          if line_data and line_data.executable th...",
          "executable": true
        },
        "687": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "163": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "521": {
          "covered": true,
          "executed": true,
          "execution_count": 2849,
          "line_type": "code",
          "content": "          file_has_covered_lines = true",
          "executable": true
        },
        "994": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Update global statistics",
          "executable": false
        },
        "421": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the line data",
          "executable": false
        },
        "794": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    data.summary.total_lines = total_lines",
          "executable": true
        },
        "894": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      func_name = func_name",
          "executable": true
        },
        "594": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "694": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "484": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "284": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "184": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "446": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "346": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "646": {
          "covered": true,
          "executed": true,
          "execution_count": 7,
          "line_type": "code",
          "content": "    covered_lines = summary.covered_lines,",
          "executable": true
        },
        "251": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "351": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not file_data.lines[line_number] then",
          "executable": true
        },
        "151": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    line_coverage_percent = 0,",
          "executable": true
        },
        "254": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "554": {
          "covered": false,
          "executed": true,
          "execution_count": 111,
          "line_type": "blank",
          "content": "            ",
          "executable": false
        },
        "655": {
          "covered": false,
          "executed": true,
          "execution_count": 7,
          "line_type": "comment",
          "content": "--- Validates the coverage data structure",
          "executable": false
        },
        "555": {
          "covered": false,
          "executed": true,
          "execution_count": 111,
          "line_type": "comment",
          "content": "            -- Ensure the line is counted in file ...",
          "executable": false
        },
        "355": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      total_lines = file_data.total_lines",
          "executable": true
        },
        "404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(\"Attempted to mark line covered fo...",
          "executable": true
        },
        "336": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "436": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "636": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    )",
          "executable": true
        },
        "512": {
          "covered": true,
          "executed": true,
          "execution_count": 31484,
          "line_type": "code",
          "content": "      if line_data.executable then",
          "executable": true
        },
        "312": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.set_line_classification(data, file_path...",
          "executable": true
        },
        "387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Marks a line as covered (executed + validated)",
          "executable": false
        },
        "187": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param file_path string The path to the file",
          "executable": false
        },
        "441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- by calculate_summary when needed. This prev...",
          "executable": false
        },
        "102": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.initialize_file(data, file_path, source...",
          "executable": true
        },
        "202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param line_number number The line number that ...",
          "executable": false
        },
        "715": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for line_num, line_data in pairs(file_data.lin...",
          "executable": true
        },
        "185": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Gets coverage data for a specific file",
          "executable": false
        },
        "285": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "533": {
          "covered": true,
          "executed": true,
          "execution_count": 2849,
          "line_type": "code",
          "content": "    file_data.covered_functions = 0",
          "executable": true
        },
        "233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          executed = false,",
          "executable": true
        },
        "333": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "237": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          content = \"-- Dynamically added line \" ....",
          "executable": true
        },
        "725": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Check required line fields",
          "executable": false
        },
        "637": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "537": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      file_data.total_functions = file_data.total_...",
          "executable": true
        },
        "437": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Update file statistics",
          "executable": false
        },
        "337": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Normalize the path",
          "executable": false
        },
        "733": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "738": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false, \"Line \" .. line_num .. \" in ...",
          "executable": true
        },
        "749": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local total_functions = 0",
          "executable": true
        },
        "768": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "259": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "791": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      calculated_value = total_lines",
          "executable": true
        },
        "729": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "40": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  CLOSURE = \"closure\"    -- Functions that close o...",
          "executable": true
        },
        "10": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field _VERSION string Version of this module",
          "executable": false
        },
        "61": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return normalized",
          "executable": true
        },
        "91": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    },",
          "executable": true
        },
        "711": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "815": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if data.summary.covered_lines ~= covered_lines t...",
          "executable": true
        },
        "811": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Fix it",
          "executable": false
        },
        "825": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Summary mismatch: executed_files...",
          "executable": true
        },
        "829": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Fix it",
          "executable": false
        },
        "321": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    [M.LINE_TYPES.CODE] = true,",
          "executable": true
        },
        "84": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      total_functions = 0,",
          "executable": true
        },
        "74": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "64": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return table coverage_data The initialized cov...",
          "executable": false
        },
        "505": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "427": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_path = normalized_path,",
          "executable": true
        },
        "527": {
          "covered": true,
          "executed": true,
          "execution_count": 2849,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "35": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M.FUNCTION_TYPES = {",
          "executable": true
        },
        "45": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.normalize_path(path)",
          "executable": true
        },
        "306": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Sets the classification for a line",
          "executable": false
        },
        "689": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for path, file_data in pairs(data.files) do",
          "executable": true
        },
        "515": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          summary.executed_lines = summary.execute...",
          "executable": true
        },
        "881": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      }, \", \")",
          "executable": true
        },
        "204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.mark_line_executed(data, file_path, lin...",
          "executable": true
        },
        "891": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not file_data then",
          "executable": true
        },
        "902": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if function already exists",
          "executable": false
        },
        "909": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return true",
          "executable": true
        },
        "911": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "915": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    start_line = start_line,",
          "executable": true
        },
        "919": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    covered = false,",
          "executable": true
        },
        "925": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Update line-to-function mapping",
          "executable": false
        },
        "529": {
          "covered": false,
          "executed": true,
          "execution_count": 2849,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "570": {
          "covered": false,
          "executed": true,
          "execution_count": 1370,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1002": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param file_path string The path to the file",
          "executable": false
        }
      },
      "line_coverage_percent": 29,
      "covered_lines": 204,
      "executed_lines": 204,
      "executed_functions": 3,
      "covered_functions": 3,
      "name": "data_structure.lua",
      "function_coverage_percent": 100,
      "path": "./lib/coverage/data_structure.lua"
    },
    "./lib/tools/error_handler.lua": {
      "execution_coverage_percent": 7,
      "functions": {
        "assert:495-508": {
          "covered": true,
          "executed": true,
          "start_line": 495,
          "execution_count": 7,
          "name": "assert",
          "type": "closure",
          "end_line": 508
        },
        "try:546-567": {
          "covered": true,
          "executed": true,
          "start_line": 546,
          "execution_count": 12,
          "name": "try",
          "type": "closure",
          "end_line": 567
        },
        "safe_io_operation:686-709": {
          "covered": true,
          "executed": true,
          "start_line": 686,
          "execution_count": 1,
          "name": "safe_io_operation",
          "type": "closure",
          "end_line": 709
        }
      },
      "total_lines": 851,
      "executable_lines": 502,
      "total_functions": 3,
      "lines": {
        "132": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not config.capture_backtraces then",
          "executable": true
        },
        "432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return create_error(message, category, severity,...",
          "executable": true
        },
        "532": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     \"Filename must be a string\", ",
          "executable": false
        },
        "232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      context",
          "executable": true
        },
        "332": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not debug_enabled then",
          "executable": true
        },
        "660": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "760": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- We'll handle logging suppression locally th...",
          "executable": false
        },
        "150": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local info = debug.getinfo(3, \"Sl\")",
          "executable": true
        },
        "350": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Log at the appropriate level",
          "executable": false
        },
        "250": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Log the error",
          "executable": false
        },
        "550": {
          "covered": false,
          "executed": true,
          "execution_count": 12,
          "line_type": "comment",
          "content": "---@param cause? table|string The cause of the err...",
          "executable": false
        },
        "450": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param context? table Additional context for th...",
          "executable": false
        },
        "832": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "632": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if result ~= nil or err == nil then",
          "executable": true
        },
        "732": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      verbose = config.verbose,",
          "executable": true
        },
        "142": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    category = category or M.CATEGORY.UNKNOWN,",
          "executable": true
        },
        "201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "342": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif err.severity == M.SEVERITY.ERROR then",
          "executable": true
        },
        "242": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err_str = tostring(err)",
          "executable": true
        },
        "542": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param cause? table|string The cause of the err...",
          "executable": false
        },
        "442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local err = create_error(message, category, seve...",
          "executable": true
        },
        "701": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "801": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "301": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local completely_skip_logging = false",
          "executable": true
        },
        "401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "501": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local result = { pcall(func, ...) }",
          "executable": true
        },
        "601": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param context? table Additional context infor...",
          "executable": false
        },
        "160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return err",
          "executable": true
        },
        "260": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return nil",
          "executable": false
        },
        "360": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(err.message, log_params)",
          "executable": true
        },
        "460": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "560": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return create_error(message, M.CATEGORY.TIMEOUT,...",
          "executable": true
        },
        "742": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local error_handler_config = central_config.ge...",
          "executable": true
        },
        "642": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Log and return",
          "executable": false
        },
        "842": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Merge the additional context",
          "executable": false
        },
        "315": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If additional context was provided, merge i...",
          "executable": false
        },
        "111": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Error severity levels",
          "executable": false
        },
        "252": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "352": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.error(\"FATAL: \" .. err.message, log_par...",
          "executable": true
        },
        "452": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean The condition value (always tru...",
          "executable": false
        },
        "552": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.parse_error(message, context, cause)",
          "executable": true
        },
        "114": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  ERROR = \"ERROR\", -- Serious errors that might al...",
          "executable": true
        },
        "214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_to_throw.context = error_to_throw.cont...",
          "executable": true
        },
        "680": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local parts = {",
          "executable": true
        },
        "780": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean Whether the error is an expecte...",
          "executable": false
        },
        "411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      suppress_test_assertions = config.suppress_t...",
          "executable": true
        },
        "311": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Otherwise, only suppress logging for vali...",
          "executable": false
        },
        "611": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   {operation = \"read_config\"}",
          "executable": false
        },
        "511": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if err.category then",
          "executable": true
        },
        "570": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param message string The error message",
          "executable": false
        },
        "470": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Executes a function in protected mode with pro...",
          "executable": false
        },
        "370": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table err The error object",
          "executable": false
        },
        "270": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(_G._firmo_test_errors, err)",
          "executable": true
        },
        "208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "308": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- If the current test explicitly expects er...",
          "executable": false
        },
        "408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      exit_on_fatal = config.exit_on_fatal,",
          "executable": true
        },
        "508": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if type(err_message) == \"table\" and err_messag...",
          "executable": true
        },
        "608": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local content, err = error_handler.safe_io_ope...",
          "executable": false
        },
        "708": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Export log_error function for internal use by o...",
          "executable": false
        },
        "808": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Log the metadata change",
          "executable": false
        },
        "325": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- This allows explicit debug logging to still...",
          "executable": false
        },
        "225": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    error(error_to_throw.message, 2)",
          "executable": true
        },
        "525": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param context? table Additional context infor...",
          "executable": false
        },
        "425": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param message string The error message",
          "executable": false
        },
        "129": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "229": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      err,",
          "executable": true
        },
        "329": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "108": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- This ensures reliability across different envir...",
          "executable": false
        },
        "750": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param enabled boolean Whether test mode is ena...",
          "executable": false
        },
        "650": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return type(value) == \"table\" and value.message ...",
          "executable": true
        },
        "850": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M.configure_from_config()",
          "executable": true
        },
        "125": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  MEMORY = \"MEMORY\", -- Memory-related errors",
          "executable": true
        },
        "180": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for k, v in pairs(err.context) do",
          "executable": true
        },
        "480": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "580": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param context? table Additional context for th...",
          "executable": false
        },
        "280": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local log_params = {",
          "executable": true
        },
        "380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.configure(options)",
          "executable": true
        },
        "639": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  context.file_path = file_path",
          "executable": true
        },
        "539": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Create an I/O error object",
          "executable": false
        },
        "839": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table Array of expected test errors",
          "executable": false
        },
        "739": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "239": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    error(err, 2)",
          "executable": true
        },
        "139": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "create_error = function(message, category, severit...",
          "executable": true
        },
        "439": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param cause? table|string The cause of the err...",
          "executable": false
        },
        "339": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Choose appropriate log level",
          "executable": false
        },
        "316": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for k, v in pairs(context) do",
          "executable": true
        },
        "516": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "416": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if error_handler_config then",
          "executable": true
        },
        "716": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Register our module with central_config if ...",
          "executable": false
        },
        "616": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Failed to read config: \" .. err.messa...",
          "executable": false
        },
        "816": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "804": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Set metadata for the current test",
          "executable": false
        },
        "704": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    table.insert(parts, \"\\nTraceback:\" .. err.trac...",
          "executable": true
        },
        "604": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table|nil error_obj The structured err...",
          "executable": false
        },
        "504": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return true, unpack_table(result)",
          "executable": true
        },
        "116": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  INFO = \"INFO\", -- Informational messages about e...",
          "executable": true
        },
        "304": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- This is the proper approach instead of unreli...",
          "executable": false
        },
        "490": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- else",
          "executable": false
        },
        "390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    central_config.register_module(\"error_handler\"...",
          "executable": true
        },
        "690": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    for k, v in pairs(err.context) do",
          "executable": true
        },
        "590": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table The test expected error object",
          "executable": false
        },
        "290": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add cause if available",
          "executable": false
        },
        "190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param context? table Additional context to add...",
          "executable": false
        },
        "709": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "M.log_error = log_error",
          "executable": true
        },
        "809": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if metadata then",
          "executable": true
        },
        "509": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log_error(err_message)",
          "executable": true
        },
        "609": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   function() return fs.read_file(\"config.json\"...",
          "executable": false
        },
        "309": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      completely_skip_logging = true",
          "executable": true
        },
        "409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      capture_backtraces = config.capture_backtrac...",
          "executable": true
        },
        "109": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- See scripts/runner.lua for the proper implement...",
          "executable": false
        },
        "209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "226": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif type(err) == \"string\" then",
          "executable": true
        },
        "104": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  current_test_metadata = nil, -- Metadata for the...",
          "executable": true
        },
        "426": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param category? string The error category (def...",
          "executable": false
        },
        "526": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table The structured validation error ...",
          "executable": false
        },
        "626": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- )",
          "executable": false
        },
        "726": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        in_test_run = \"boolean\",",
          "executable": true
        },
        "826": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return config.current_test_metadata",
          "executable": true
        },
        "714": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local ok, central_config = pcall(require, \"lib.c...",
          "executable": true
        },
        "814": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "514": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log_error(err)",
          "executable": true
        },
        "614": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not content then",
          "executable": false
        },
        "314": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "126": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  CONFIGURATION = \"CONFIG\", -- Configuration error...",
          "executable": true
        },
        "819": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "719": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      field_types = {",
          "executable": true
        },
        "619": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- ",
          "executable": false
        },
        "519": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Creates a standardized error object for valida...",
          "executable": false
        },
        "419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "319": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if completely_skip_logging then",
          "executable": true
        },
        "219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "119": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M.CATEGORY = {",
          "executable": true
        },
        "103": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  suppress_all_logging_in_tests = true, -- Whether...",
          "executable": true
        },
        "203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If there's context in the original error an...",
          "executable": false
        },
        "703": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if include_traceback and err.traceback then",
          "executable": true
        },
        "803": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "503": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if success then",
          "executable": true
        },
        "603": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return any|nil result The result of the opera...",
          "executable": false
        },
        "303": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- In test mode, we may suppress certain categor...",
          "executable": false
        },
        "403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Default values (matching our local config...",
          "executable": false
        },
        "790": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check for test metadata with expect_error fla...",
          "executable": false
        },
        "213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Initialize context table if needed",
          "executable": false
        },
        "113": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  FATAL = \"FATAL\", -- Unrecoverable errors that re...",
          "executable": true
        },
        "269": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    _G._firmo_test_errors = _G._firmo_test_errors ...",
          "executable": true
        },
        "369": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return nil",
          "executable": false
        },
        "469": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Safely call a function and catch any errors (t...",
          "executable": false
        },
        "569": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Create a runtime error object",
          "executable": false
        },
        "669": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param err table|string The error object or str...",
          "executable": false
        },
        "769": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean Whether test mode is enabled",
          "executable": false
        },
        "813": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "713": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Try to load central_config directly",
          "executable": false
        },
        "613": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- ",
          "executable": false
        },
        "513": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = create_error(tostring(err_message)...",
          "executable": true
        },
        "413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "313": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        suppress_logging = true",
          "executable": true
        },
        "39": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "29": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Safe IO operation wrappers with detailed err...",
          "executable": false
        },
        "19": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    Structured Error Handling Module for the Firmo...",
          "executable": false
        },
        "79": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      print(\"[WARN] \" .. msg)",
          "executable": true
        },
        "69": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local logging = get_logging()",
          "executable": true
        },
        "59": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table|nil The filesystem module if avai...",
          "executable": false
        },
        "49": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Lazy-load dependencies to avoid circular depend...",
          "executable": false
        },
        "99": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  exit_on_fatal = false, -- Exit the process on fa...",
          "executable": true
        },
        "89": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local verbose = true -- Always be verbose for er...",
          "executable": true
        },
        "277": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return",
          "executable": true
        },
        "28": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Protected function execution with try/catch ...",
          "executable": false
        },
        "477": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return any result The function's return value...",
          "executable": false
        },
        "577": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Create a fatal error object",
          "executable": false
        },
        "677": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return tostring(err)",
          "executable": true
        },
        "777": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "78": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    warn = function(msg)",
          "executable": true
        },
        "88": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      print(\"[TRACE] \" .. msg)",
          "executable": true
        },
        "98": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log_all_errors = true, -- Log all errors through...",
          "executable": true
        },
        "38": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    and reported with appropriate context informat...",
          "executable": false
        },
        "48": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local create_error -- Forward declaration for crea...",
          "executable": true
        },
        "58": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the filesystem module lazily to avoid circ...",
          "executable": false
        },
        "68": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_logger()",
          "executable": true
        },
        "27": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Specialized error creators for common error ...",
          "executable": false
        },
        "17": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field rethrow fun(err: table|string, context?:...",
          "executable": false
        },
        "87": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    trace = function(msg)",
          "executable": true
        },
        "77": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "97": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  trace_errors = true, -- Include traceback inform...",
          "executable": true
        },
        "47": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Simple forward declarations for functions used ...",
          "executable": false
        },
        "37": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    framework, ensuring that errors are consistent...",
          "executable": false
        },
        "67": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Get a logger instance for this module",
          "executable": false
        },
        "57": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "295": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log_params.cause = tostring(err.cause)",
          "executable": true
        },
        "395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        trace_errors = \"boolean\",",
          "executable": true
        },
        "495": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- -- With arguments:",
          "executable": false
        },
        "595": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Wraps file system operations with standardized...",
          "executable": false
        },
        "695": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if err.cause then",
          "executable": true
        },
        "795": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_category = err.category,",
          "executable": true
        },
        "178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if verbose and err.context and next(err.context)...",
          "executable": true
        },
        "378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param options? table Options to configure the ...",
          "executable": false
        },
        "278": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "578": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param message string The error message",
          "executable": false
        },
        "478": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return any additional_results Additional retu...",
          "executable": false
        },
        "778": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Helper function to check if an error is an exp...",
          "executable": false
        },
        "678": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "16": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field safe_io_operation fun(func: function, fi...",
          "executable": false
        },
        "26": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Structured error objects with categories, se...",
          "executable": false
        },
        "406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      trace_errors = config.trace_errors,",
          "executable": true
        },
        "506": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local err_message = result[1]",
          "executable": true
        },
        "76": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      print(\"[ERROR] \" .. msg)",
          "executable": true
        },
        "86": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "56": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return _logging",
          "executable": true
        },
        "66": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "36": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    The module serves as the foundation for error ...",
          "executable": false
        },
        "46": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local M = {}",
          "executable": true
        },
        "106": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- IMPORTANT: We DO NOT detect test mode automatic...",
          "executable": false
        },
        "188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Rethrow an error with proper error level",
          "executable": false
        },
        "288": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log_params.traceback = err.traceback",
          "executable": true
        },
        "388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if ok and central_config then",
          "executable": true
        },
        "488": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Error:\", result.message)",
          "executable": false
        },
        "588": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param context? table Additional context for th...",
          "executable": false
        },
        "688": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if err.context and next(err.context) then",
          "executable": true
        },
        "788": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                              err.category == M.CA...",
          "executable": true
        },
        "25": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    Features:",
          "executable": false
        },
        "15": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field assert fun(condition: any, message: stri...",
          "executable": false
        },
        "118": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Error categories",
          "executable": false
        },
        "196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(err) == \"table\" and err.message then",
          "executable": true
        },
        "95": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  use_assertions = true, -- Use Lua assertions for...",
          "executable": true
        },
        "396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        log_all_errors = \"boolean\",",
          "executable": true
        },
        "296": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "65": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return _fs",
          "executable": true
        },
        "496": {
          "covered": false,
          "executed": true,
          "execution_count": 7,
          "line_type": "comment",
          "content": "--- local success, result = error_handler.try(func...",
          "executable": false
        },
        "45": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "]]",
          "executable": false
        },
        "35": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "527": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "427": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param severity? string The error severity (def...",
          "executable": false
        },
        "327": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log_level = \"debug\"",
          "executable": true
        },
        "227": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- For string errors, create a new error objec...",
          "executable": false
        },
        "827": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "727": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        suppress_test_assertions = \"boolean\",",
          "executable": true
        },
        "627": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.safe_io_operation(operation, file_path,...",
          "executable": true
        },
        "428": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param context? table Additional context for th...",
          "executable": false
        },
        "528": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "228": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    error_to_throw = create_error(",
          "executable": true
        },
        "328": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "127": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  UNKNOWN = \"UNKNOWN\", -- Unknown errors",
          "executable": true
        },
        "628": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  transform_result = transform_result or function(...",
          "executable": true
        },
        "728": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "505": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      verbose = config.verbose,",
          "executable": true
        },
        "305": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config.in_test_run then",
          "executable": true
        },
        "205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_to_throw.context = {}",
          "executable": true
        },
        "64": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "74": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return {",
          "executable": true
        },
        "84": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    debug = function(msg)",
          "executable": true
        },
        "94": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local config = {",
          "executable": true
        },
        "105": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "851": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "return M",
          "executable": true
        },
        "14": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field log_error fun(err: any) Log an error usi...",
          "executable": false
        },
        "9": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field test_expected_error fun(message: string,...",
          "executable": false
        },
        "849": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Automatically configure from global config if a...",
          "executable": false
        },
        "848": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "847": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "5": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field validation_error fun(message: string, co...",
          "executable": false
        },
        "6": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field io_error fun(message: string, context?: ...",
          "executable": false
        },
        "7": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field runtime_error fun(message: string, conte...",
          "executable": false
        },
        "8": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field parser_error fun(message: string, contex...",
          "executable": false
        },
        "1": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@class ErrorHandler",
          "executable": false
        },
        "2": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field CATEGORY table Error categories",
          "executable": false
        },
        "3": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field LOG_LEVEL table Log levels for errors",
          "executable": false
        },
        "4": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field create fun(message: string, category: st...",
          "executable": false
        },
        "846": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  _G._firmo_test_expected_errors = {}",
          "executable": true
        },
        "793": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config.current_test_metadata and config.curre...",
          "executable": true
        },
        "844": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean Always returns true",
          "executable": false
        },
        "644": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return nil, error_obj",
          "executable": true
        },
        "33": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Error assertion mechanism with clean syntax",
          "executable": false
        },
        "23": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    to create consistent, informative error handli...",
          "executable": false
        },
        "53": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, logging = pcall(require, \"lib.t...",
          "executable": true
        },
        "43": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @copyright 2023-2025",
          "executable": false
        },
        "73": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Return a stub logger if logging module isn't ...",
          "executable": false
        },
        "63": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    _fs = success and fs or nil",
          "executable": true
        },
        "93": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Module configuration",
          "executable": false
        },
        "83": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "841": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return _G._firmo_test_expected_errors or {}",
          "executable": true
        },
        "284": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    source_line = err.source_line,",
          "executable": true
        },
        "838": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Retrieve expected errors captured during tests",
          "executable": false
        },
        "837": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "836": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return config.current_test_metadata and config.c...",
          "executable": true
        },
        "321": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    _G._firmo_test_errors = _G._firmo_test_errors ...",
          "executable": true
        },
        "13": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field try fun(func: function, ...): boolean, a...",
          "executable": false
        },
        "834": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean Whether the current test expect...",
          "executable": false
        },
        "307": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if config.current_test_metadata and config.cur...",
          "executable": true
        },
        "207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error_to_throw.context[k] = v",
          "executable": true
        },
        "507": {
          "covered": false,
          "executed": true,
          "execution_count": 7,
          "line_type": "comment",
          "content": "    -- Check if the error is already one of our er...",
          "executable": false
        },
        "407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log_all_errors = config.log_all_errors,",
          "executable": true
        },
        "707": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "607": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Read a file safely",
          "executable": false
        },
        "833": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Check if current test expects errors",
          "executable": false
        },
        "807": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.set_current_test_metadata(metadata)",
          "executable": true
        },
        "831": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return config.current_test_metadata",
          "executable": true
        },
        "589": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param cause? table|string The cause of the err...",
          "executable": false
        },
        "829": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table|nil The current test metadata",
          "executable": false
        },
        "828": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the current test metadata",
          "executable": false
        },
        "825": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "824": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "107": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Instead, the test runner explicitly sets test m...",
          "executable": false
        },
        "744": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      M.configure(error_handler_config)",
          "executable": true
        },
        "42": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @license MIT",
          "executable": false
        },
        "52": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not _logging then",
          "executable": true
        },
        "22": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    error objects, contextual information, and int...",
          "executable": false
        },
        "32": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Stack trace capture and formatting",
          "executable": false
        },
        "82": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      print(\"[INFO] \" .. msg)",
          "executable": true
        },
        "92": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local logger = get_logger()",
          "executable": true
        },
        "62": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, fs = pcall(require, \"lib.tools....",
          "executable": true
        },
        "72": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Throw an error with proper logging",
          "executable": false
        },
        "821": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local ok, central_config = pcall(require, \"lib.c...",
          "executable": true
        },
        "820": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Update central_config if available",
          "executable": false
        },
        "818": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  config.current_test_metadata = metadata",
          "executable": true
        },
        "811": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      metadata_name = metadata.name,",
          "executable": true
        },
        "12": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_current_test_metadata fun(): table|n...",
          "executable": false
        },
        "815": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Clearing test metadata\")",
          "executable": true
        },
        "711": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table The error handler module (for cha...",
          "executable": false
        },
        "417": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for k, v in pairs(error_handler_config) do",
          "executable": true
        },
        "517": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error_to_throw.context[k] = v",
          "executable": true
        },
        "317": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "817": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "400": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        suppress_test_assertions = \"boolean\",",
          "executable": true
        },
        "617": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return nil, err",
          "executable": false
        },
        "717": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    central_config.register_module(\"error_handler\"...",
          "executable": true
        },
        "518": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Create a validation error object",
          "executable": false
        },
        "418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        config[k] = v",
          "executable": true
        },
        "318": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- When in a test with expect_error flag, handle...",
          "executable": false
        },
        "218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "806": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table|nil The current test metadata",
          "executable": false
        },
        "117": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "718": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Schema definition",
          "executable": false
        },
        "618": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "51": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_logging()",
          "executable": true
        },
        "41": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @author Firmo Team",
          "executable": false
        },
        "31": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Test-aware error handling with suppression c...",
          "executable": false
        },
        "21": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    This module provides a comprehensive error han...",
          "executable": false
        },
        "91": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "81": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    info = function(msg)",
          "executable": true
        },
        "71": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return logging.get_logger(\"ErrorHandler\")",
          "executable": true
        },
        "61": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not _fs then",
          "executable": true
        },
        "456": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = create_error(message, category, se...",
          "executable": true
        },
        "356": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.warn(err.message, log_params)",
          "executable": true
        },
        "656": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return err.message",
          "executable": true
        },
        "556": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param message string The error message",
          "executable": false
        },
        "11": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field set_current_test_metadata fun(metadata: ...",
          "executable": false
        },
        "805": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param metadata table|nil The test metadata or ...",
          "executable": false
        },
        "256": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "156": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "535": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "635": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return transform_result(result)",
          "executable": true
        },
        "335": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "435": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param message string The error message",
          "executable": false
        },
        "135": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  level = level or 3 -- Skip this function and the...",
          "executable": true
        },
        "235": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Log the error",
          "executable": false
        },
        "802": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return is_expected_category",
          "executable": true
        },
        "800": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "658": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return tostring(err)",
          "executable": true
        },
        "558": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return table The timeout error object",
          "executable": false
        },
        "458": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if config.use_assertions then",
          "executable": true
        },
        "358": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(err.message, log_params)",
          "executable": true
        },
        "258": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Internal helper to log an error",
          "executable": false
        },
        "158": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function format_error(err)",
          "executable": true
        },
        "735": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      exit_on_fatal = config.exit_on_fatal,",
          "executable": true
        },
        "835": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.current_test_expects_errors()",
          "executable": true
        },
        "50": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local _logging, _fs",
          "executable": true
        },
        "60": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_fs()",
          "executable": true
        },
        "70": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if logging then",
          "executable": true
        },
        "80": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "10": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field format_error fun(err: any, include_trace...",
          "executable": false
        },
        "20": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "30": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Error logging integration with configurable ...",
          "executable": false
        },
        "40": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @module error_handler",
          "executable": false
        },
        "366": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "466": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- REMOVED: Assert functions were moved to firmo.a...",
          "executable": false
        },
        "566": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.config_error(message, context)",
          "executable": true
        },
        "666": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return setmetatable(err, mt)",
          "executable": true
        },
        "729": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    }, {",
          "executable": true
        },
        "702": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Add traceback if requested and available",
          "executable": false
        },
        "166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return tostring(err)",
          "executable": true
        },
        "266": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- IMMEDIATELY RETURN if we're in test mode and ...",
          "executable": false
        },
        "645": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "545": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return create_error(message, M.CATEGORY.IO, M.SE...",
          "executable": true
        },
        "445": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "345": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log_level = suppress_logging and \"debug\" or \"w...",
          "executable": true
        },
        "245": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      M.CATEGORY.UNKNOWN,",
          "executable": true
        },
        "145": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    traceback = get_traceback(),",
          "executable": true
        },
        "796": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      metadata_name = config.current_test_metadata...",
          "executable": true
        },
        "279": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Convert to structured log",
          "executable": false
        },
        "568": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "668": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Format an error object for display",
          "executable": false
        },
        "368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param err table Error object to handle",
          "executable": false
        },
        "468": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local unpack_table = table.unpack or unpack",
          "executable": true
        },
        "168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local parts = {}",
          "executable": true
        },
        "268": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Store the error in a global table for poten...",
          "executable": false
        },
        "845": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.clear_expected_test_errors()",
          "executable": true
        },
        "745": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "447": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param condition boolean The condition to check",
          "executable": false
        },
        "347": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log_level = suppress_logging and \"debug\" or \"i...",
          "executable": true
        },
        "647": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param value any The value to check",
          "executable": false
        },
        "547": {
          "covered": false,
          "executed": true,
          "execution_count": 12,
          "line_type": "comment",
          "content": "--- Create a parse error object",
          "executable": false
        },
        "320": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Store the error in a global table for poten...",
          "executable": false
        },
        "791": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Tests with { expect_error = true } flag have ...",
          "executable": false
        },
        "247": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      context",
          "executable": true
        },
        "147": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    cause = cause, -- Original error that caused t...",
          "executable": true
        },
        "376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "276": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    print(string.format(\"[%s] %s: %s\", err.severit...",
          "executable": true
        },
        "176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "259": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param err table Error object to log",
          "executable": false
        },
        "776": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return config.in_test_run and config.suppress_al...",
          "executable": true
        },
        "676": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "576": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "476": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean success Whether the function e...",
          "executable": false
        },
        "787": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local is_expected_category = err.category == M.C...",
          "executable": true
        },
        "765": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "720": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        use_assertions = \"boolean\",",
          "executable": true
        },
        "784": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "230": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      M.CATEGORY.RUNTIME,",
          "executable": true
        },
        "130": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Internal helper to get a traceback",
          "executable": false
        },
        "781": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.is_expected_test_error(err)",
          "executable": true
        },
        "681": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    string.format(\"[%s] %s: %s\", err.severity, err...",
          "executable": true
        },
        "775": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.is_suppressing_test_logs()",
          "executable": true
        },
        "774": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean Whether test logs are being sup...",
          "executable": false
        },
        "128": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  TEST_EXPECTED = \"TEST_EXPECTED\", -- Errors that ...",
          "executable": true
        },
        "359": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else -- debug",
          "executable": true
        },
        "90": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "538": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(parts, \"(at \" .. err.source_file ...",
          "executable": true
        },
        "768": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Check if the error handler is in test mode",
          "executable": false
        },
        "557": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param context? table Additional context for th...",
          "executable": false
        },
        "657": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "357": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif log_level == \"info\" then",
          "executable": true
        },
        "457": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log_error(err)",
          "executable": true
        },
        "157": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Format an error object as a string",
          "executable": false
        },
        "257": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- REMOVED: Assert functions were moved to firmo.a...",
          "executable": false
        },
        "767": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "758": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    central_config.set(\"error_handler.in_test_run\"...",
          "executable": true
        },
        "286": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add traceback in verbose mode",
          "executable": false
        },
        "386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Configure from central_config if available",
          "executable": false
        },
        "766": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return config.in_test_run",
          "executable": true
        },
        "186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Add function to module",
          "executable": false
        },
        "686": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "786": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Expected test errors are VALIDATION errors or...",
          "executable": false
        },
        "486": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not success then",
          "executable": false
        },
        "586": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Create a test expected error object (for use i...",
          "executable": false
        },
        "764": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- This can cause circular dependencies and type...",
          "executable": false
        },
        "453": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.assert(condition, message, category, co...",
          "executable": true
        },
        "549": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param context? table Additional context for th...",
          "executable": false
        },
        "593": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "759": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "757": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if ok and central_config then",
          "executable": true
        },
        "756": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local ok, central_config = pcall(require, \"lib.c...",
          "executable": true
        },
        "755": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Update central_config if available",
          "executable": false
        },
        "754": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "753": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  config.in_test_run = enabled and true or false",
          "executable": true
        },
        "752": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.set_test_mode(enabled)",
          "executable": true
        },
        "751": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean The current test mode state",
          "executable": false
        },
        "749": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Set whether the error handler is in test mode",
          "executable": false
        },
        "748": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "747": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "746": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "623": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   \"config.json\",",
          "executable": false
        },
        "723": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        log_all_errors = \"boolean\",",
          "executable": true
        },
        "823": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    central_config.set(\"error_handler.current_test...",
          "executable": true
        },
        "148": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "741": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Get the centralized configuration",
          "executable": false
        },
        "184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return table.concat(parts, \" \")",
          "executable": true
        },
        "738": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      suppress_test_assertions = config.suppress_t...",
          "executable": true
        },
        "737": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      in_test_run = config.in_test_run,",
          "executable": true
        },
        "736": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      capture_backtraces = config.capture_backtrac...",
          "executable": true
        },
        "734": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log_all_errors = config.log_all_errors,",
          "executable": true
        },
        "733": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      trace_errors = config.trace_errors,",
          "executable": true
        },
        "123": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  RUNTIME = \"RUNTIME\", -- Runtime errors",
          "executable": true
        },
        "223": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "323": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "423": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "523": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "275": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Fallback to print if logging isn't availabl...",
          "executable": false
        },
        "375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return nil, err",
          "executable": true
        },
        "731": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      use_assertions = config.use_assertions,",
          "executable": true
        },
        "134": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "234": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "334": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return",
          "executable": true
        },
        "475": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param ... any Arguments to pass to the functi...",
          "executable": false
        },
        "534": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   )",
          "executable": false
        },
        "398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        capture_backtraces = \"boolean\",",
          "executable": true
        },
        "298": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if we should suppress logging in test e...",
          "executable": false
        },
        "198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    error_to_throw = {}",
          "executable": true
        },
        "659": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "798": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "698": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "598": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "498": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- end, 5, 10)",
          "executable": false
        },
        "337": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "437": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param severity? string The error severity (def...",
          "executable": false
        },
        "537": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return create_error(message, M.CATEGORY.VALIDATI...",
          "executable": true
        },
        "637": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add file path to context",
          "executable": false
        },
        "402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    }, {",
          "executable": true
        },
        "302": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "137": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "502": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local success = table.remove(result, 1)",
          "executable": true
        },
        "725": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        capture_backtraces = \"boolean\",",
          "executable": true
        },
        "724": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        exit_on_fatal = \"boolean\",",
          "executable": true
        },
        "133": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil",
          "executable": true
        },
        "237": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "333": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- If debug logs aren't enabled, skip loggin...",
          "executable": false
        },
        "233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    )",
          "executable": true
        },
        "533": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     {parameter_name = \"filename\", provided_typ...",
          "executable": false
        },
        "433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "285": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "721": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        verbose = \"boolean\",",
          "executable": true
        },
        "785": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "685": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(parts, string.format(\" (at %s:%d)...",
          "executable": true
        },
        "585": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "485": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "715": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if ok and central_config then",
          "executable": true
        },
        "712": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.configure_from_config()",
          "executable": true
        },
        "202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "102": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  suppress_test_assertions = true, -- Whether to s...",
          "executable": true
        },
        "241": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Fallback for other types",
          "executable": false
        },
        "341": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log_level = \"error\" -- Fatal errors are always...",
          "executable": true
        },
        "441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.throw(message, category, severity, cont...",
          "executable": true
        },
        "541": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param context? table Additional context for th...",
          "executable": false
        },
        "187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M.format_error = format_error",
          "executable": true
        },
        "812": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      expect_error = metadata.expect_error or fals...",
          "executable": true
        },
        "387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local ok, central_config = pcall(require, \"lib.c...",
          "executable": true
        },
        "287": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config.verbose and err.traceback then",
          "executable": true
        },
        "312": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if err.category == M.CATEGORY.VALIDATION or ...",
          "executable": true
        },
        "487": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Handle error (result contains the error o...",
          "executable": false
        },
        "512": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Create an error object",
          "executable": false
        },
        "612": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- )",
          "executable": false
        },
        "636": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "536": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.validation_error(message, context)",
          "executable": true
        },
        "436": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param category? string The error category (def...",
          "executable": false
        },
        "336": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Otherwise, continue with debug-level loggin...",
          "executable": false
        },
        "236": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    M.log_error(error_to_throw)",
          "executable": true
        },
        "136": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return debug.traceback(\"\", level)",
          "executable": true
        },
        "404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      use_assertions = config.use_assertions,",
          "executable": true
        },
        "706": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return table.concat(parts, \"\")",
          "executable": true
        },
        "355": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif log_level == \"warn\" then",
          "executable": true
        },
        "455": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local severity = M.SEVERITY.ERROR",
          "executable": true
        },
        "555": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Create a timeout error object",
          "executable": false
        },
        "655": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(err) == \"table\" and err.message then",
          "executable": true
        },
        "454": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not condition then",
          "executable": true
        },
        "554": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "254": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    error(err_str, 2)",
          "executable": true
        },
        "255": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "438": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param context? table Additional context for th...",
          "executable": false
        },
        "338": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "151": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if info then",
          "executable": true
        },
        "212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if context and type(context) == \"table\" then",
          "executable": true
        },
        "351": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if err.severity == M.SEVERITY.FATAL then",
          "executable": true
        },
        "251": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    M.log_error(error_to_throw)",
          "executable": true
        },
        "238": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Throw the error",
          "executable": false
        },
        "451": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param cause? table|string The cause of the err...",
          "executable": false
        },
        "297": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        exit_on_fatal = \"boolean\",",
          "executable": true
        },
        "705": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Make a shallow copy of the original error k...",
          "executable": false
        },
        "697": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      table.insert(parts, \"\\nCaused by: \" .. err.c...",
          "executable": true
        },
        "797": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      expect_error = true",
          "executable": true
        },
        "497": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   return a + b",
          "executable": false
        },
        "597": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This is the preferred way to perform any file ...",
          "executable": false
        },
        "546": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "646": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Check if a value is an error object",
          "executable": false
        },
        "346": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "446": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Assert a condition or throw an error",
          "executable": false
        },
        "146": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    context = context or {},",
          "executable": true
        },
        "246": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      M.SEVERITY.ERROR,",
          "executable": true
        },
        "700": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "699": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      table.insert(parts, \"\\nCaused by: \" .. tostr...",
          "executable": true
        },
        "465": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "365": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "124": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  TIMEOUT = \"TIMEOUT\", -- Timeout errors",
          "executable": true
        },
        "565": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return table The configuration error object",
          "executable": false
        },
        "324": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Don't skip all logging - only downgrade ERR...",
          "executable": false
        },
        "224": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Then throw it",
          "executable": false
        },
        "265": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "424": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Create an error object",
          "executable": false
        },
        "348": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "448": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param message string The error message if cond...",
          "executable": false
        },
        "548": {
          "covered": false,
          "executed": true,
          "execution_count": 12,
          "line_type": "comment",
          "content": "---@param message string The error message",
          "executable": false
        },
        "648": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean Whether the value is an error o...",
          "executable": false
        },
        "421": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "521": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Validation errors are automatically recognized...",
          "executable": false
        },
        "221": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Log the enhanced error",
          "executable": false
        },
        "248": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    )",
          "executable": true
        },
        "696": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if type(err.cause) == \"table\" and err.cause.me...",
          "executable": true
        },
        "377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Initialize the error handler with configuratio...",
          "executable": false
        },
        "693": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "96": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  verbose = false, -- Verbose error messages",
          "executable": true
        },
        "563": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param message string The error message",
          "executable": false
        },
        "663": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local original_create_error = create_error",
          "executable": true
        },
        "763": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Don't try to configure logging directly - use...",
          "executable": false
        },
        "689": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    table.insert(parts, \"\\nContext:\")",
          "executable": true
        },
        "163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return tostring(err)",
          "executable": true
        },
        "263": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not config.log_all_errors then",
          "executable": true
        },
        "363": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if err.severity == M.SEVERITY.FATAL and config.e...",
          "executable": true
        },
        "463": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "687": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Add context if available and not empty",
          "executable": false
        },
        "551": {
          "covered": false,
          "executed": true,
          "execution_count": 12,
          "line_type": "comment",
          "content": "---@return table The parse error object",
          "executable": false
        },
        "101": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  in_test_run = false, -- Are we currently running...",
          "executable": true
        },
        "167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(parts, \"\\nContext: \")",
          "executable": true
        },
        "274": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not logging then",
          "executable": true
        },
        "374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Return the error as an object",
          "executable": false
        },
        "474": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param func function The function to execute s...",
          "executable": false
        },
        "579": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param category? string The error category (def...",
          "executable": false
        },
        "479": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "779": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param err table The error object to check",
          "executable": false
        },
        "679": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "131": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_traceback(level)",
          "executable": true
        },
        "675": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return err",
          "executable": true
        },
        "674": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(err) == \"string\" then",
          "executable": true
        },
        "665": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local err = original_create_error(message, categ...",
          "executable": true
        },
        "531": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return nil, error_handler.validation_error(",
          "executable": false
        },
        "431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.create(message, category, severity, con...",
          "executable": true
        },
        "331": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local debug_enabled = logger.is_debug_enabled ...",
          "executable": true
        },
        "231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      M.SEVERITY.ERROR,",
          "executable": true
        },
        "152": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    err.source_file = info.short_src",
          "executable": true
        },
        "529": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Basic validation error",
          "executable": false
        },
        "54": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    _logging = success and logging or nil",
          "executable": true
        },
        "667": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "673": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not M.is_error(err) then",
          "executable": true
        },
        "573": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table The runtime error object",
          "executable": false
        },
        "664": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "create_error = function(message, category, severit...",
          "executable": true
        },
        "773": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Check if we're suppressing all logging in test...",
          "executable": false
        },
        "273": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local logging = get_logging()",
          "executable": true
        },
        "173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.insert(parts, err.message or \"Unknown erro...",
          "executable": true
        },
        "473": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log_error(err)",
          "executable": true
        },
        "830": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.get_current_test_metadata()",
          "executable": true
        },
        "730": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Default values (matching our local config...",
          "executable": false
        },
        "630": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "530": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if type(filename) ~= \"string\" then",
          "executable": false
        },
        "249": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "349": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "654": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  __tostring = function(err)",
          "executable": true
        },
        "149": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add file and line information if available",
          "executable": false
        },
        "544": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.io_error(message, context, cause)",
          "executable": true
        },
        "444": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error(err.message, 2) -- Level 2 to point to the...",
          "executable": true
        },
        "449": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param category? string The error category (def...",
          "executable": false
        },
        "244": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      err_str,",
          "executable": true
        },
        "181": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      table.insert(parts, \" \" .. k .. \": \" .. tost...",
          "executable": true
        },
        "281": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    category = err.category,",
          "executable": true
        },
        "381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options then",
          "executable": true
        },
        "481": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Basic usage:",
          "executable": false
        },
        "653": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local mt = {",
          "executable": true
        },
        "652": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Add a metatable to error objects for better str...",
          "executable": false
        },
        "651": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "649": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.is_error(value)",
          "executable": true
        },
        "843": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Clear the collection of expected errors",
          "executable": false
        },
        "641": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local error_obj = M.io_error((err or \"I/O operat...",
          "executable": true
        },
        "643": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log_error(error_obj)",
          "executable": true
        },
        "743": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if error_handler_config then",
          "executable": true
        },
        "638": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  context = context or {}",
          "executable": true
        },
        "634": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- operation returned nil, nil (no error, just...",
          "executable": false
        },
        "633": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Either operation succeeded (result is not n...",
          "executable": false
        },
        "631": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local result, err = operation()",
          "executable": true
        },
        "629": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        },
        "143": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    severity = severity or M.SEVERITY.ERROR,",
          "executable": true
        },
        "625": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   function(content) return json.decode(content...",
          "executable": false
        },
        "624": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   {operation = \"parse_config\"},",
          "executable": false
        },
        "443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log_error(err)",
          "executable": true
        },
        "543": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table The I/O error object",
          "executable": false
        },
        "243": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    error_to_throw = create_error(",
          "executable": true
        },
        "343": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log_level = suppress_logging and \"debug\" or \"e...",
          "executable": true
        },
        "394": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        verbose = \"boolean\",",
          "executable": true
        },
        "494": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "159": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(err) == \"string\" then",
          "executable": true
        },
        "500": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.try(func, ...)",
          "executable": true
        },
        "691": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      table.insert(parts, string.format(\"  %s: %s\"...",
          "executable": true
        },
        "591": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.test_expected_error(message, context, c...",
          "executable": true
        },
        "559": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.timeout_error(message, context)",
          "executable": true
        },
        "459": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      assert(false, err.message)",
          "executable": true
        },
        "291": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if err.cause then",
          "executable": true
        },
        "191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return nil Never returns, always throws an err...",
          "executable": false
        },
        "491": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Use the result",
          "executable": false
        },
        "391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Schema definition",
          "executable": false
        },
        "621": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local data, err = error_handler.safe_io_operat...",
          "executable": false
        },
        "553": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return create_error(message, M.CATEGORY.PARSE, M...",
          "executable": true
        },
        "615": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Handle error",
          "executable": false
        },
        "174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if err.source_file and err.source_line then",
          "executable": true
        },
        "462": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "362": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Handle fatal errors",
          "executable": false
        },
        "262": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Skip all error logging if config says not to ...",
          "executable": false
        },
        "162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(err) ~= \"table\" then",
          "executable": true
        },
        "606": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "605": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "602": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param transform_result? fun(result:any):any O...",
          "executable": false
        },
        "600": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param file_path string The file path being op...",
          "executable": false
        },
        "153": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    err.source_line = info.currentline",
          "executable": true
        },
        "599": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param operation function The I/O operation fu...",
          "executable": false
        },
        "596": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- adding the file path to error context and crea...",
          "executable": false
        },
        "379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table The error handler module (for cha...",
          "executable": false
        },
        "200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_to_throw[k] = v",
          "executable": true
        },
        "300": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local suppress_logging = false",
          "executable": true
        },
        "353": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif log_level == \"error\" then",
          "executable": true
        },
        "253": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Throw it",
          "executable": false
        },
        "264": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return",
          "executable": true
        },
        "164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "464": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return condition",
          "executable": true
        },
        "364": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    os.exit(1)",
          "executable": true
        },
        "761": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "306": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check if this is a test that expects errors",
          "executable": false
        },
        "561": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "661": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "361": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "461": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(err.message, 2) -- Level 2 to point to...",
          "executable": true
        },
        "161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "261": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function log_error(err)",
          "executable": true
        },
        "587": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param message string The error message",
          "executable": false
        },
        "762": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "662": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Update the create_error function to set metatab...",
          "executable": false
        },
        "562": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Create a configuration error object",
          "executable": false
        },
        "372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Log the error",
          "executable": false
        },
        "472": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- clean try/catch pattern with standardized erro...",
          "executable": false
        },
        "172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "272": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "267": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config.in_test_run and config.suppress_all_lo...",
          "executable": true
        },
        "581": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param cause? table|string The cause of the err...",
          "executable": false
        },
        "575": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return create_error(message, M.CATEGORY.RUNTIME,...",
          "executable": true
        },
        "574": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.runtime_error(message, context, cause)",
          "executable": true
        },
        "144": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    timestamp = os.time(),",
          "executable": true
        },
        "524": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param message string The human-readable error...",
          "executable": false
        },
        "567": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return create_error(message, M.CATEGORY.CONFIGUR...",
          "executable": true
        },
        "564": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param context? table Additional context for th...",
          "executable": false
        },
        "520": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- invalid parameters, missing required values, o...",
          "executable": false
        },
        "620": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- With result transformation",
          "executable": false
        },
        "684": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if err.source_file and err.source_line then",
          "executable": true
        },
        "584": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return create_error(message, category or M.CATEG...",
          "executable": true
        },
        "210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "110": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Do NOT set test run mode here - it will be set ...",
          "executable": false
        },
        "410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      in_test_run = config.in_test_run,",
          "executable": true
        },
        "310": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif config.suppress_test_assertions then",
          "executable": true
        },
        "220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "771": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return config.in_test_run",
          "executable": true
        },
        "671": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return string The formatted error string",
          "executable": false
        },
        "571": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param context? table Additional context for th...",
          "executable": false
        },
        "471": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- primary error handling pattern throughout the ...",
          "executable": false
        },
        "371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function handle_error(err)",
          "executable": true
        },
        "271": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return",
          "executable": true
        },
        "171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(parts, err.category .. \":\")",
          "executable": true
        },
        "772": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "515": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, err",
          "executable": true
        },
        "572": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param cause? table|string The cause of the err...",
          "executable": false
        },
        "672": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.format_error(err, include_traceback)",
          "executable": true
        },
        "282": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    context = err.context,",
          "executable": true
        },
        "182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "482": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local success, result, err = error_handler.try...",
          "executable": false
        },
        "382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for k, v in pairs(options) do",
          "executable": true
        },
        "100": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  capture_backtraces = true, -- Capture stack trac...",
          "executable": true
        },
        "169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.insert(parts, \"[\" .. (err.severity or \"ERR...",
          "executable": true
        },
        "206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for k, v in pairs(err.context) do",
          "executable": true
        },
        "412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not err.category and not err.message then",
          "executable": true
        },
        "121": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  IO = \"IO\", -- File I/O errors",
          "executable": true
        },
        "770": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.is_test_mode()",
          "executable": true
        },
        "670": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param include_traceback? boolean Whether to in...",
          "executable": false
        },
        "794": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Expected test error detected via...",
          "executable": true
        },
        "18": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--[[",
          "executable": false
        },
        "594": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Safely execute an I/O operation with proper er...",
          "executable": false
        },
        "694": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Add cause if available",
          "executable": false
        },
        "120": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  VALIDATION = \"VALIDATION\", -- Input validation e...",
          "executable": true
        },
        "384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Register our module with default configurat...",
          "executable": false
        },
        "489": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return nil, result",
          "executable": false
        },
        "189": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param err table|string The error object or str...",
          "executable": false
        },
        "289": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "344": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif err.severity == M.SEVERITY.WARNING then",
          "executable": true
        },
        "354": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.error(err.message, log_params)",
          "executable": true
        },
        "141": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    message = message or \"Unknown error\",",
          "executable": true
        },
        "112": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M.SEVERITY = {",
          "executable": true
        },
        "155": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return err",
          "executable": true
        },
        "154": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "682": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "582": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table The fatal error object",
          "executable": false
        },
        "789": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "782": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not M.is_error(err) then",
          "executable": true
        },
        "192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.rethrow(err, context)",
          "executable": true
        },
        "292": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(err.cause) == \"table\" and err.cause.me...",
          "executable": true
        },
        "392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      field_types = {",
          "executable": true
        },
        "492": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return result",
          "executable": false
        },
        "783": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(err.context) == \"table\" then",
          "executable": true
        },
        "583": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.fatal_error(message, category, context,...",
          "executable": true
        },
        "683": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add source location if available",
          "executable": false
        },
        "383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      config[k] = v",
          "executable": true
        },
        "483": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return potentially_failing_function()",
          "executable": false
        },
        "183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "283": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    source_file = err.source_file,",
          "executable": true
        },
        "740": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "840": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.get_expected_test_errors()",
          "executable": true
        },
        "540": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param message string The error message",
          "executable": false
        },
        "640": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Create an I/O error",
          "executable": false
        },
        "430": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table The error object",
          "executable": false
        },
        "330": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Additionally check if debug logs are explic...",
          "executable": false
        },
        "499": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- -- result will be 15 if successful",
          "executable": false
        },
        "399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        in_test_run = \"boolean\",",
          "executable": true
        },
        "299": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local log_level = \"error\"",
          "executable": true
        },
        "199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for k, v in pairs(err) do",
          "executable": true
        },
        "44": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @version 1.0.0",
          "executable": false
        },
        "34": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Error rethrowing with context preservation",
          "executable": false
        },
        "24": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "55": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "75": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    error = function(msg)",
          "executable": true
        },
        "85": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      print(\"[DEBUG] \" .. msg)",
          "executable": true
        },
        "592": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return create_error(message, M.CATEGORY.TEST_EXP...",
          "executable": true
        },
        "692": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "792": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- This is different from tests that lack the fl...",
          "executable": false
        },
        "799": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return true",
          "executable": true
        },
        "122": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  PARSE = \"PARSE\", -- Parsing errors",
          "executable": true
        },
        "326": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if err.severity == M.SEVERITY.ERROR or err.sev...",
          "executable": true
        },
        "294": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local error_to_throw",
          "executable": true
        },
        "522": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- can be suppressed in test environments that ex...",
          "executable": false
        },
        "422": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "322": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(_G._firmo_test_errors, err)",
          "executable": true
        },
        "222": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    M.log_error(error_to_throw)",
          "executable": true
        },
        "493": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        use_assertions = \"boolean\",",
          "executable": true
        },
        "293": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log_params.cause = err.cause.message",
          "executable": true
        },
        "193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Create a copy of the error to avoid modifying...",
          "executable": false
        },
        "610": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   \"config.json\",",
          "executable": false
        },
        "510": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false, err_message",
          "executable": true
        },
        "810": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.debug(\"Setting test metadata\", {",
          "executable": true
        },
        "710": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Configure the error handler from global config...",
          "executable": false
        },
        "340": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if err.severity == M.SEVERITY.FATAL then",
          "executable": true
        },
        "440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return nil Never returns, always throws an err...",
          "executable": false
        },
        "140": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local err = {",
          "executable": true
        },
        "240": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Now get configuration (will include our def...",
          "executable": false
        },
        "415": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local error_handler_config = central_config.ge...",
          "executable": true
        },
        "420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "138": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Internal helper to create an error object",
          "executable": false
        },
        "429": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param cause? table|string The cause of the err...",
          "executable": false
        },
        "822": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if ok and central_config then",
          "executable": true
        },
        "722": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        trace_errors = \"boolean\",",
          "executable": true
        },
        "622": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   function() return fs.read_file(\"config.json\"...",
          "executable": false
        },
        "467": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Compatibility function for table unpacking (wor...",
          "executable": false
        },
        "367": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Internal helper to handle an error",
          "executable": false
        },
        "484": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "115": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  WARNING = \"WARNING\", -- Warnings that need atten...",
          "executable": true
        }
      },
      "line_coverage_percent": 7,
      "covered_lines": 37,
      "executed_lines": 37,
      "executed_functions": 3,
      "covered_functions": 3,
      "name": "error_handler.lua",
      "function_coverage_percent": 100,
      "path": "./lib/tools/error_handler.lua"
    },
    "lib/samples/calculator.lua": {
      "execution_coverage_percent": 0,
      "functions": [],
      "total_lines": 23,
      "executable_lines": 21,
      "total_functions": 0,
      "lines": {
        "16": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function calculator.divide(a, b)",
          "executable": true
        },
        "15": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "18": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"Division by zero\")",
          "executable": true
        },
        "17": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if b == 0 then",
          "executable": true
        },
        "10": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        },
        "20": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = a / b",
          "executable": true
        },
        "19": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "11": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "12": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function calculator.multiply(a, b)",
          "executable": true
        },
        "13": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = a * b",
          "executable": true
        },
        "14": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        },
        "9": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = a - b",
          "executable": true
        },
        "5": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = a + b",
          "executable": true
        },
        "6": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        },
        "7": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "8": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function calculator.subtract(a, b)",
          "executable": true
        },
        "1": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Simple Calculator Module",
          "executable": false
        },
        "2": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Used for testing coverage functionality",
          "executable": false
        },
        "3": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local calculator = {}",
          "executable": true
        },
        "4": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function calculator.add(a, b)",
          "executable": true
        },
        "23": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "return calculator",
          "executable": true
        },
        "22": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "21": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        }
      },
      "line_coverage_percent": 0,
      "covered_lines": 0,
      "executed_lines": 0,
      "executed_functions": 0,
      "covered_functions": 0,
      "name": "calculator.lua",
      "function_coverage_percent": 0,
      "path": "lib/samples/calculator.lua"
    },
    "./lib/tools/logging.lua": {
      "execution_coverage_percent": 32,
      "functions": {
        "get_logger:1044-1159": {
          "covered": true,
          "executed": true,
          "start_line": 1044,
          "execution_count": 1,
          "name": "get_logger",
          "type": "closure",
          "end_line": 1159
        },
        "format_json:555-584": {
          "covered": true,
          "executed": true,
          "start_line": 555,
          "execution_count": 10,
          "name": "format_json",
          "type": "closure",
          "end_line": 584
        },
        "get_timestamp:226-228": {
          "covered": true,
          "executed": true,
          "start_line": 226,
          "execution_count": 10,
          "name": "get_timestamp",
          "type": "closure",
          "end_line": 228
        },
        "get_fs:88-93": {
          "covered": true,
          "executed": true,
          "start_line": 88,
          "execution_count": 10,
          "name": "get_fs",
          "type": "closure",
          "end_line": 93
        },
        "debug:1246-1248": {
          "covered": true,
          "executed": true,
          "start_line": 1246,
          "execution_count": 6,
          "name": "debug",
          "type": "closure",
          "end_line": 1248
        },
        "debug:1083-1085": {
          "covered": true,
          "executed": true,
          "start_line": 1083,
          "execution_count": 1,
          "name": "debug",
          "type": "closure",
          "end_line": 1085
        },
        "log:763-896": {
          "covered": true,
          "executed": true,
          "start_line": 763,
          "execution_count": 30,
          "name": "log",
          "type": "closure",
          "end_line": 896
        },
        "is_enabled:234-316": {
          "covered": true,
          "executed": true,
          "start_line": 234,
          "execution_count": 30,
          "name": "is_enabled",
          "type": "closure",
          "end_line": 316
        },
        "info:1228-1230": {
          "covered": true,
          "executed": true,
          "start_line": 1228,
          "execution_count": 3,
          "name": "info",
          "type": "closure",
          "end_line": 1230
        },
        "trace:1091-1093": {
          "covered": true,
          "executed": true,
          "start_line": 1091,
          "execution_count": 20,
          "name": "trace",
          "type": "closure",
          "end_line": 1093
        },
        "json_encode_value:463-541": {
          "covered": true,
          "executed": true,
          "start_line": 463,
          "execution_count": 31,
          "name": "json_encode_value",
          "type": "closure",
          "end_line": 541
        },
        "format_log:324-373": {
          "covered": true,
          "executed": true,
          "start_line": 324,
          "execution_count": 10,
          "name": "format_log",
          "type": "closure",
          "end_line": 373
        }
      },
      "total_lines": 1872,
      "executable_lines": 859,
      "total_functions": 12,
      "lines": {
        "1335": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    M.set_module_level(module_name, original_level...",
          "executable": true
        },
        "132": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_formatter_integration()",
          "executable": true
        },
        "1575": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Clear all module filters, allowing logs from a...",
          "executable": false
        },
        "432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Encode a Lua value as a JSON string",
          "executable": false
        },
        "532": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @return string The JSON string representation ...",
          "executable": false
        },
        "232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if module_name == blacklisted then",
          "executable": true
        },
        "332": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  table.insert(parts, message or \"\")",
          "executable": true
        },
        "660": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "760": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        params._expected_debug_override = true",
          "executable": true
        },
        "860": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local success, err = fs.append_file(json_log_p...",
          "executable": true
        },
        "960": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.module_blacklist ~= nil then",
          "executable": true
        },
        "1862": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1261": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Check before executing expensive log prepar...",
          "executable": false
        },
        "150": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "350": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "250": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if type(config.module_filter) == \"table\" the...",
          "executable": true
        },
        "550": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "450": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  :gsub('\\t', '\\\\t')",
          "executable": true
        },
        "832": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if size >= config.max_file_size then",
          "executable": true
        },
        "932": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "632": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local content = \"\"",
          "executable": true
        },
        "732": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param params? table Additional context parame...",
          "executable": false
        },
        "1406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Configure log level from command-line args",
          "executable": false
        },
        "142": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M.LEVELS = {",
          "executable": true
        },
        "201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [M.LEVELS.VERBOSE] = \"VERBOSE\", -- For backward ...",
          "executable": true
        },
        "342": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "        val_str = tostring(v)",
          "executable": true
        },
        "242": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "542": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    '\"module\":\"' .. (module_name or \"\"):gsub('\"', ...",
          "executable": true
        },
        "442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function json_encode_value(val)",
          "executable": true
        },
        "701": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return error_handler.current_test_expects_erro...",
          "executable": true
        },
        "801": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    table.insert(buffer.entries, { ",
          "executable": true
        },
        "901": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  options = options or {}",
          "executable": true
        },
        "301": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Format a log message for text output",
          "executable": false
        },
        "401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "501": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if count > max_items then",
          "executable": true
        },
        "601": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local old_file = log_path .. \".\" .. i",
          "executable": true
        },
        "1455": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if success and central_config then",
          "executable": true
        },
        "160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  max_file_size = 50 * 1024,     -- 50KB default s...",
          "executable": true
        },
        "260": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            local prefix = filter:gsub(\"%*$\", \"\")",
          "executable": true
        },
        "360": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- during directory creation by printing a warnin...",
          "executable": false
        },
        "460": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return '\"-Infinity\"'",
          "executable": true
        },
        "560": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "742": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local error_handler = get_error_handler()",
          "executable": true
        },
        "642": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "942": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.date_pattern ~= nil then",
          "executable": true
        },
        "842": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param level number The log level to check",
          "executable": false
        },
        "315": {
          "covered": false,
          "executed": true,
          "execution_count": 30,
          "line_type": "comment",
          "content": "  -- Add level with color if enabled",
          "executable": false
        },
        "211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_timestamp()",
          "executable": true
        },
        "111": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- for integration with external systems. It's lo...",
          "executable": false
        },
        "252": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "          -- Support exact matches",
          "executable": false
        },
        "352": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "452": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  :gsub('\\f', '\\\\f') .. '\"'",
          "executable": true
        },
        "552": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if params and type(params) == \"table\" then",
          "executable": true
        },
        "880": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "980": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "680": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not _error_handler then",
          "executable": true
        },
        "780": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if config.silent then",
          "executable": true
        },
        "411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local log_path = get_log_file_path()",
          "executable": true
        },
        "311": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if config.timestamps then",
          "executable": true
        },
        "611": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Flush buffered log messages to disk",
          "executable": false
        },
        "511": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1061": {
          "covered": true,
          "executed": true,
          "execution_count": 11,
          "line_type": "code",
          "content": "    log(M.LEVELS.TRACE, module_name, message, para...",
          "executable": true
        },
        "1021": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(M.LEVELS.FATAL, module_name, message, para...",
          "executable": true
        },
        "470": {
          "covered": true,
          "executed": true,
          "execution_count": 11,
          "line_type": "code",
          "content": "    for k, _ in pairs(val) do",
          "executable": true
        },
        "370": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return false",
          "executable": true
        },
        "270": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if module_name == config.module_filter the...",
          "executable": true
        },
        "652": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      json_content = json_content .. entry.json .....",
          "executable": true
        },
        "752": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "852": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "    if config.max_file_size and config.max_file_si...",
          "executable": true
        },
        "952": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.json_file = options.json_file",
          "executable": true
        },
        "1606": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Make sure module_blacklist is initialized",
          "executable": false
        },
        "325": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "      table.insert(parts, COLORS.GREEN .. module_n...",
          "executable": true
        },
        "225": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "525": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- or sent to external logging systems that consu...",
          "executable": false
        },
        "425": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      fs.move_file(old_file, new_file)",
          "executable": true
        },
        "129": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "229": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if module_name then",
          "executable": true
        },
        "329": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "429": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Move current log to .1",
          "executable": false
        },
        "750": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          timestamp = os.time()",
          "executable": true
        },
        "650": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local json_content = \"\"",
          "executable": true
        },
        "950": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "850": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1275": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for k, v in pairs(M.LEVELS) do",
          "executable": true
        },
        "125": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the formatter integration module for custo...",
          "executable": false
        },
        "180": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  CYAN = \"\\27[36m\",",
          "executable": true
        },
        "480": {
          "covered": false,
          "executed": true,
          "execution_count": 21,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "580": {
          "covered": true,
          "executed": true,
          "execution_count": 7,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "280": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1306": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "639": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not file_success then",
          "executable": true
        },
        "539": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local json_parts = {",
          "executable": true
        },
        "839": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if not success then",
          "executable": true
        },
        "739": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      message = \"[EXPECTED] \" .. message",
          "executable": true
        },
        "239": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if module_name:sub(1, #prefix) == prefix t...",
          "executable": true
        },
        "139": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return formatter_integration_module",
          "executable": true
        },
        "439": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "339": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if type(v) == \"table\" then",
          "executable": true
        },
        "1083": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @return boolean Whether logging is enabled f...",
          "executable": false
        },
        "1252": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- would actually be output based on current leve...",
          "executable": false
        },
        "490": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          break",
          "executable": true
        },
        "390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "690": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if the current running test is marked as expec...",
          "executable": false
        },
        "590": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local log_path = get_json_log_file_path()",
          "executable": true
        },
        "929": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1155": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "290": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if module_name and config.module_levels[module_n...",
          "executable": true
        },
        "190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [M.LEVELS.TRACE] = COLORS.MAGENTA,",
          "executable": true
        },
        "709": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "if not _G._firmo_debug_mode then",
          "executable": true
        },
        "809": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "    buffer.count = buffer.count + 1",
          "executable": true
        },
        "509": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "609": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return fs.move_file(log_path, log_path .. \".1\")",
          "executable": true
        },
        "309": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1017": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- @param message string The message to log",
          "executable": false
        },
        "109": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This helper function lazily loads the log expo...",
          "executable": false
        },
        "209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get current timestamp formatted for logs",
          "executable": false
        },
        "1183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param message string The message to log",
          "executable": false
        },
        "1754": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1263": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Only compute expensive diagnostic info if...",
          "executable": false
        },
        "1164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Warning messages indicate potential issues or ...",
          "executable": false
        },
        "1055": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "939": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.max_log_files = options.max_log_files",
          "executable": true
        },
        "819": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Direct file output (no buffering)",
          "executable": false
        },
        "719": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "619": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function flush_buffer()",
          "executable": true
        },
        "519": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "319": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config.silent then",
          "executable": true
        },
        "119": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if success then",
          "executable": true
        },
        "103": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      search_module = module",
          "executable": true
        },
        "203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Message buffer",
          "executable": false
        },
        "1755": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Export today's logs to CSV",
          "executable": false
        },
        "1034": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- @param params? table Additional context para...",
          "executable": false
        },
        "1052": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.debug = function(message, params)",
          "executable": true
        },
        "903": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Apply configuration options",
          "executable": false
        },
        "703": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "803": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      json = formatted_json,",
          "executable": true
        },
        "503": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          break",
          "executable": true
        },
        "603": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if fs.file_exists(old_file) then",
          "executable": true
        },
        "303": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param module_name? string The module name",
          "executable": false
        },
        "403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Current log: logfile.log",
          "executable": false
        },
        "1675": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- print(\"Current log level: \" .. config.global_l...",
          "executable": false
        },
        "890": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   level = \"DEBUG\",              -- Level as st...",
          "executable": false
        },
        "790": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Output to console ",
          "executable": false
        },
        "990": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This is the primary method for obtaining a log...",
          "executable": false
        },
        "213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "113": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1129": {
          "covered": false,
          "executed": true,
          "execution_count": 11,
          "line_type": "comment",
          "content": "--- Direct module-level logging functions",
          "executable": false
        },
        "1352": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_name string The name of the modu...",
          "executable": false
        },
        "913": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "813": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      flush_buffer()",
          "executable": true
        },
        "713": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if arg then",
          "executable": true
        },
        "613": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- output files. It's called automatically when t...",
          "executable": false
        },
        "513": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        },
        "413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "313": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "39": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_logger fun(name: string): logger_ins...",
          "executable": false
        },
        "29": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @license MIT",
          "executable": false
        },
        "19": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Source location tracking",
          "executable": false
        },
        "79": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- directories, and rotating log files. Lazy load...",
          "executable": false
        },
        "69": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_name fun(): string Get logger name",
          "executable": false
        },
        "59": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field debug fun(message: string, context?: tab...",
          "executable": false
        },
        "49": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field formats table<string, string> Built-in f...",
          "executable": false
        },
        "99": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_search()",
          "executable": true
        },
        "89": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1229": {
          "covered": false,
          "executed": true,
          "execution_count": 3,
          "line_type": "comment",
          "content": "--- The verbose level is an alias for TRACE level ...",
          "executable": false
        },
        "1490": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config_obj.logging.use_colors ~= nil then",
          "executable": true
        },
        "18": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Context inheritance and enrichment",
          "executable": false
        },
        "28": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @author Firmo Team",
          "executable": false
        },
        "1141": {
          "covered": false,
          "executed": true,
          "execution_count": 11,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "78": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- which is needed for all file operations like w...",
          "executable": false
        },
        "88": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return fs",
          "executable": true
        },
        "98": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table|nil The search module or nil if ...",
          "executable": false
        },
        "38": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field ERROR number Error log level (least verb...",
          "executable": false
        },
        "48": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_current_config fun(): table Get curr...",
          "executable": false
        },
        "58": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@class logger_instance",
          "executable": false
        },
        "68": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_level fun(): number Get log level fo...",
          "executable": false
        },
        "1590": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "888": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- -- Advanced configuration",
          "executable": false
        },
        "988": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "27": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @module logging",
          "executable": false
        },
        "17": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Integration with external logging systems",
          "executable": false
        },
        "1870": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return logger",
          "executable": true
        },
        "87": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "77": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This helper function implements lazy loading f...",
          "executable": false
        },
        "97": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "47": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_level fun(): number Get current log ...",
          "executable": false
        },
        "37": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field WARN number Warning log level",
          "executable": false
        },
        "67": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field set_level fun(level: number|string): log...",
          "executable": false
        },
        "57": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field flush fun(): boolean Flush pending log m...",
          "executable": false
        },
        "1156": {
          "covered": false,
          "executed": true,
          "execution_count": 11,
          "line_type": "comment",
          "content": "--- logging.error(\"Failed to open configuration fi...",
          "executable": false
        },
        "1702": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(M.LEVELS.DEBUG, module_name, message)",
          "executable": true
        },
        "178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  BLUE = \"\\27[34m\",",
          "executable": true
        },
        "378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- absolute paths and paths relative to the log d...",
          "executable": false
        },
        "278": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            match = true",
          "executable": true
        },
        "578": {
          "covered": false,
          "executed": true,
          "execution_count": 31,
          "line_type": "comment",
          "content": "  -- Otherwise, construct path within log director...",
          "executable": false
        },
        "478": {
          "covered": true,
          "executed": true,
          "execution_count": 21,
          "line_type": "code",
          "content": "    local result = is_array and \"[\" or \"{\"",
          "executable": true
        },
        "778": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "678": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local _error_handler",
          "executable": true
        },
        "16": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Log search and filtering capabilities",
          "executable": false
        },
        "26": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "1009": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Only execute this expensive debug code if...",
          "executable": false
        },
        "96": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "76": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the filesystem module using lazy loading",
          "executable": false
        },
        "86": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    fs = require(\"lib.tools.filesystem\")",
          "executable": true
        },
        "56": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field search_logs fun(pattern: string, options...",
          "executable": false
        },
        "66": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field is_error_enabled fun(): boolean Check if...",
          "executable": false
        },
        "36": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field INFO number Info log level",
          "executable": false
        },
        "46": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field is_enabled fun(): boolean Check if loggi...",
          "executable": false
        },
        "1390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   logging.set_level(logging.LEVELS.INFO)",
          "executable": false
        },
        "188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [M.LEVELS.INFO] = COLORS.BLUE,",
          "executable": true
        },
        "288": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return config.output_file",
          "executable": true
        },
        "488": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if count > max_items then",
          "executable": true
        },
        "588": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function rotate_json_log_files()",
          "executable": true
        },
        "688": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Check if the current test is designed to expec...",
          "executable": false
        },
        "788": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local formatted_json = format_json(level, module...",
          "executable": true
        },
        "25": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    and centralized control over verbosity.",
          "executable": false
        },
        "15": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - File logging with rotation",
          "executable": false
        },
        "1076": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @return boolean Whether the message was logg...",
          "executable": false
        },
        "1670": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table A copy of the current configurat...",
          "executable": false
        },
        "1630": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- First blacklist a module",
          "executable": false
        },
        "1593": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- any pattern in the blacklist will never log, r...",
          "executable": false
        },
        "1048": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- Log a debug level message through this logge...",
          "executable": false
        },
        "196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [M.LEVELS.ERROR] = \"ERROR\",",
          "executable": true
        },
        "95": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- and time ranges. It's loaded on-demand to avoi...",
          "executable": false
        },
        "396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- growing too large. When a log file exceeds the...",
          "executable": false
        },
        "296": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "65": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field is_warn_enabled fun(): boolean Check if ...",
          "executable": false
        },
        "496": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "796": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if os.time() - buffer.last_flush_time >= confi...",
          "executable": true
        },
        "696": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function current_test_expects_errors()",
          "executable": true
        },
        "996": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "896": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   },",
          "executable": false
        },
        "327": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      table.insert(parts, module_name)",
          "executable": true
        },
        "227": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "927": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.log_dir = options.log_dir",
          "executable": true
        },
        "827": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    ensure_log_dir()",
          "executable": true
        },
        "727": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "627": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Regular log file",
          "executable": false
        },
        "127": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- provides functionality for registering and usi...",
          "executable": false
        },
        "24": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    diagnostics throughout the framework, providin...",
          "executable": false
        },
        "405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Oldest logs are deleted when rotation count ...",
          "executable": false
        },
        "305": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param params? table Additional parameters to i...",
          "executable": false
        },
        "205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  entries = {},",
          "executable": true
        },
        "905": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.global_level = options.level",
          "executable": true
        },
        "805": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      module = module_name,",
          "executable": true
        },
        "705": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return false",
          "executable": true
        },
        "94": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- functionality for searching through log files ...",
          "executable": false
        },
        "1541": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "105": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "14": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Color-coded console output",
          "executable": false
        },
        "9": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    Features:",
          "executable": false
        },
        "1363": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Use method chaining to configure multiple m...",
          "executable": false
        },
        "1855": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local logger = M.get_logger(module_name)",
          "executable": true
        },
        "1402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param options table The options object with d...",
          "executable": false
        },
        "5": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    for multiple output formats, log levels, and c...",
          "executable": false
        },
        "6": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    integrates with the central configuration syst...",
          "executable": false
        },
        "7": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    and per-module logging configuration.",
          "executable": false
        },
        "8": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "1": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--[[",
          "executable": false
        },
        "2": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    Centralized Logging System for the Firmo Frame...",
          "executable": false
        },
        "3": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "4": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    This module provides a comprehensive, structur...",
          "executable": false
        },
        "1871": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1535": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1868": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  setmetatable(logger, mt)",
          "executable": true
        },
        "1867": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "33": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@class logging",
          "executable": false
        },
        "23": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    The logging system serves as a foundation for ...",
          "executable": false
        },
        "53": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field info fun(message: string, context?: tabl...",
          "executable": false
        },
        "43": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field reset fun(): logging Reset logging to de...",
          "executable": false
        },
        "73": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local M = {}",
          "executable": true
        },
        "63": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field is_debug_enabled fun(): boolean Check if...",
          "executable": false
        },
        "93": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- This helper function lazily loads the log sear...",
          "executable": false
        },
        "83": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table The filesystem module",
          "executable": false
        },
        "1595": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1866": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.flush()",
          "executable": true
        },
        "1403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return number The configured log level",
          "executable": false
        },
        "1326": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "1863": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add auto-flush on shutdown",
          "executable": false
        },
        "1861": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "13": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Configurable output formats and destinations",
          "executable": false
        },
        "1464": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "307": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local function format_log(level, module_name, mess...",
          "executable": true
        },
        "207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  last_flush_time = os.time(),",
          "executable": true
        },
        "507": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        result = result .. '\"' .. tostring(k):gsub...",
          "executable": true
        },
        "407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "707": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Set a global debug flag if the --debug argument...",
          "executable": false
        },
        "607": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "907": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "807": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      params = params",
          "executable": true
        },
        "1148": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Error messages indicate a serious problem that...",
          "executable": false
        },
        "1765": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- file:write(csv_content)",
          "executable": false
        },
        "1829": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "1857": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add flush method to this logger instance",
          "executable": false
        },
        "1161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(M.LEVELS.ERROR, nil, message, params)",
          "executable": true
        },
        "1854": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Create a logger with the specified module nam...",
          "executable": false
        },
        "107": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "634": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      content = content .. entry.text .. \"\\n\"",
          "executable": true
        },
        "42": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field set_level fun(level: number|string): log...",
          "executable": false
        },
        "52": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field debug fun(message: string, context?: tab...",
          "executable": false
        },
        "22": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "32": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "]]",
          "executable": false
        },
        "82": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "92": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "--- Get the search module for log searching functi...",
          "executable": false
        },
        "62": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field error fun(message: string, context?: tab...",
          "executable": false
        },
        "72": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field with_context fun(context: table): logger...",
          "executable": false
        },
        "1345": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return result",
          "executable": true
        },
        "1851": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Apply the configuration",
          "executable": false
        },
        "1850": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1849": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1848": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    buffered_config.output_file = options.output_f...",
          "executable": true
        },
        "12": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Structured logging with context objects",
          "executable": false
        },
        "1847": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.output_file then",
          "executable": true
        },
        "1846": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- If output_file specified, use it",
          "executable": false
        },
        "417": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local size = fs.get_file_size(log_path)",
          "executable": true
        },
        "517": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Function, userdata, thread, etc. can't be d...",
          "executable": false
        },
        "217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean Whether logging is enabled for ...",
          "executable": false
        },
        "317": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config.use_colors then",
          "executable": true
        },
        "817": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "917": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "617": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "717": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        break",
          "executable": true
        },
        "925": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1844": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "1843": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    buffer_flush_interval = flush_interval",
          "executable": true
        },
        "1792": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   )",
          "executable": false
        },
        "1841": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local buffered_config = {",
          "executable": true
        },
        "117": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not export_module then",
          "executable": true
        },
        "1518": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        config.module_filter = config_obj.logging....",
          "executable": true
        },
        "555": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if key ~= \"timestamp\" and key ~= \"level\" and...",
          "executable": true
        },
        "667": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "567": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "467": {
          "covered": false,
          "executed": true,
          "execution_count": 11,
          "line_type": "comment",
          "content": "    -- Determine if table is an array or object",
          "executable": false
        },
        "367": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local success, err = fs.ensure_directory_exist...",
          "executable": true
        },
        "267": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- Handle string filter (single module or pa...",
          "executable": false
        },
        "167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  buffer_size = 0,               -- Buffer size (0...",
          "executable": true
        },
        "1838": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local flush_interval = options.flush_interval or...",
          "executable": true
        },
        "1395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1837": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local buffer_size = options.buffer_size or 100",
          "executable": true
        },
        "1690": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Log a debug message (compatibility with existi...",
          "executable": false
        },
        "1835": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(M.LEVELS.INFO, nil, message, params)",
          "executable": true
        },
        "1834": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  options = options or {}",
          "executable": true
        },
        "967": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Reset buffer when size changes",
          "executable": false
        },
        "867": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "767": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "535": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local timestamp = os.date(\"%Y-%m-%dT%H:%M:%S\")",
          "executable": true
        },
        "635": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "335": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "  if params and type(params) == \"table\" and next(p...",
          "executable": true
        },
        "435": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It handles special cases like NaN and Infinity...",
          "executable": false
        },
        "135": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if success then",
          "executable": true
        },
        "235": {
          "covered": false,
          "executed": true,
          "execution_count": 30,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1814": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return logger_instance The buffered logger in...",
          "executable": false
        },
        "1320": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for k, v in pairs(M.LEVELS) do",
          "executable": true
        },
        "1833": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.create_buffered_logger(module_name, opt...",
          "executable": true
        },
        "1160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.error(message, params)",
          "executable": true
        },
        "1742": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    error(\"Log search module not available\")",
          "executable": true
        },
        "935": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.max_file_size = options.max_file_size",
          "executable": true
        },
        "1269": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if logging.would_log(logging.LEVELS.TRACE, \"Ne...",
          "executable": false
        },
        "735": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- For expected errors in tests, either filter o...",
          "executable": false
        },
        "835": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1497": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1831": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Force an immediate flush when needed",
          "executable": false
        },
        "1766": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- file:close()",
          "executable": false
        },
        "1830": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1827": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   endpoint = \"/api/data\",",
          "executable": false
        },
        "1289": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- while executing a function, then automatically...",
          "executable": false
        },
        "1101": {
          "covered": false,
          "executed": true,
          "execution_count": 11,
          "line_type": "comment",
          "content": "  --- @return boolean Whether debug logging is ena...",
          "executable": false
        },
        "1828": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   status = 200",
          "executable": false
        },
        "1826": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   duration_ms = 42,",
          "executable": false
        },
        "1695": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_name? string The optional module...",
          "executable": false
        },
        "1293": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_name string The module name to c...",
          "executable": false
        },
        "1825": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- metrics_logger.info(\"Request processed\", {",
          "executable": false
        },
        "1307": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- The module's original log level is automati...",
          "executable": false
        },
        "1278": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Otherwise, construct path within log director...",
          "executable": false
        },
        "1822": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "645": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- JSON log file",
          "executable": false
        },
        "545": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "445": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Escape special characters in strings",
          "executable": false
        },
        "345": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "245": {
          "covered": false,
          "executed": true,
          "execution_count": 30,
          "line_type": "comment",
          "content": "    -- If a module filter is specified, only allow...",
          "executable": false
        },
        "145": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  WARN = 2,",
          "executable": true
        },
        "1714": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.log_verbose(\"Processing item 42\", \"Dat...",
          "executable": false
        },
        "1298": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1821": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   output_file = \"metrics.log\"  -- Write to spe...",
          "executable": false
        },
        "1060": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.trace = function(message, params)",
          "executable": true
        },
        "1820": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   flush_interval = 10,      -- Flush every 10 ...",
          "executable": false
        },
        "1819": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   buffer_size = 1000,       -- Buffer up to 10...",
          "executable": false
        },
        "1818": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local metrics_logger = logging.create_buffered...",
          "executable": false
        },
        "945": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "845": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if config.json_file then",
          "executable": true
        },
        "745": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        table.insert(_G._firmo_test_expected_error...",
          "executable": true
        },
        "447": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  :gsub('\"', '\\\\\"')",
          "executable": true
        },
        "347": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local param_str = table.concat(param_parts, \",...",
          "executable": true
        },
        "647": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local json_log_path = get_json_log_file_path()",
          "executable": true
        },
        "547": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for key, value in pairs(config.standard_metadata...",
          "executable": true
        },
        "1793": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "1195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Log a debug level message globally without mod...",
          "executable": false
        },
        "247": {
          "covered": true,
          "executed": true,
          "execution_count": 22,
          "line_type": "code",
          "content": "      local match = false",
          "executable": true
        },
        "147": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  DEBUG = 4,",
          "executable": true
        },
        "1180": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Info messages provide normal operational infor...",
          "executable": false
        },
        "1817": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Create a buffered logger for high-volume me...",
          "executable": false
        },
        "473": {
          "covered": true,
          "executed": true,
          "execution_count": 11,
          "line_type": "code",
          "content": "        is_array = false",
          "executable": true
        },
        "1800": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local formatter_integration = get_formatter_inte...",
          "executable": true
        },
        "847": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "747": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          module = module_name,",
          "executable": true
        },
        "1813": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param options? {buffer_size?: number, flush_i...",
          "executable": false
        },
        "947": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.format ~= nil then",
          "executable": true
        },
        "1515": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1260": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1639": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        table.remove(config.module_blacklist, i)",
          "executable": true
        },
        "354": {
          "covered": false,
          "executed": true,
          "execution_count": 38,
          "line_type": "comment",
          "content": "  -- Join all parts with separators",
          "executable": false
        },
        "1398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- based on standard debug/verbose flags commonly...",
          "executable": false
        },
        "1810": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- operations for each log message would be too e...",
          "executable": false
        },
        "1723": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table The log search module interface",
          "executable": false
        },
        "1758": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   start_time = os.time() - 86400,  -- Last 24 ...",
          "executable": false
        },
        "1809": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This is useful for high-throughput logging sce...",
          "executable": false
        },
        "1617": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1120": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.get_level = function()",
          "executable": true
        },
        "1384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.set_level(logging.LEVELS.DEBUG)",
          "executable": false
        },
        "1806": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Create a buffered logger for high-volume loggi...",
          "executable": false
        },
        "1627": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table The logging module for chaining",
          "executable": false
        },
        "1542": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_pattern string The module patter...",
          "executable": false
        },
        "459": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif val == -1/0 then",
          "executable": true
        },
        "557": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "657": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not json_success then",
          "executable": true
        },
        "357": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Ensure the log directory exists before writing...",
          "executable": false
        },
        "457": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif val == 1/0 then",
          "executable": true
        },
        "157": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  output_file = nil,             -- Log to file (n...",
          "executable": true
        },
        "257": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "1495": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config_obj.logging.max_file_size then",
          "executable": true
        },
        "1489": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1804": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return formatter_integration",
          "executable": true
        },
        "1722": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1803": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1802": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    error(\"Formatter integration module not availa...",
          "executable": true
        },
        "957": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.module_filter = options.module_filter",
          "executable": true
        },
        "1801": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not formatter_integration then",
          "executable": true
        },
        "757": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Force immediate logging - we do this by...",
          "executable": false
        },
        "857": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1815": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1339": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "102": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if success then",
          "executable": true
        },
        "1386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- In production, show only errors",
          "executable": false
        },
        "1798": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "1498": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1797": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   format = \"compact\"",
          "executable": false
        },
        "1823": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1795": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Configure logging to use the custom formatt...",
          "executable": false
        },
        "1794": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1842": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    buffer_size = buffer_size,",
          "executable": true
        },
        "1020": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.fatal = function(message, params)",
          "executable": true
        },
        "1527": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        ensure_log_dir()",
          "executable": true
        },
        "1003": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logger.info(\"Query executed successfully\")",
          "executable": false
        },
        "1791": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     entry.message",
          "executable": false
        },
        "1790": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     entry.module or \"-\",",
          "executable": false
        },
        "623": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "723": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This internal function implements the actual l...",
          "executable": false
        },
        "823": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "  if config.output_file then",
          "executable": true
        },
        "923": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.output_file = options.output_file",
          "executable": true
        },
        "1678": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Check module-specific settings",
          "executable": false
        },
        "1789": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     entry.level:sub(1,1),     -- First letter ...",
          "executable": false
        },
        "1788": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     entry.timestamp:sub(12),  -- Just the time...",
          "executable": false
        },
        "404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Previous logs: logfile.log.1, logfile.log.2,...",
          "executable": false
        },
        "1786": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return string.format(",
          "executable": false
        },
        "1646": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Clear all module blacklist entries, allowing a...",
          "executable": false
        },
        "64": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field is_info_enabled fun(): boolean Check if ...",
          "executable": false
        },
        "123": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return export_module",
          "executable": true
        },
        "223": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Ensure level is a number",
          "executable": false
        },
        "323": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if module_name then",
          "executable": true
        },
        "423": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local new_file = log_path .. \".\" .. (i + 1)",
          "executable": true
        },
        "523": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- standard fields (timestamp, level, module, mes...",
          "executable": false
        },
        "275": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if config.module_filter:match(\"%*$\") then",
          "executable": true
        },
        "375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1315": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local original_level = config.module_levels[modu...",
          "executable": true
        },
        "175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  BRIGHT_RED = \"\\27[91m\",  ",
          "executable": true
        },
        "675": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "775": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if params and params._expected_debug_override th...",
          "executable": true
        },
        "475": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "575": {
          "covered": true,
          "executed": true,
          "execution_count": 38,
          "line_type": "code",
          "content": "    return config.json_file",
          "executable": true
        },
        "1783": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Register a custom formatter",
          "executable": false
        },
        "1782": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "875": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---                  include_level?: boolean, incl...",
          "executable": false
        },
        "975": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1342": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    error(result)",
          "executable": true
        },
        "1543": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table The logging module for chaining",
          "executable": false
        },
        "505": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "1427": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- discovers and applies module-specific settings...",
          "executable": false
        },
        "802": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      text = formatted_text, ",
          "executable": true
        },
        "702": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "933": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "833": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        rotate_log_files()",
          "executable": true
        },
        "402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- The rotation pattern is:",
          "executable": false
        },
        "302": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param level number The log level",
          "executable": false
        },
        "137": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "502": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          result = result .. (first and \"\" or \",\")...",
          "executable": true
        },
        "1484": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1280": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "133": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not formatter_integration_module then",
          "executable": true
        },
        "1130": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- These functions provide a convenient way to lo...",
          "executable": false
        },
        "737": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if current_test_expects_errors() then",
          "executable": true
        },
        "837": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Append to the log file",
          "executable": false
        },
        "937": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This helper function implements a lightweight ...",
          "executable": false
        },
        "641": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      success = false",
          "executable": true
        },
        "741": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Store the error in the global error repos...",
          "executable": false
        },
        "841": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "941": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "785": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local formatted_text = format_log(level, module_...",
          "executable": true
        },
        "685": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "585": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "485": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if is_array then",
          "executable": true
        },
        "1778": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1777": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- and used with the logging system.",
          "executable": false
        },
        "985": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "885": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   file = \"logs/application.log\" -- Also log to...",
          "executable": false
        },
        "241": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "341": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "1016": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- Log a fatal level message through this logge...",
          "executable": false
        },
        "541": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    '\"level\":\"' .. level_name .. '\"',",
          "executable": true
        },
        "712": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Detect debug mode from command line arguments",
          "executable": false
        },
        "812": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if buffer.count >= config.buffer_size then",
          "executable": true
        },
        "912": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "287": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "587": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean Whether rotation was successfu...",
          "executable": false
        },
        "487": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        count = count + 1",
          "executable": true
        },
        "787": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Format as JSON for structured logging",
          "executable": false
        },
        "612": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This helper function writes all buffered log m...",
          "executable": false
        },
        "987": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "887": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1776": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- which allows custom log formatting patterns an...",
          "executable": false
        },
        "1775": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function provides access to the formatter...",
          "executable": false
        },
        "1774": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the formatter integration module for custo...",
          "executable": false
        },
        "1323": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        break",
          "executable": true
        },
        "1236": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1422": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return log_level",
          "executable": true
        },
        "751": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "455": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if val ~= val then",
          "executable": true
        },
        "951": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.json_file ~= nil then",
          "executable": true
        },
        "851": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Check if we need to rotate the JSON log fil...",
          "executable": false
        },
        "1869": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1561": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Convert to table if currently a string",
          "executable": false
        },
        "155": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  timestamps = true,             -- Enable/disable...",
          "executable": true
        },
        "255": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            break",
          "executable": true
        },
        "1771": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1770": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    error(\"Log export module not available\")",
          "executable": true
        },
        "112": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- circular dependencies.",
          "executable": false
        },
        "212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return os.date(\"%Y-%m-%d %H:%M:%S\")",
          "executable": true
        },
        "755": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if _G._firmo_debug_mode then",
          "executable": true
        },
        "855": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        rotate_json_log_files()",
          "executable": true
        },
        "955": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Module filtering options",
          "executable": false
        },
        "451": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  :gsub('\\b', '\\\\b')",
          "executable": true
        },
        "297": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- this function:",
          "executable": false
        },
        "1419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log_level = M.LEVELS.VERBOSE",
          "executable": true
        },
        "197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [M.LEVELS.WARN] = \"WARN\",",
          "executable": true
        },
        "697": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local error_handler = get_error_handler()",
          "executable": true
        },
        "797": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      flush_buffer()",
          "executable": true
        },
        "497": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      result = result .. \"]\"",
          "executable": true
        },
        "597": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not size or size < config.max_file_size then ...",
          "executable": true
        },
        "1493": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1769": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not export then",
          "executable": true
        },
        "897": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   module_filter = {\"UI*\", \"Network\"}, -- Only ...",
          "executable": false
        },
        "997": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1423": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1768": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local export = get_export()",
          "executable": true
        },
        "1322": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        M.set_module_level(module_name, v)",
          "executable": true
        },
        "1767": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.export()",
          "executable": true
        },
        "821": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "921": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "665": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  buffer.count = 0",
          "executable": true
        },
        "721": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1858": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.flush = function()",
          "executable": true
        },
        "1764": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local file = io.open(\"logs_export.csv\", \"w\")",
          "executable": false
        },
        "265": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  module_filter = nil,           -- Filter logs to...",
          "executable": true
        },
        "1763": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Save to file",
          "executable": false
        },
        "121": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1762": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1761": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "865": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "765": {
          "covered": true,
          "executed": true,
          "execution_count": 30,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "221": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "965": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.buffer_size ~= nil then",
          "executable": true
        },
        "963": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1496": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        config.max_file_size = config_obj.logging....",
          "executable": true
        },
        "1691": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This is a legacy compatibility function for co...",
          "executable": false
        },
        "1186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "563": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "--- Get the full path to the JSON log file",
          "executable": false
        },
        "663": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Reset buffer",
          "executable": false
        },
        "763": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        level = M.LEVELS.DEBUG",
          "executable": true
        },
        "863": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1001": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Use the logger with different log levels",
          "executable": false
        },
        "263": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "              break",
          "executable": true
        },
        "363": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @return boolean Whether the directory exists o...",
          "executable": false
        },
        "463": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1036": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.warn = function(message, params)",
          "executable": true
        },
        "1757": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local csv_content = export.to_csv({",
          "executable": false
        },
        "1132": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- logging or for quick/temporary logs.",
          "executable": false
        },
        "1043": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- @return boolean Whether the message was logg...",
          "executable": false
        },
        "931": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.silent = options.silent",
          "executable": true
        },
        "831": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      local size = fs.file_exists(log_path) and fs...",
          "executable": true
        },
        "731": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param message string The log message text",
          "executable": false
        },
        "279": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "579": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return config.log_dir .. \"/\" .. config.json_file",
          "executable": true
        },
        "479": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local first = true",
          "executable": true
        },
        "779": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- In silent mode, don't output anything",
          "executable": false
        },
        "679": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_error_handler()",
          "executable": true
        },
        "979": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.standard_metadata = options.standard_me...",
          "executable": true
        },
        "879": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1224": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "1756": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local export = logging.export()",
          "executable": false
        },
        "531": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @param params? table Additional context parame...",
          "executable": false
        },
        "431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "331": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Add the message",
          "executable": false
        },
        "231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, blacklisted in ipairs(config.module_bla...",
          "executable": true
        },
        "1753": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "973": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.buffer_flush_interval ~= nil then",
          "executable": true
        },
        "1626": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_pattern string The module patter...",
          "executable": false
        },
        "1249": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "673": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- initialization. It attempts to load the module...",
          "executable": false
        },
        "573": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- If json_file is an absolute path, use it dire...",
          "executable": false
        },
        "873": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @param options? {level?: number|string, file?:...",
          "executable": false
        },
        "773": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "273": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  RESET = \"\\27[0m\",",
          "executable": true
        },
        "1010": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local stats = generate_detailed_statistics()",
          "executable": false
        },
        "930": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.silent ~= nil then",
          "executable": true
        },
        "830": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if config.max_file_size and config.max_file_si...",
          "executable": true
        },
        "730": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_name? string The module name (so...",
          "executable": false
        },
        "630": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "530": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @param message string The log message text",
          "executable": false
        },
        "981": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "349": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "      param_str = COLORS.CYAN .. param_str .. COLO...",
          "executable": true
        },
        "1053": {
          "covered": true,
          "executed": true,
          "execution_count": 11,
          "line_type": "code",
          "content": "    log(M.LEVELS.DEBUG, module_name, message, para...",
          "executable": true
        },
        "149": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  VERBOSE = 5  -- for backward compatibility",
          "executable": true
        },
        "649": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Build JSON content string",
          "executable": false
        },
        "681": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, module = pcall(require, \"lib.to...",
          "executable": true
        },
        "781": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "549": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "181": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  WHITE = \"\\27[37m\",",
          "executable": true
        },
        "281": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "849": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "    ensure_log_dir()",
          "executable": true
        },
        "949": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1112": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- Check if verbose level logging is enabled fo...",
          "executable": false
        },
        "1258": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean Whether logging is enabled for...",
          "executable": false
        },
        "1751": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table The log export module interface",
          "executable": false
        },
        "1223": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   arguments = {id = 123, options = {validate =...",
          "executable": false
        },
        "843": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "943": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.date_pattern = options.date_pattern",
          "executable": true
        },
        "643": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "743": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if error_handler then",
          "executable": true
        },
        "1750": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1749": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- integration with external systems.",
          "executable": false
        },
        "1209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.debug(message, params)",
          "executable": true
        },
        "1557": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.module_filter = {}",
          "executable": true
        },
        "399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- 2. Moves the current log file to the first rot...",
          "executable": false
        },
        "1008": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if logger.is_debug_enabled() then",
          "executable": false
        },
        "1746": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the log export module for exporting logs t...",
          "executable": false
        },
        "1745": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local json_type = type(val)",
          "executable": true
        },
        "543": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    '\"message\":\"' .. (message or \"\"):gsub('\"', '\\\\...",
          "executable": true
        },
        "243": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "343": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "359": {
          "covered": false,
          "executed": true,
          "execution_count": 31,
          "line_type": "comment",
          "content": "--- and creates it if necessary. It handles any er...",
          "executable": false
        },
        "991": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Each logger instance encapsulates the module n...",
          "executable": false
        },
        "400": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- 3. Creates a new empty log file for future log...",
          "executable": false
        },
        "500": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        count = count + 1",
          "executable": true
        },
        "759": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        params = params or {}",
          "executable": true
        },
        "659": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      success = false",
          "executable": true
        },
        "800": {
          "covered": false,
          "executed": true,
          "execution_count": 21,
          "line_type": "comment",
          "content": "    -- Add to buffer",
          "executable": false
        },
        "900": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.configure(options)",
          "executable": true
        },
        "1024": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- Log an error level message through this logg...",
          "executable": false
        },
        "191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [M.LEVELS.VERBOSE] = COLORS.MAGENTA, -- For back...",
          "executable": true
        },
        "959": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "859": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Append to the JSON log file",
          "executable": false
        },
        "1282": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return is_enabled(level, module_name)",
          "executable": true
        },
        "1116": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1012": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "953": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "853": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      local size = fs.file_exists(json_log_path) a...",
          "executable": true
        },
        "753": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "653": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1743": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1697": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1457": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1741": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not search then",
          "executable": true
        },
        "153": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  global_level = M.LEVELS.INFO,  -- Default global...",
          "executable": true
        },
        "1274": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local level_name = level:upper()",
          "executable": true
        },
        "1294": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param level string|number The log level to us...",
          "executable": false
        },
        "1093": {
          "covered": true,
          "executed": true,
          "execution_count": 31,
          "line_type": "code",
          "content": "    elseif type(level) == \"number\" then",
          "executable": true
        },
        "553": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for key, value in pairs(params) do",
          "executable": true
        },
        "453": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif json_type == \"number\" then",
          "executable": true
        },
        "353": {
          "covered": false,
          "executed": true,
          "execution_count": 7,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "253": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          if module_name == filter then",
          "executable": true
        },
        "1174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   config_path = \"/etc/app/config.json\"",
          "executable": false
        },
        "1546": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Show logs only from the Database module",
          "executable": false
        },
        "961": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.module_blacklist = options.module_black...",
          "executable": true
        },
        "1731": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   case_sensitive = false,",
          "executable": false
        },
        "761": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "861": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if not success then",
          "executable": true
        },
        "561": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "  return \"{\" .. table.concat(json_parts, \",\") .. \"...",
          "executable": true
        },
        "661": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "361": {
          "covered": false,
          "executed": true,
          "execution_count": 31,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "461": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1015": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "962": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "862": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      print(\"Warning: Failed to write to JSON log ...",
          "executable": true
        },
        "1023": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "662": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "562": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "372": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "    return true",
          "executable": true
        },
        "472": {
          "covered": true,
          "executed": true,
          "execution_count": 11,
          "line_type": "code",
          "content": "      if type(k) ~= \"number\" or k ~= n then",
          "executable": true
        },
        "172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local COLORS = {",
          "executable": true
        },
        "272": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1597": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table The logging module for chaining",
          "executable": false
        },
        "1401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_name string The module name to c...",
          "executable": false
        },
        "1138": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @param message string The message to log",
          "executable": false
        },
        "881": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- -- Configure basic logging",
          "executable": false
        },
        "920": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1735": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Process search results",
          "executable": false
        },
        "1734": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1273": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(level) == \"string\" then",
          "executable": true
        },
        "520": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "620": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if buffer.count == 0 then",
          "executable": true
        },
        "720": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "820": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "  local fs = get_fs()",
          "executable": true
        },
        "210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return string The formatted timestamp",
          "executable": false
        },
        "110": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- functionality for exporting logs to different ...",
          "executable": false
        },
        "410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local fs = get_fs()",
          "executable": true
        },
        "971": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "871": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- once at application startup to establish loggi...",
          "executable": false
        },
        "771": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "671": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This helper function implements lazy loading f...",
          "executable": false
        },
        "571": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "  if not config.json_file then return nil end",
          "executable": true
        },
        "471": {
          "covered": true,
          "executed": true,
          "execution_count": 11,
          "line_type": "code",
          "content": "      n = n + 1",
          "executable": true
        },
        "371": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "972": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- ANSI color codes",
          "executable": false
        },
        "772": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "872": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "572": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "672": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- which helps prevent circular dependencies that...",
          "executable": false
        },
        "282": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "482": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local count = 0",
          "executable": true
        },
        "382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string|nil The full path to the log fi...",
          "executable": false
        },
        "1732": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   max_results = 100",
          "executable": false
        },
        "1738": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1730": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   level = logging.ERROR,",
          "executable": false
        },
        "1729": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local results = search.find(\"database\", {",
          "executable": false
        },
        "970": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    buffer.last_flush_time = os.time()",
          "executable": true
        },
        "870": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- formatting options, log levels, and filtering....",
          "executable": false
        },
        "770": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if not has_debug_override and not is_enabled(lev...",
          "executable": true
        },
        "670": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Lazy-load the error_handler module to avoid ci...",
          "executable": false
        },
        "381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "1503": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config_obj.logging.date_pattern then",
          "executable": true
        },
        "1346": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1526": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config.output_file or config.json_file th...",
          "executable": true
        },
        "589": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local fs = get_fs()",
          "executable": true
        },
        "220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "320": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.insert(parts, level_str)",
          "executable": true
        },
        "489": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          result = result .. (first and \"\" or \",\")...",
          "executable": true
        },
        "189": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [M.LEVELS.DEBUG] = COLORS.CYAN,",
          "executable": true
        },
        "289": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Check module-specific level",
          "executable": false
        },
        "1277": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return is_enabled(v, module_name)",
          "executable": true
        },
        "1726": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1725": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "982": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- If log file is configured, ensure the directo...",
          "executable": false
        },
        "1266": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1721": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- pattern-based, level-based, and time-based sea...",
          "executable": false
        },
        "989": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Creates a new logger instance for a specific m...",
          "executable": false
        },
        "582": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- This helper function implements log rotation f...",
          "executable": false
        },
        "882": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- logging.configure({",
          "executable": false
        },
        "889": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- logging.configure({",
          "executable": false
        },
        "192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "292": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Ensure module_level is a number",
          "executable": false
        },
        "983": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config.output_file or config.json_file then",
          "executable": true
        },
        "492": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "783": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "883": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   level = logging.DEBUG,        -- Set global ...",
          "executable": false
        },
        "583": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "--- which prevents them from growing too large. It...",
          "executable": false
        },
        "683": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      _error_handler = module",
          "executable": true
        },
        "383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_log_file_path()",
          "executable": true
        },
        "483": {
          "covered": true,
          "executed": true,
          "execution_count": 21,
          "line_type": "code",
          "content": "    local max_items = 100",
          "executable": true
        },
        "940": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "283": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if not match then",
          "executable": true
        },
        "740": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "840": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      print(\"Warning: Failed to write to log file:...",
          "executable": true
        },
        "540": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    '\"timestamp\":\"' .. timestamp .. '\"',",
          "executable": true
        },
        "640": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      print(\"Warning: Failed to write to log file:...",
          "executable": true
        },
        "699": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- If error_handler is loaded and has the functi...",
          "executable": false
        },
        "599": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Rotate files",
          "executable": false
        },
        "230": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Skip if module is blacklisted",
          "executable": false
        },
        "130": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "299": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return level <= config.global_level",
          "executable": true
        },
        "199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [M.LEVELS.DEBUG] = \"DEBUG\",",
          "executable": true
        },
        "1720": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- historical logs to be searched and analyzed. T...",
          "executable": false
        },
        "1719": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function provides access to the log searc...",
          "executable": false
        },
        "992": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- methods as well as utility methods for checkin...",
          "executable": false
        },
        "1718": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the log search module for searching logs",
          "executable": false
        },
        "1717": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "602": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local new_file = log_path .. \".\" .. (i + 1)",
          "executable": true
        },
        "592": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "999": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local logger = logging.get_logger(\"Database\")",
          "executable": false
        },
        "899": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "892": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   include_source = true,        -- Include sou...",
          "executable": false
        },
        "122": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1715": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.log_verbose(message, module_name)",
          "executable": true
        },
        "1297": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @error Any error raised by the executed functi...",
          "executable": false
        },
        "993": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "893": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   module_levels = {             -- Module-spec...",
          "executable": false
        },
        "793": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- If we're buffering, add to buffer",
          "executable": false
        },
        "693": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "593": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if we need to rotate",
          "executable": false
        },
        "493": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if not first then result = result .. \",\" e...",
          "executable": true
        },
        "910": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      config.module_levels[module] = level",
          "executable": true
        },
        "293": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if type(module_level) == \"number\" then",
          "executable": true
        },
        "193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Level names for display",
          "executable": false
        },
        "610": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "510": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      result = result .. \"}\"",
          "executable": true
        },
        "810": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "710": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  _G._firmo_debug_mode = false",
          "executable": true
        },
        "340": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "        val_str = \"{...}\"  -- Simplify table displ...",
          "executable": true
        },
        "440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param val any The Lua value to encode as JSON",
          "executable": false
        },
        "140": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "240": {
          "covered": true,
          "executed": true,
          "execution_count": 30,
          "line_type": "code",
          "content": "          return false",
          "executable": true
        },
        "1477": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Configure logging output options",
          "executable": false
        },
        "1713": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Old style verbose logging",
          "executable": false
        },
        "1310": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Can also use with numeric levels",
          "executable": false
        },
        "1712": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "922": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.output_file ~= nil then",
          "executable": true
        },
        "822": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Output to regular text log file if configured",
          "executable": false
        },
        "722": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Core logging function that handles all log ope...",
          "executable": false
        },
        "622": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1711": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1710": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean Whether the message was logged",
          "executable": false
        },
        "1709": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_name? string The optional module...",
          "executable": false
        },
        "1642": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "254": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            match = true",
          "executable": true
        },
        "1292": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1652": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1706": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- log_verbose() pattern instead of the current v...",
          "executable": false
        },
        "1063": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.configure_from_options(module_name, opt...",
          "executable": true
        },
        "1316": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1703": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1465": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check for logging configuration",
          "executable": false
        },
        "1701": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.log_debug(message, module_name)",
          "executable": true
        },
        "1172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.warn(\"Configuration using default valu...",
          "executable": false
        },
        "421": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for i = config.max_log_files - 1, 1, -1 do",
          "executable": true
        },
        "1698": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1473": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config_obj.logging.modules and config_obj...",
          "executable": true
        },
        "1784": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local fi = logging.formatter_integration()",
          "executable": false
        },
        "1694": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param message string The message to log",
          "executable": false
        },
        "1693": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "625": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local success = true",
          "executable": true
        },
        "1836": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Apply buffering configuration",
          "executable": false
        },
        "1572": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.insert(config.module_filter, module_patter...",
          "executable": true
        },
        "1689": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1688": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return copy",
          "executable": true
        },
        "791": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  print(formatted_text)",
          "executable": true
        },
        "1686": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    copy[k] = v",
          "executable": true
        },
        "1685": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for k, v in pairs(config) do",
          "executable": true
        },
        "1785": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- fi.register(\"compact\", function(entry)",
          "executable": false
        },
        "1683": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Return a copy to prevent modification",
          "executable": false
        },
        "1071": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1394": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "1682": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.get_config()",
          "executable": true
        },
        "1681": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.info(message, params)",
          "executable": true
        },
        "515": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return \"null\"",
          "executable": true
        },
        "1679": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- for module, level in pairs(config.module_level...",
          "executable": false
        },
        "1677": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1676": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- print(\"Log to file: \" .. (config.output_file o...",
          "executable": false
        },
        "1674": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local config = logging.get_config()",
          "executable": false
        },
        "1563": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1416": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.debug then",
          "executable": true
        },
        "1672": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1671": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1669": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1151": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @param message string The message to log",
          "executable": false
        },
        "1573": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "1667": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- allowing inspection of all settings in effect....",
          "executable": false
        },
        "1666": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function returns a copy of the current lo...",
          "executable": false
        },
        "1684": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local copy = {}",
          "executable": true
        },
        "1588": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  config.module_filter = nil",
          "executable": true
        },
        "1663": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "1472": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Module-specific log levels",
          "executable": false
        },
        "1662": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  config.module_blacklist = {}",
          "executable": true
        },
        "1853": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1660": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.clear_blacklist()",
          "executable": false
        },
        "1536": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Add a module pattern to the module filter whit...",
          "executable": false
        },
        "1659": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Later, clear the entire blacklist when you ...",
          "executable": false
        },
        "1171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1658": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1428": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- preferences.",
          "executable": false
        },
        "1657": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   .blacklist_module(\"Analytics\")",
          "executable": false
        },
        "1656": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   .blacklist_module(\"Statistics*\")",
          "executable": false
        },
        "1494": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Configure log rotation options",
          "executable": false
        },
        "1331": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local success, result = pcall(func)",
          "executable": true
        },
        "1655": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.blacklist_module(\"Metrics\")",
          "executable": false
        },
        "1452": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1654": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Set up multiple blacklist entries",
          "executable": false
        },
        "1500": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        config.max_log_files = config_obj.logging....",
          "executable": true
        },
        "1651": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table The logging module for chaining",
          "executable": false
        },
        "1650": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1649": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- log level settings).",
          "executable": false
        },
        "1228": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Log a verbose level message globally without m...",
          "executable": false
        },
        "1647": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function removes all patterns from the bl...",
          "executable": false
        },
        "114": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Check if logging is enabled for a specific lev...",
          "executable": false
        },
        "1665": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the current logging configuration for debu...",
          "executable": false
        },
        "1136": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- log level settings.",
          "executable": false
        },
        "1644": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "1643": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1708": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param message string The message to log",
          "executable": false
        },
        "1641": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1640": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return M",
          "executable": true
        },
        "1638": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if pattern == module_pattern then",
          "executable": true
        },
        "1226": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(M.LEVELS.TRACE, nil, message, params)",
          "executable": true
        },
        "1215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1635": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.remove_from_blacklist(module_pattern)",
          "executable": true
        },
        "1634": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.remove_from_blacklist(\"Metrics\")",
          "executable": false
        },
        "1201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean Whether the message was logged",
          "executable": false
        },
        "1636": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config.module_blacklist then",
          "executable": true
        },
        "208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "308": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local parts = {}",
          "executable": true
        },
        "408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean Whether rotation was successfu...",
          "executable": false
        },
        "508": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        first = false",
          "executable": true
        },
        "608": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Move current log to .1",
          "executable": false
        },
        "708": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- This is only done once when the module loads",
          "executable": false
        },
        "808": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "908": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.module_levels then",
          "executable": true
        },
        "1631": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.blacklist_module(\"Metrics\")",
          "executable": false
        },
        "1175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "1628": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1752": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @error If the export module couldn't be loaded",
          "executable": false
        },
        "1625": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1624": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- from matching modules will be shown again (sub...",
          "executable": false
        },
        "1623": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- was previously added with blacklist_module(), ...",
          "executable": false
        },
        "108": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the export module for log exporting functi...",
          "executable": false
        },
        "1622": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function removes a specific pattern from ...",
          "executable": false
        },
        "1565": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add to filter if not already present",
          "executable": false
        },
        "1191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "481": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Avoid processing tables that are too large",
          "executable": false
        },
        "1356": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1619": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "1618": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.insert(config.module_blacklist, module_pat...",
          "executable": true
        },
        "1808": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- in memory and flushes them to disk periodicall...",
          "executable": false
        },
        "1547": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.filter_module(\"Database\")",
          "executable": false
        },
        "1615": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1614": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return M -- Already blacklisted",
          "executable": true
        },
        "1140": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @return boolean Whether the message was logged",
          "executable": false
        },
        "1336": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "1202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Debug messages provide detailed information us...",
          "executable": false
        },
        "1610": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1609": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1608": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.module_blacklist = {}",
          "executable": true
        },
        "1607": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not config.module_blacklist then",
          "executable": true
        },
        "1605": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.blacklist_module(module_pattern)",
          "executable": true
        },
        "1131": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- needing to create a logger instance first. The...",
          "executable": false
        },
        "1653": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1603": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Silence all analytics-related modules",
          "executable": false
        },
        "1602": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1073": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @param level number The log level to use",
          "executable": false
        },
        "1601": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.blacklist_module(\"HTTPClient\")",
          "executable": false
        },
        "1600": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Prevent logs from a noisy HTTP client modul...",
          "executable": false
        },
        "491": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1004": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logger.warn(\"Slow query detected\", {execution_...",
          "executable": false
        },
        "1065": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @param message string The message to log",
          "executable": false
        },
        "1598": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [M.LEVELS.FATAL] = COLORS.BRIGHT_RED,",
          "executable": true
        },
        "316": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local level_str = LEVEL_NAMES[level] or \"UNKNOWN...",
          "executable": true
        },
        "216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param module_name? string The module name to c...",
          "executable": false
        },
        "516": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "416": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "716": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        _G._firmo_debug_mode = true",
          "executable": true
        },
        "616": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "916": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "816": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return true",
          "executable": true
        },
        "1594": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- filter settings. This is useful for suppressin...",
          "executable": false
        },
        "904": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.level ~= nil then",
          "executable": true
        },
        "804": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "      level = level,",
          "executable": true
        },
        "704": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Default to false if we couldn't determine",
          "executable": false
        },
        "604": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      fs.move_file(old_file, new_file)",
          "executable": true
        },
        "504": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "116": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_export()",
          "executable": true
        },
        "304": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param message string The log message",
          "executable": false
        },
        "346": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1039": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1591": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Add a module pattern to the blacklist to preve...",
          "executable": false
        },
        "1589": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "1007": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Check if certain log levels are enabled bef...",
          "executable": false
        },
        "1664": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1082": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @param level string|number The log level to ...",
          "executable": false
        },
        "409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function rotate_log_files()",
          "executable": true
        },
        "1586": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.clear_module_filters()",
          "executable": false
        },
        "1173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   reason = \"Config file not found\",",
          "executable": false
        },
        "1585": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Later, remove all filters to see all module...",
          "executable": false
        },
        "1054": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1564": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1104": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1583": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.filter_module(\"Database\").filter_modul...",
          "executable": false
        },
        "1582": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- First filter to specific modules",
          "executable": false
        },
        "226": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "104": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "426": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "526": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "626": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "726": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- function to perform the actual logging operati...",
          "executable": false
        },
        "826": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Ensure log directory exists",
          "executable": false
        },
        "926": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.log_dir ~= nil then",
          "executable": true
        },
        "914": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.timestamps ~= nil then",
          "executable": true
        },
        "1581": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "714": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, v in ipairs(arg) do",
          "executable": true
        },
        "814": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "514": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  elseif json_type == \"nil\" then",
          "executable": true
        },
        "614": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- the flush interval elapses, and can also be ca...",
          "executable": false
        },
        "314": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "126": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This helper function lazily loads the formatte...",
          "executable": false
        },
        "202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  max_log_files = 5,             -- Number of rota...",
          "executable": true
        },
        "1094": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return is_enabled(level, module_name)",
          "executable": true
        },
        "1578": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1577": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- enabling logs from all modules (subject to log...",
          "executable": false
        },
        "1382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "222": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1453": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Try to load central_config module and get con...",
          "executable": false
        },
        "1574": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1571": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1154": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1492": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1516": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Module filtering options",
          "executable": false
        },
        "1570": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1569": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1265": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   logging.debug(\"Database statistics\", stats)",
          "executable": false
        },
        "1064": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- Log a verbose level message through this log...",
          "executable": false
        },
        "1091": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1075": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @param params? table Additional context para...",
          "executable": false
        },
        "1566": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for _, pattern in ipairs(config.module_filter) d...",
          "executable": true
        },
        "1584": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1243": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1262": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if logging.would_log(\"DEBUG\", \"Database\") then",
          "executable": false
        },
        "1673": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Check current logging configuration",
          "executable": false
        },
        "1562": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.module_filter = {config.module_filter}",
          "executable": true
        },
        "1772": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return export",
          "executable": true
        },
        "1159": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "1153": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @return boolean Whether the message was logged",
          "executable": false
        },
        "1559": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1558": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1556": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not config.module_filter then",
          "executable": true
        },
        "1555": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.filter_module(module_pattern)",
          "executable": true
        },
        "1554": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   .filter_module(\"Security*\")",
          "executable": false
        },
        "1115": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return is_enabled(M.LEVELS.VERBOSE, module_nam...",
          "executable": true
        },
        "1553": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.filter_module(\"Network\")",
          "executable": false
        },
        "1239": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   modules_loaded = {\"core\", \"ui\", \"network\"}",
          "executable": false
        },
        "1552": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Add multiple filters",
          "executable": false
        },
        "1378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1550": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.filter_module(\"UI*\")",
          "executable": false
        },
        "1549": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Show logs from all UI-related modules",
          "executable": false
        },
        "1254": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- the message would be filtered out anyway.",
          "executable": false
        },
        "1392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.set_level(level)",
          "executable": true
        },
        "55": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field error fun(message: string, context?: tab...",
          "executable": false
        },
        "1165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- don't prevent normal operation but may lead to...",
          "executable": false
        },
        "1616": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1545": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- and troubleshooting, but typically too verbose...",
          "executable": false
        },
        "1370": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1539": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- from modules matching the filter will be displ...",
          "executable": false
        },
        "1538": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- which modules' logs will be shown. When a filt...",
          "executable": false
        },
        "1385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1227": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1773": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param message string The message to log",
          "executable": false
        },
        "1253": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- and blacklist. It's useful for avoiding expens...",
          "executable": false
        },
        "169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  standard_metadata = {},        -- Standard metad...",
          "executable": true
        },
        "269": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Support exact match",
          "executable": false
        },
        "369": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      print(\"Warning: Failed to create log directo...",
          "executable": true
        },
        "469": {
          "covered": true,
          "executed": true,
          "execution_count": 11,
          "line_type": "code",
          "content": "    local n = 0",
          "executable": true
        },
        "569": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "--- @return string|nil The full path to the JSON l...",
          "executable": false
        },
        "669": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "769": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local has_debug_override = params and params._ex...",
          "executable": true
        },
        "869": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Sets up the global logging configuration inclu...",
          "executable": false
        },
        "969": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    buffer.count = 0",
          "executable": true
        },
        "1485": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1124": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return config.global_level",
          "executable": true
        },
        "1534": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return log_level",
          "executable": true
        },
        "1220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1532": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Apply the log level",
          "executable": false
        },
        "1182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1531": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1530": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1529": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1528": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1525": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Ensure log directory exists if output fil...",
          "executable": false
        },
        "1524": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1523": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1522": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        config.module_blacklist = config_obj.loggi...",
          "executable": true
        },
        "911": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1520": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1519": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1840": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Configure a buffered logger",
          "executable": false
        },
        "1517": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config_obj.logging.module_filter then",
          "executable": true
        },
        "1514": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1513": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        config.json_file = config_obj.logging.json...",
          "executable": true
        },
        "1051": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @return boolean Whether the message was logg...",
          "executable": false
        },
        "637": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Append to log file",
          "executable": false
        },
        "1511": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1510": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1509": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        config.format = config_obj.logging.format",
          "executable": true
        },
        "1508": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config_obj.logging.format then",
          "executable": true
        },
        "1026": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- @param params? table Additional context para...",
          "executable": false
        },
        "1507": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- JSON format options",
          "executable": false
        },
        "1506": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1505": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "422": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local old_file = log_path .. \".\" .. i",
          "executable": true
        },
        "1502": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1501": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1604": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.blacklist_module(\"Analytics*\")",
          "executable": false
        },
        "1499": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config_obj.logging.max_log_files then",
          "executable": true
        },
        "1760": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   fields = {\"timestamp\", \"level\", \"module\", \"m...",
          "executable": false
        },
        "1491": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        config.use_colors = config_obj.logging.use...",
          "executable": true
        },
        "1488": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  YELLOW = \"\\27[33m\",",
          "executable": true
        },
        "277": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          if module_name:sub(1, #prefix) == prefix...",
          "executable": true
        },
        "377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This helper function resolves the configured l...",
          "executable": false
        },
        "477": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "577": {
          "covered": false,
          "executed": true,
          "execution_count": 31,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "677": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table|nil The error_handler module or ...",
          "executable": false
        },
        "777": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "877": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---                  silent?: boolean, buffer_size...",
          "executable": false
        },
        "977": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Standard metadata",
          "executable": false
        },
        "1487": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        config.timestamps = config_obj.logging.tim...",
          "executable": true
        },
        "1486": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config_obj.logging.timestamps ~= nil then",
          "executable": true
        },
        "1780": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @error If the formatter integration module cou...",
          "executable": false
        },
        "1483": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        config.log_dir = config_obj.logging.log_di...",
          "executable": true
        },
        "1027": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- @return boolean Whether the message was logg...",
          "executable": false
        },
        "1482": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config_obj.logging.log_dir then",
          "executable": true
        },
        "1481": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1450": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local log_level = M.LEVELS.INFO",
          "executable": true
        },
        "789": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1478": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config_obj.logging.output_file then",
          "executable": true
        },
        "1047": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1475": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1126": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1474": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        log_level = config_obj.logging.modules[mod...",
          "executable": true
        },
        "1471": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1470": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1139": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @param params? table Additional context parame...",
          "executable": false
        },
        "1469": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        config.global_level = config_obj.logging.l...",
          "executable": true
        },
        "1468": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config_obj.logging.level then",
          "executable": true
        },
        "1029": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(M.LEVELS.ERROR, module_name, message, para...",
          "executable": true
        },
        "1466": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if config_obj and config_obj.logging then",
          "executable": true
        },
        "1860": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return logger",
          "executable": true
        },
        "1463": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1462": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log_level = M.LEVELS.VERBOSE",
          "executable": true
        },
        "259": {
          "covered": true,
          "executed": true,
          "execution_count": 22,
          "line_type": "code",
          "content": "          if type(filter) == \"string\" and filter:m...",
          "executable": true
        },
        "1360": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Set the AuthService to show detailed DEBUG ...",
          "executable": false
        },
        "1092": {
          "covered": true,
          "executed": true,
          "execution_count": 20,
          "line_type": "code",
          "content": "      return false",
          "executable": true
        },
        "1459": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if config_obj and config_obj.debug then",
          "executable": true
        },
        "1458": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Set log level based on global debug/verbose...",
          "executable": false
        },
        "1456": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config_obj = central_config.get()",
          "executable": true
        },
        "1454": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local success, central_config = pcall(require, \"...",
          "executable": true
        },
        "1410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Configure based on options object",
          "executable": false
        },
        "1480": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1449": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- First try to load the global config",
          "executable": false
        },
        "551": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add parameters if provided",
          "executable": false
        },
        "1447": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- }",
          "executable": false
        },
        "1446": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- --   }",
          "executable": false
        },
        "1213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Trace messages provide highly detailed diagnos...",
          "executable": false
        },
        "1444": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- --     \"output_file\": \"app.log\",",
          "executable": false
        },
        "195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [M.LEVELS.FATAL] = \"FATAL\",",
          "executable": true
        },
        "295": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This helper function implements log rotation, ...",
          "executable": false
        },
        "495": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        first = false",
          "executable": true
        },
        "595": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "695": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean Whether the current test expec...",
          "executable": false
        },
        "795": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Check if we need to auto-flush due to time",
          "executable": false
        },
        "895": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "---     Network = logging.DEBUG",
          "executable": false
        },
        "995": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return logger_instance A logger instance boun...",
          "executable": false
        },
        "1443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- --     },",
          "executable": false
        },
        "1066": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @param params? table Additional context para...",
          "executable": false
        },
        "1442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- --       \"Database\": \"DEBUG\"",
          "executable": false
        },
        "1441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- --     \"modules\": {",
          "executable": false
        },
        "1207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   request_method = \"GET\"",
          "executable": false
        },
        "499": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      for k, v in pairs(val) do",
          "executable": true
        },
        "1439": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- --   \"logging\": {",
          "executable": false
        },
        "1438": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- {",
          "executable": false
        },
        "1362": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1436": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1435": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local level = logging.configure_from_config(\"D...",
          "executable": false
        },
        "1434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Configure logging for a module from central...",
          "executable": false
        },
        "1122": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return config.module_levels[module_name]",
          "executable": true
        },
        "1143": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- logging.fatal(\"Application initialization fail...",
          "executable": false
        },
        "406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "506": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if not first then result = result .. \",\" e...",
          "executable": true
        },
        "206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  count = 0,",
          "executable": true
        },
        "1019": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- @return boolean Whether the message was logg...",
          "executable": false
        },
        "806": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      message = message,",
          "executable": true
        },
        "906": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "606": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "706": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return number The configured log level",
          "executable": false
        },
        "1430": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_name string The module name to c...",
          "executable": false
        },
        "1237": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.verbose(\"Detailed execution informatio...",
          "executable": false
        },
        "1426": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging settings from a centralized configurat...",
          "executable": false
        },
        "1189": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   version = \"1.2.3\",",
          "executable": false
        },
        "106": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return search_module",
          "executable": true
        },
        "1424": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Configure logging for a module using the globa...",
          "executable": false
        },
        "749": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          params = params,",
          "executable": true
        },
        "1413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- print(\"Configured log level: \" .. level)  -- W...",
          "executable": false
        },
        "1418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif options.verbose then",
          "executable": true
        },
        "1166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1417": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log_level = M.LEVELS.DEBUG",
          "executable": true
        },
        "1415": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local log_level = M.LEVELS.INFO",
          "executable": true
        },
        "1704": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Log a verbose message (compatibility with exis...",
          "executable": false
        },
        "1420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1107": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @return boolean Whether trace logging is ena...",
          "executable": false
        },
        "1412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local level = logging.configure_from_options(\"...",
          "executable": false
        },
        "285": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1451": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local config_obj",
          "executable": true
        },
        "1409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "118": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, module = pcall(require, \"lib.to...",
          "executable": true
        },
        "84": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_fs()",
          "executable": true
        },
        "1304": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return \"query completed\"",
          "executable": false
        },
        "1407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local args = {debug = true, verbose = false}",
          "executable": false
        },
        "1680": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Module \" .. module .. \" level: \" .. l...",
          "executable": false
        },
        "1149": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- of a component or subsystem, but may not crash...",
          "executable": false
        },
        "1311": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.with_level(\"Network\", logging.LEVELS.T...",
          "executable": false
        },
        "1865": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  mt.__gc = function()",
          "executable": true
        },
        "1440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- --     \"level\": \"INFO\",",
          "executable": false
        },
        "1399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- or configuration objects.",
          "executable": false
        },
        "1397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function provides a convenient way to con...",
          "executable": false
        },
        "1396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Configure module log level based on debug/verb...",
          "executable": false
        },
        "1393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  config.global_level = level",
          "executable": true
        },
        "1391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- else",
          "executable": false
        },
        "1839": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if env == \"production\" then",
          "executable": false
        },
        "1537": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function adds a module name pattern to th...",
          "executable": false
        },
        "1807": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function creates a specialized logger ins...",
          "executable": false
        },
        "310": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Add timestamp if enabled",
          "executable": false
        },
        "428": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "528": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @param level number The numeric log level",
          "executable": false
        },
        "228": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Check module filter/blacklist",
          "executable": false
        },
        "328": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "828": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "928": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "628": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config.output_file then",
          "executable": true
        },
        "728": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "1381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.set_level(logging.LEVELS.WARN)",
          "executable": false
        },
        "692": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- deliberately testing error conditions.",
          "executable": false
        },
        "393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1551": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table The logging module for chaining",
          "executable": false
        },
        "128": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It's loaded on-demand to avoid circular depend...",
          "executable": false
        },
        "581": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Rotate JSON log files when they exceed the con...",
          "executable": false
        },
        "1204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.debug(\"Processing user request\", {",
          "executable": false
        },
        "1375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- provides a simple way to control overall loggi...",
          "executable": false
        },
        "1373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- that don't have a specific level set via set_m...",
          "executable": false
        },
        "1380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Reduce global verbosity to just warnings an...",
          "executable": false
        },
        "1371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Set the global log level for all modules",
          "executable": false
        },
        "1540": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- focusing on specific components during debuggi...",
          "executable": false
        },
        "1369": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "1158": {
          "covered": false,
          "executed": true,
          "execution_count": 11,
          "line_type": "comment",
          "content": "---   error = \"Permission denied\"",
          "executable": false
        },
        "183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Color mapping for log levels",
          "executable": false
        },
        "1367": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.set_module_level(module_name, level)",
          "executable": true
        },
        "1366": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   .set_module_level(\"Storage\", logging.LEVELS....",
          "executable": false
        },
        "1365": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   .set_module_level(\"UI\", logging.LEVELS.INFO)",
          "executable": false
        },
        "762": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Downgrade to DEBUG level - which may or...",
          "executable": false
        },
        "1872": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "return M",
          "executable": true
        },
        "1437": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- central_config.json might contain:",
          "executable": false
        },
        "1707": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1460": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log_level = M.LEVELS.DEBUG",
          "executable": true
        },
        "1359": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1358": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.set_module_level(\"Database\", logging.L...",
          "executable": false
        },
        "1357": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Set the Database module to show only ERROR ...",
          "executable": false
        },
        "1620": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "700": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if error_handler and error_handler.current_test_...",
          "executable": true
        },
        "1354": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table The logging module for chaining",
          "executable": false
        },
        "1353": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param level number The log level to set for t...",
          "executable": false
        },
        "1302": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- This code block will have Database loggin...",
          "executable": false
        },
        "512": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1349": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- different modules to have different verbosity ...",
          "executable": false
        },
        "362": {
          "covered": false,
          "executed": true,
          "execution_count": 7,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "1504": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        config.date_pattern = config_obj.logging.d...",
          "executable": true
        },
        "1727": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Search for all error logs containing \"datab...",
          "executable": false
        },
        "1157": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   file_path = \"/etc/app/config.json\",",
          "executable": false
        },
        "1852": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  M.configure(buffered_config)",
          "executable": true
        },
        "1344": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1046": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1343": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1341": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not success then",
          "executable": true
        },
        "1340": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Handle errors",
          "executable": false
        },
        "1251": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function checks if a log with the specifi...",
          "executable": false
        },
        "1058": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @param params? table Additional context para...",
          "executable": false
        },
        "1338": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1337": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.module_levels[module_name] = nil",
          "executable": true
        },
        "1334": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if original_level then",
          "executable": true
        },
        "1169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean Whether the message was logged",
          "executable": false
        },
        "1332": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1284": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "1329": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1328": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1327": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    M.set_module_level(module_name, level)",
          "executable": true
        },
        "1864": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local mt = getmetatable(logger) or {}",
          "executable": true
        },
        "1271": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1069": {
          "covered": true,
          "executed": true,
          "execution_count": 11,
          "line_type": "code",
          "content": "    log(M.LEVELS.VERBOSE, module_name, message, pa...",
          "executable": true
        },
        "1560": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(config.module_filter) == \"string\" then",
          "executable": true
        },
        "1737": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(entry.timestamp, entry.module, entry.m...",
          "executable": false
        },
        "1178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1321": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if k == level_name then",
          "executable": true
        },
        "1319": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local level_name = level:upper()",
          "executable": true
        },
        "1318": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(level) == \"string\" then",
          "executable": true
        },
        "379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- path handling throughout the logging system.",
          "executable": false
        },
        "1314": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.with_level(module_name, level, func)",
          "executable": true
        },
        "1313": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "1102": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.is_debug_enabled = function()",
          "executable": true
        },
        "1404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1309": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1057": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @param message string The message to log",
          "executable": false
        },
        "1049": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @param message string The message to log",
          "executable": false
        },
        "1580": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "691": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging system to handle error logs differentl...",
          "executable": false
        },
        "1303": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   db.execute_query(\"SELECT * FROM users\")",
          "executable": false
        },
        "1351": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1301": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local result = logging.with_level(\"Database\", ...",
          "executable": false
        },
        "1041": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- @param message string The message to log",
          "executable": false
        },
        "1740": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local search = get_search()",
          "executable": true
        },
        "1296": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return any The result from the executed funct...",
          "executable": false
        },
        "1295": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param func function The function to execute w...",
          "executable": false
        },
        "1739": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.search()",
          "executable": true
        },
        "1291": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- that need more detailed logging temporarily.",
          "executable": false
        },
        "1637": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for i, pattern in ipairs(config.module_blackli...",
          "executable": true
        },
        "249": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- Handle array of filters",
          "executable": false
        },
        "1235": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1286": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "518": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return '\"' .. tostring(val):gsub('\"', '\\\\\"') ....",
          "executable": true
        },
        "418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not size or size < config.max_file_size then ...",
          "executable": true
        },
        "318": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    level_str = (LEVEL_COLORS[level] or \"\") .. lev...",
          "executable": true
        },
        "218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function is_enabled(level, module_name)",
          "executable": true
        },
        "918": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.use_colors ~= nil then",
          "executable": true
        },
        "818": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "718": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "618": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean Whether the flush operation wa...",
          "executable": false
        },
        "51": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field log fun(level: number, message: string, ...",
          "executable": false
        },
        "41": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field configure_from_config fun(config_key: st...",
          "executable": false
        },
        "31": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @version 1.0.0",
          "executable": false
        },
        "21": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Test-aware log suppression",
          "executable": false
        },
        "968": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    buffer.entries = {}",
          "executable": true
        },
        "81": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "71": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field log fun(level: number, message: string, ...",
          "executable": false
        },
        "868": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Configure the logging module with comprehensiv...",
          "executable": false
        },
        "456": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return '\"NaN\"'",
          "executable": true
        },
        "356": {
          "covered": true,
          "executed": true,
          "execution_count": 31,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "656": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local json_success, err = fs.append_file(json_...",
          "executable": true
        },
        "556": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        table.insert(json_parts, '\"' .. key .. '\":...",
          "executable": true
        },
        "11": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Hierarchical log levels (DEBUG, INFO, WARN, ...",
          "executable": false
        },
        "1199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param message string The message to log",
          "executable": false
        },
        "256": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "156": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  use_colors = true,             -- Enable/disable...",
          "executable": true
        },
        "1285": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1330": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Run the function",
          "executable": false
        },
        "1283": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "1281": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif type(level) == \"number\" then",
          "executable": true
        },
        "856": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "756": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Override the level check below for expe...",
          "executable": false
        },
        "1059": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @return boolean Whether the message was logg...",
          "executable": false
        },
        "956": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.module_filter ~= nil then",
          "executable": true
        },
        "658": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      print(\"Warning: Failed to write to JSON log ...",
          "executable": true
        },
        "558": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "458": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return '\"Infinity\"'",
          "executable": true
        },
        "358": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- This helper function checks if the configured ...",
          "executable": false
        },
        "258": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "          -- Support wildcard patterns at the end",
          "executable": false
        },
        "158": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log_dir = \"logs\",              -- Directory to s...",
          "executable": true
        },
        "1824": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Use like a normal logger",
          "executable": false
        },
        "782": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "50": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field register_formatter fun(name: string, for...",
          "executable": false
        },
        "60": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field info fun(message: string, context?: tabl...",
          "executable": false
        },
        "70": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field configure fun(options: table): logger_in...",
          "executable": false
        },
        "80": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- dependencies and improves module initializatio...",
          "executable": false
        },
        "838": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local success, err = fs.append_file(log_path, ...",
          "executable": true
        },
        "20": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Performance-optimized logging",
          "executable": false
        },
        "30": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @copyright 2023-2025",
          "executable": false
        },
        "938": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.max_log_files ~= nil then",
          "executable": true
        },
        "366": {
          "covered": true,
          "executed": true,
          "execution_count": 7,
          "line_type": "code",
          "content": "  if config.log_dir then",
          "executable": true
        },
        "466": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  elseif json_type == \"table\" then",
          "executable": true
        },
        "566": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "--- similarly to get_log_file_path() but for the s...",
          "executable": false
        },
        "666": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  buffer.last_flush_time = os.time()",
          "executable": true
        },
        "1299": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1733": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  module_blacklist = {},         -- List of module...",
          "executable": true
        },
        "266": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1230": {
          "covered": false,
          "executed": true,
          "execution_count": 3,
          "line_type": "comment",
          "content": "--- maintained for backward compatibility with old...",
          "executable": false
        },
        "424": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if fs.file_exists(old_file) then",
          "executable": true
        },
        "1270": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   logging.trace(\"Network packet details\", capt...",
          "executable": false
        },
        "1832": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- metrics_logger.flush()",
          "executable": false
        },
        "766": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "866": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "966": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.buffer_size = options.buffer_size",
          "executable": true
        },
        "1268": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Check using numeric level",
          "executable": false
        },
        "568": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "668": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return success",
          "executable": true
        },
        "368": {
          "covered": true,
          "executed": true,
          "execution_count": 7,
          "line_type": "code",
          "content": "    if not success then",
          "executable": true
        },
        "468": {
          "covered": true,
          "executed": true,
          "execution_count": 11,
          "line_type": "code",
          "content": "    local is_array = true",
          "executable": true
        },
        "168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  buffer_flush_interval = 5,     -- Seconds betwee...",
          "executable": true
        },
        "268": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      elseif type(config.module_filter) == \"string...",
          "executable": true
        },
        "1267": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1724": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @error If the search module couldn't be loaded",
          "executable": false
        },
        "392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return config.log_dir .. \"/\" .. config.output_fi...",
          "executable": true
        },
        "1812": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_name string The module name for ...",
          "executable": false
        },
        "1259": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1257": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_name? string The module name to ...",
          "executable": false
        },
        "559": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1317": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Set temporary level",
          "executable": false
        },
        "711": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "811": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Flush if buffer is full",
          "executable": false
        },
        "376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the full path to the log file, considering...",
          "executable": false
        },
        "276": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          local prefix = config.module_filter:gsub...",
          "executable": true
        },
        "176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  GREEN = \"\\27[32m\",",
          "executable": true
        },
        "1811": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "776": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    params._expected_debug_override = nil",
          "executable": true
        },
        "676": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "576": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "476": {
          "covered": true,
          "executed": true,
          "execution_count": 21,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1246": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.flush()",
          "executable": true
        },
        "415": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not fs.file_exists(log_path) then return fals...",
          "executable": true
        },
        "976": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "876": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---                  module_levels?: table<string,...",
          "executable": false
        },
        "1244": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Flush buffered logs to output",
          "executable": false
        },
        "1032": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- Log a warning level message through this log...",
          "executable": false
        },
        "1241": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.verbose(message, params)",
          "executable": true
        },
        "1240": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "1238": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   context = \"initialization\",",
          "executable": false
        },
        "1429": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1105": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1287": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Temporarily change log level for a module whil...",
          "executable": false
        },
        "90": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Load optional components (lazy loading to avoid...",
          "executable": false
        },
        "1234": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean Whether the message was logged",
          "executable": false
        },
        "1080": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1648": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logs from all previously blacklisted modules (...",
          "executable": false
        },
        "1290": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- level afterward. This is useful for diagnostic...",
          "executable": false
        },
        "1225": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.trace(message, params)",
          "executable": true
        },
        "1067": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @return boolean Whether the message was logg...",
          "executable": false
        },
        "1221": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.trace(\"Function enter\", {",
          "executable": false
        },
        "1533": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  M.set_module_level(module_name, log_level)",
          "executable": true
        },
        "958": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "858": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "758": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- but setting a special flag that skips t...",
          "executable": false
        },
        "286": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- If output_file is an absolute path, use it di...",
          "executable": false
        },
        "1219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [M.LEVELS.ERROR] = COLORS.RED,",
          "executable": true
        },
        "686": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return _error_handler",
          "executable": true
        },
        "786": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "486": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      for _, v in ipairs(val) do",
          "executable": true
        },
        "586": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "1070": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   user_id = 12345,",
          "executable": false
        },
        "886": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "986": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param params? table Additional context parame...",
          "executable": false
        },
        "1216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param message string The message to log",
          "executable": false
        },
        "1632": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- used for step-by-step tracing of program execu...",
          "executable": false
        },
        "1445": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- --     \"use_colors\": true",
          "executable": false
        },
        "1212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Log a trace level message globally without mod...",
          "executable": false
        },
        "1187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1005": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logger.error(\"Database connection failed\", {er...",
          "executable": false
        },
        "1211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(M.LEVELS.DEBUG, nil, message, params)",
          "executable": true
        },
        "1748": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- convert logs to various formats like CSV, JSON...",
          "executable": false
        },
        "1208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "1206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   request_path = \"/api/data\",",
          "executable": false
        },
        "1190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   environment = \"production\"",
          "executable": false
        },
        "1218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean Whether the message was logged",
          "executable": false
        },
        "1203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1612": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for _, pattern in ipairs(config.module_blacklist...",
          "executable": true
        },
        "1633": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Later, remove it from the blacklist when yo...",
          "executable": false
        },
        "1087": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      for k, v in pairs(M.LEVELS) do",
          "executable": true
        },
        "1006": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1544": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1611": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add to blacklist if not already present",
          "executable": false
        },
        "1425": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function integrates with the central conf...",
          "executable": false
        },
        "1002": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logger.debug(\"Connection established\", {host =...",
          "executable": false
        },
        "1759": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end_time = os.time(),",
          "executable": false
        },
        "1185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean Whether the message was logged",
          "executable": false
        },
        "521": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Format a log entry as a JSON string for struct...",
          "executable": false
        },
        "1181": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- state and significant events during normal exe...",
          "executable": false
        },
        "1179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Log an info level message globally without mod...",
          "executable": false
        },
        "1177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(M.LEVELS.WARN, nil, message, params)",
          "executable": true
        },
        "1176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.warn(message, params)",
          "executable": true
        },
        "134": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, module = pcall(require, \"lib.to...",
          "executable": true
        },
        "234": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "334": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "  -- Add parameters as a formatted string if provi...",
          "executable": false
        },
        "434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Lua values (strings, numbers, booleans, tables...",
          "executable": false
        },
        "534": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Use ISO8601-like timestamp format for JSON lo...",
          "executable": false
        },
        "398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- 1. Renames existing rotated logs to make room ...",
          "executable": false
        },
        "298": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Fall back to global level",
          "executable": false
        },
        "198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [M.LEVELS.INFO] = \"INFO\",",
          "executable": true
        },
        "1629": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "798": {
          "covered": true,
          "executed": true,
          "execution_count": 30,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "698": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "598": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "498": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "978": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.standard_metadata ~= nil then",
          "executable": true
        },
        "878": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @return logging The logging module for method ...",
          "executable": false
        },
        "1090": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1118": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- Get the current log level for this module",
          "executable": false
        },
        "1700": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.log_debug(\"Initializing component\", \"S...",
          "executable": false
        },
        "1512": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config_obj.logging.json_file then",
          "executable": true
        },
        "1333": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Restore original level",
          "executable": false
        },
        "1168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param params? table Additional context parame...",
          "executable": false
        },
        "1167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param message string The message to log",
          "executable": false
        },
        "1040": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- Log an info level message through this logge...",
          "executable": false
        },
        "1856": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1325": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1152": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @param params? table Additional context parame...",
          "executable": false
        },
        "1668": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- diagnosing logging behavior or understanding t...",
          "executable": false
        },
        "621": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return true  -- Nothing to flush is considered...",
          "executable": true
        },
        "1859": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    M.flush()",
          "executable": true
        },
        "1147": {
          "covered": false,
          "executed": true,
          "execution_count": 11,
          "line_type": "comment",
          "content": "--- Log an error level message globally without mo...",
          "executable": false
        },
        "1146": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1145": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  log(M.LEVELS.FATAL, nil, message, params)",
          "executable": true
        },
        "271": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          match = true",
          "executable": true
        },
        "1432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1142": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1096": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return false",
          "executable": true
        },
        "1613": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if pattern == module_pattern then",
          "executable": true
        },
        "1324": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1137": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1645": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1747": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function provides access to the log expor...",
          "executable": false
        },
        "1134": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Fatal messages indicate a critical error that ...",
          "executable": false
        },
        "1133": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Log a fatal level message globally without mod...",
          "executable": false
        },
        "1779": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table The formatter integration module...",
          "executable": false
        },
        "1128": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1127": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return logger",
          "executable": true
        },
        "1088": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if k == level_name then",
          "executable": true
        },
        "120": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      export_module = module",
          "executable": true
        },
        "1123": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "748": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          message = message,",
          "executable": true
        },
        "848": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Ensure log directory exists",
          "executable": false
        },
        "948": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.format = options.format",
          "executable": true
        },
        "1433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "724": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- level filtering, formatting, test error handli...",
          "executable": false
        },
        "536": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local level_name = LEVEL_NAMES[level] or \"UNKNOW...",
          "executable": true
        },
        "924": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "824": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local log_path = get_log_file_path()",
          "executable": true
        },
        "236": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- Support wildcard patterns at the end",
          "executable": false
        },
        "136": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      formatter_integration_module = module",
          "executable": true
        },
        "1121": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if config.module_levels[module_name] then",
          "executable": true
        },
        "1119": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @return number The current log level",
          "executable": false
        },
        "1117": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "154": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  module_levels = {},            -- Per-module log...",
          "executable": true
        },
        "799": {
          "covered": false,
          "executed": true,
          "execution_count": 30,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1062": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "454": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Handle NaN and infinity which have no direc...",
          "executable": false
        },
        "936": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "836": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "736": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if level <= M.LEVELS.WARN then",
          "executable": true
        },
        "438": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "338": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      local val_str",
          "executable": true
        },
        "638": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local file_success, err = fs.append_file(log_p...",
          "executable": true
        },
        "538": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Start with standard fields",
          "executable": false
        },
        "45": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field enable fun(): logging Re-enable logging",
          "executable": false
        },
        "1100": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- Check if debug level logging is enabled for ...",
          "executable": false
        },
        "238": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        local prefix = blacklisted:gsub(\"%*$\", \"\")",
          "executable": true
        },
        "138": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1110": {
          "covered": true,
          "executed": true,
          "execution_count": 11,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1109": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return is_enabled(M.LEVELS.TRACE, module_name)",
          "executable": true
        },
        "998": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Create a logger for a specific module",
          "executable": false
        },
        "898": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   json_logs = true              -- Also output...",
          "executable": false
        },
        "1108": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.is_trace_enabled = function()",
          "executable": true
        },
        "1035": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- @return boolean Whether the message was logg...",
          "executable": false
        },
        "1103": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return is_enabled(M.LEVELS.DEBUG, module_name)",
          "executable": true
        },
        "1312": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   network.send_request(\"https://api.example.co...",
          "executable": false
        },
        "546": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add standard metadata fields from configurati...",
          "executable": false
        },
        "734": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function log(level, module_name, message, pa...",
          "executable": true
        },
        "834": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "934": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.max_file_size ~= nil then",
          "executable": true
        },
        "146": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  INFO = 3,",
          "executable": true
        },
        "246": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if config.module_filter then",
          "executable": true
        },
        "1099": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1098": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1097": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1095": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "124": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1089": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          return is_enabled(v, module_name)",
          "executable": true
        },
        "946": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- JSON format options",
          "executable": false
        },
        "224": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(level) ~= \"number\" then",
          "executable": true
        },
        "746": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          level = level,",
          "executable": true
        },
        "846": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local json_log_path = get_json_log_file_path()",
          "executable": true
        },
        "348": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if config.use_colors then",
          "executable": true
        },
        "448": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  :gsub('\\n', '\\\\n')",
          "executable": true
        },
        "548": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(json_parts, '\"' .. key .. '\":' .....",
          "executable": true
        },
        "648": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param params? table Additional context parame...",
          "executable": false
        },
        "1086": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      local level_name = level:upper()",
          "executable": true
        },
        "148": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  TRACE = 5,",
          "executable": true
        },
        "248": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1085": {
          "covered": true,
          "executed": true,
          "execution_count": 12,
          "line_type": "code",
          "content": "    if type(level) == \"string\" then",
          "executable": true
        },
        "1150": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1081": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- Check if a message at the specified level wo...",
          "executable": false
        },
        "1025": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- @param message string The message to log",
          "executable": false
        },
        "1233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param params? table Additional context parame...",
          "executable": false
        },
        "1079": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1078": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    log(level, module_name, message, params)",
          "executable": true
        },
        "1077": {
          "covered": true,
          "executed": true,
          "execution_count": 11,
          "line_type": "code",
          "content": "  logger.log = function(level, message, params)",
          "executable": true
        },
        "944": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "844": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Output to JSON log file if configured",
          "executable": false
        },
        "744": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        _G._firmo_test_expected_errors = _G._firmo...",
          "executable": true
        },
        "644": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1567": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if pattern == module_pattern then",
          "executable": true
        },
        "1074": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @param message string The message to log",
          "executable": false
        },
        "1072": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- Log a message with a specific level through ...",
          "executable": false
        },
        "1068": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.verbose = function(message, params)",
          "executable": true
        },
        "174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  RED = \"\\27[31m\",",
          "executable": true
        },
        "274": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Support wildcard pattern at the end",
          "executable": false
        },
        "374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true -- No directory configured means no ...",
          "executable": true
        },
        "474": {
          "covered": true,
          "executed": true,
          "execution_count": 21,
          "line_type": "code",
          "content": "        break",
          "executable": true
        },
        "1222": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   function_name = \"process_data\",",
          "executable": false
        },
        "1568": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return M -- Already filtered",
          "executable": true
        },
        "1705": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This is a legacy compatibility function for co...",
          "executable": false
        },
        "1113": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @return boolean Whether verbose logging is e...",
          "executable": false
        },
        "1279": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1056": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- Log a trace level message through this logge...",
          "executable": false
        },
        "1163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Log a warning level message globally without m...",
          "executable": false
        },
        "1476": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1045": {
          "covered": true,
          "executed": true,
          "execution_count": 11,
          "line_type": "code",
          "content": "    log(M.LEVELS.INFO, module_name, message, param...",
          "executable": true
        },
        "44": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field disable fun(): logging Disable all loggi...",
          "executable": false
        },
        "324": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if config.use_colors then",
          "executable": true
        },
        "1300": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Temporarily increase log level for a sectio...",
          "executable": false
        },
        "1050": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- @param params? table Additional context para...",
          "executable": false
        },
        "1014": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local logger = {}",
          "executable": true
        },
        "1038": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1037": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(M.LEVELS.WARN, module_name, message, param...",
          "executable": true
        },
        "1106": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  --- Check if trace level logging is enabled for ...",
          "executable": false
        },
        "75": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local fs",
          "executable": true
        },
        "1242": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(M.LEVELS.VERBOSE, nil, message, params)",
          "executable": true
        },
        "1031": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "854": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if size >= config.max_file_size then",
          "executable": true
        },
        "954": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "654": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "754": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- In debug mode (--debug flag), make all ex...",
          "executable": false
        },
        "1030": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1467": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Global logging configuration",
          "executable": false
        },
        "1028": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.error = function(message, params)",
          "executable": true
        },
        "115": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table|nil The export module or nil if ...",
          "executable": false
        },
        "144": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  ERROR = 1,",
          "executable": true
        },
        "465": {
          "covered": true,
          "executed": true,
          "execution_count": 31,
          "line_type": "code",
          "content": "    return tostring(val)",
          "executable": true
        },
        "420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Rotate files (move existing rotated logs)",
          "executable": false
        },
        "1245": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table The logging module for chaining",
          "executable": false
        },
        "544": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "444": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if json_type == \"string\" then",
          "executable": true
        },
        "344": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      table.insert(param_parts, k .. \"=\" .. val_st...",
          "executable": true
        },
        "244": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if we need to rotate",
          "executable": false
        },
        "1379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1576": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function removes any previously set modul...",
          "executable": false
        },
        "322": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add module name if provided",
          "executable": false
        },
        "1347": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Set the log level for a specific module",
          "executable": false
        },
        "522": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- This helper function creates a JSON representa...",
          "executable": false
        },
        "1400": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "326": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1018": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- @param params? table Additional context para...",
          "executable": false
        },
        "1011": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   logger.debug(\"Performance statistics\", stats...",
          "executable": false
        },
        "1114": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.is_verbose_enabled = function()",
          "executable": true
        },
        "792": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function sets the default log level that ...",
          "executable": false
        },
        "85": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not fs then",
          "executable": true
        },
        "1033": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- @param message string The message to log",
          "executable": false
        },
        "1548": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "34": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field _VERSION string Module version",
          "executable": false
        },
        "964": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Buffering options",
          "executable": false
        },
        "1044": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.info = function(message, params)",
          "executable": true
        },
        "1135": {
          "covered": false,
          "executed": true,
          "execution_count": 11,
          "line_type": "comment",
          "content": "--- from continuing operation. Fatal logs are alwa...",
          "executable": false
        },
        "664": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  buffer.entries = {}",
          "executable": true
        },
        "564": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "--- This helper function resolves the configured J...",
          "executable": false
        },
        "864": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "764": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "394": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Rotate log files when they exceed the configur...",
          "executable": false
        },
        "494": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        result = result .. json_encode_value(v)",
          "executable": true
        },
        "194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local LEVEL_NAMES = {",
          "executable": true
        },
        "294": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return level <= module_level",
          "executable": true
        },
        "330": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "430": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return fs.move_file(log_path, log_path .. \".1\")",
          "executable": true
        },
        "1022": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  config.module_levels[module_name] = level",
          "executable": true
        },
        "1264": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local stats = calculate_detailed_database_st...",
          "executable": false
        },
        "1276": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if k == level_name then",
          "executable": true
        },
        "1479": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        config.output_file = config_obj.logging.ou...",
          "executable": true
        },
        "682": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if success then",
          "executable": true
        },
        "141": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Log levels",
          "executable": false
        },
        "1247": {
          "covered": true,
          "executed": true,
          "execution_count": 6,
          "line_type": "code",
          "content": "  flush_buffer()",
          "executable": true
        },
        "389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1355": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1125": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "365": {
          "covered": true,
          "executed": true,
          "execution_count": 7,
          "line_type": "code",
          "content": "  local fs = get_fs()",
          "executable": true
        },
        "565": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "--- both absolute paths and paths relative to the ...",
          "executable": false
        },
        "1000": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- ",
          "executable": false
        },
        "1042": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- @param params? table Additional context para...",
          "executable": false
        },
        "1272": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.would_log(level, module_name)",
          "executable": true
        },
        "412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not log_path then return false end",
          "executable": true
        },
        "100": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not search_module then",
          "executable": true
        },
        "974": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.buffer_flush_interval = options.buffer_...",
          "executable": true
        },
        "1144": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.fatal(message, params)",
          "executable": true
        },
        "1383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Show all logs including debug",
          "executable": false
        },
        "1256": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param level string|number The log level to ch...",
          "executable": false
        },
        "574": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "  if config.json_file:sub(1, 1) == \"/\" then",
          "executable": true
        },
        "674": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- caches the result to avoid repeated require at...",
          "executable": false
        },
        "774": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Remove internal flag from params if it exists",
          "executable": false
        },
        "874": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "---                  max_file_size?: number, inclu...",
          "executable": false
        },
        "264": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  json_file = nil,               -- Separate JSON ...",
          "executable": true
        },
        "464": {
          "covered": true,
          "executed": true,
          "execution_count": 31,
          "line_type": "code",
          "content": "  elseif json_type == \"boolean\" then",
          "executable": true
        },
        "364": {
          "covered": true,
          "executed": true,
          "execution_count": 7,
          "line_type": "code",
          "content": "local function ensure_log_dir()",
          "executable": true
        },
        "1013": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.get_logger(module_name)",
          "executable": true
        },
        "1805": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "291": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local module_level = config.module_levels[modu...",
          "executable": true
        },
        "524": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- context parameters. The resulting JSON string ...",
          "executable": false
        },
        "1376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param level number The log level to set globa...",
          "executable": false
        },
        "1364": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.set_module_level(\"API\", logging.LEVELS...",
          "executable": false
        },
        "261": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            if module_name:sub(1, #prefix) == pref...",
          "executable": true
        },
        "1579": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table The logging module for chaining",
          "executable": false
        },
        "300": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [M.LEVELS.TRACE] = \"TRACE\",",
          "executable": true
        },
        "1255": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "596": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local size = fs.get_file_size(log_path)",
          "executable": true
        },
        "600": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for i = config.max_log_files - 1, 1, -1 do",
          "executable": true
        },
        "1716": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(M.LEVELS.VERBOSE, module_name, message)",
          "executable": true
        },
        "605": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  date_pattern = \"%Y-%m-%d\",     -- Date pattern f...",
          "executable": true
        },
        "262": {
          "covered": true,
          "executed": true,
          "execution_count": 22,
          "line_type": "code",
          "content": "              match = true",
          "executable": true
        },
        "1348": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function configures the log level for a s...",
          "executable": false
        },
        "462": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return tostring(val)",
          "executable": true
        },
        "615": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- public method. Buffering improves performance ...",
          "executable": false
        },
        "1084": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.would_log = function(level)",
          "executable": true
        },
        "1796": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.configure({",
          "executable": false
        },
        "1599": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "984": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    ensure_log_dir()",
          "executable": true
        },
        "884": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   console = true,               -- Enable cons...",
          "executable": false
        },
        "784": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Format as text for console and regular log fi...",
          "executable": false
        },
        "684": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "584": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- rotate_log_files() but specifically for struct...",
          "executable": false
        },
        "591": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not log_path then return false end",
          "executable": true
        },
        "1305": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "159": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  silent = false,                -- Suppress all o...",
          "executable": true
        },
        "624": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local fs = get_fs()",
          "executable": true
        },
        "1692": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- log_debug() pattern instead of the current deb...",
          "executable": false
        },
        "143": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  FATAL = 0,",
          "executable": true
        },
        "629": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local log_path = get_log_file_path()",
          "executable": true
        },
        "631": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Build content string",
          "executable": false
        },
        "633": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, entry in ipairs(buffer.entries) do",
          "executable": true
        },
        "1661": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.clear_blacklist()",
          "executable": true
        },
        "651": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, entry in ipairs(buffer.entries) do",
          "executable": true
        },
        "1621": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Remove a module pattern from the blacklist, al...",
          "executable": false
        },
        "1728": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local search = logging.search()",
          "executable": false
        },
        "449": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  :gsub('\\r', '\\\\r')",
          "executable": true
        },
        "1288": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function allows you to temporarily overri...",
          "executable": false
        },
        "373": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1816": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "54": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field warn fun(message: string, context?: tabl...",
          "executable": false
        },
        "152": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local config = {",
          "executable": true
        },
        "131": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table|nil The formatter integration mo...",
          "executable": false
        },
        "179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  MAGENTA = \"\\27[35m\",",
          "executable": true
        },
        "101": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, module = pcall(require, \"lib.to...",
          "executable": true
        },
        "1448": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.configure_from_config(module_name)",
          "executable": true
        },
        "687": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  format = \"text\",               -- Default log fo...",
          "executable": true
        },
        "1184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param params? table Additional context parame...",
          "executable": false
        },
        "994": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_name string The name of the modu...",
          "executable": false
        },
        "1699": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Old style logging with module name",
          "executable": false
        },
        "794": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if config.buffer_size > 0 then",
          "executable": true
        },
        "894": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---     Database = logging.INFO,",
          "executable": false
        },
        "594": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not fs.file_exists(log_path) then return fals...",
          "executable": true
        },
        "694": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "484": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not config.output_file then return nil end",
          "executable": true
        },
        "284": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        return false",
          "executable": true
        },
        "184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local LEVEL_COLORS = {",
          "executable": true
        },
        "446": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return '\"' .. val:gsub('\\\\', '\\\\\\\\')",
          "executable": true
        },
        "1592": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- The blacklist takes precedence over the whitel...",
          "executable": false
        },
        "646": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config.json_file then",
          "executable": true
        },
        "251": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        for _, filter in ipairs(config.module_filt...",
          "executable": true
        },
        "351": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    table.insert(parts, \"(\" .. param_str .. \")\")",
          "executable": true
        },
        "151": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Default configuration",
          "executable": false
        },
        "1361": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.set_module_level(\"AuthService\", loggin...",
          "executable": false
        },
        "554": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Skip reserved keys to prevent overwriting...",
          "executable": false
        },
        "655": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Append to JSON log file",
          "executable": false
        },
        "1388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   logging.set_level(logging.LEVELS.ERROR)",
          "executable": false
        },
        "355": {
          "covered": true,
          "executed": true,
          "execution_count": 31,
          "line_type": "code",
          "content": "  return table.concat(parts, \" | \")",
          "executable": true
        },
        "1787": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     \"%s|%s|%s|%s\",",
          "executable": false
        },
        "336": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local param_parts = {}",
          "executable": true
        },
        "436": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- to prevent excessive output. This function is ...",
          "executable": false
        },
        "636": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1350": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- levels override the global log level.",
          "executable": false
        },
        "312": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    table.insert(parts, get_timestamp())",
          "executable": true
        },
        "387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config.output_file:sub(1, 1) == \"/\" then",
          "executable": true
        },
        "187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [M.LEVELS.WARN] = COLORS.YELLOW,",
          "executable": true
        },
        "441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return string The JSON string representation ...",
          "executable": false
        },
        "1799": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.formatter_integration()",
          "executable": true
        },
        "1308": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- the function completes, even if the functio...",
          "executable": false
        },
        "715": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if v == \"--debug\" then",
          "executable": true
        },
        "1596": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_pattern string The module patter...",
          "executable": false
        },
        "1411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local options = {debug = false, verbose = true...",
          "executable": false
        },
        "1744": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return search",
          "executable": true
        },
        "533": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local function format_json(level, module_name, mes...",
          "executable": true
        },
        "233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false",
          "executable": true
        },
        "333": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "237": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if type(blacklisted) == \"string\" and blackli...",
          "executable": true
        },
        "725": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- buffering, and rotation. All public logging me...",
          "executable": false
        },
        "1170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "537": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "437": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- to generate JSON-formatted log entries.",
          "executable": false
        },
        "337": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "    for k, v in pairs(params) do",
          "executable": true
        },
        "733": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean Whether the log message was ou...",
          "executable": false
        },
        "738": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Prefix message to indicate this is an exp...",
          "executable": false
        },
        "1421": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  M.set_module_level(module_name, log_level)",
          "executable": true
        },
        "768": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Check if this log should be shown (unless it'...",
          "executable": false
        },
        "1461": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif config_obj and config_obj.verbose then",
          "executable": true
        },
        "1687": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "729": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param level number The numeric log level for ...",
          "executable": false
        },
        "40": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field configure fun(options: {level?: number|s...",
          "executable": false
        },
        "10": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Named logger instances with independent conf...",
          "executable": false
        },
        "61": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field warn fun(message: string, context?: tabl...",
          "executable": false
        },
        "91": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local search_module, export_module, formatter_inte...",
          "executable": true
        },
        "1250": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Check if a log at the specified level would be...",
          "executable": false
        },
        "815": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1248": {
          "covered": true,
          "executed": true,
          "execution_count": 6,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "825": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "829": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Check if we need to rotate the log file",
          "executable": false
        },
        "321": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.configure_from_options(\"MyModule\", arg...",
          "executable": false
        },
        "74": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Try to import filesystem module (might not be a...",
          "executable": false
        },
        "1696": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean Whether the message was logged",
          "executable": false
        },
        "1781": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "427": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "527": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "35": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field DEBUG number Debug log level (most verbo...",
          "executable": false
        },
        "1111": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "306": {
          "covered": false,
          "executed": true,
          "execution_count": 30,
          "line_type": "comment",
          "content": "---@return string The formatted log message",
          "executable": false
        },
        "689": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This helper function integrates with the error...",
          "executable": false
        },
        "1405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1736": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- for _, entry in ipairs(results) do",
          "executable": false
        },
        "204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local buffer = {",
          "executable": true
        },
        "891": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   include_colors = true,        -- Enable colo...",
          "executable": false
        },
        "902": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "909": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for module, level in pairs(options.module_leve...",
          "executable": true
        },
        "1521": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if config_obj.logging.module_blacklist then",
          "executable": true
        },
        "915": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.timestamps = options.timestamps",
          "executable": true
        },
        "919": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.use_colors = options.use_colors",
          "executable": true
        },
        "1845": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "529": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @param module_name? string The module name tha...",
          "executable": false
        },
        "1587": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.clear_module_filters()",
          "executable": true
        },
        "570": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local function get_json_log_file_path()",
          "executable": true
        },
        "1188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- logging.info(\"Application started successfully...",
          "executable": false
        }
      },
      "line_coverage_percent": 32,
      "covered_lines": 282,
      "executed_lines": 282,
      "executed_functions": 12,
      "covered_functions": 12,
      "name": "logging.lua",
      "function_coverage_percent": 100,
      "path": "./lib/tools/logging.lua"
    },
    "./lib/core/test_definition.lua": {
      "execution_coverage_percent": 1,
      "functions": [],
      "total_lines": 942,
      "executable_lines": 359,
      "total_functions": 0,
      "lines": {
        "132": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for _, tag in ipairs(options.tags) do",
          "executable": true
        },
        "532": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      test_name = name,",
          "executable": true
        },
        "232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   ",
          "executable": false
        },
        "332": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Create a skipped test group",
          "executable": false
        },
        "660": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local options = {}",
          "executable": true
        },
        "760": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "860": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "150": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   firmo.tags(\"integration\", \"database\")",
          "executable": false
        },
        "350": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "250": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local previous_level = level",
          "executable": true
        },
        "550": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        timestamp = os.time(),",
          "executable": true
        },
        "450": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "832": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    skipped = skipped,",
          "executable": true
        },
        "932": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    passes = passes + 1",
          "executable": true
        },
        "632": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This is useful for temporarily disabling speci...",
          "executable": false
        },
        "732": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "142": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Common tags might include \"unit\", \"integration...",
          "executable": false
        },
        "201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  message = message or \"Test not yet implemented\"",
          "executable": true
        },
        "342": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- xdescribe(\"Work in progress module\", function(...",
          "executable": false
        },
        "242": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local excluded = options.excluded or false",
          "executable": true
        },
        "542": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if options.expect_error then",
          "executable": true
        },
        "442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not has_required_tags(test_tags) then",
          "executable": true
        },
        "701": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   ",
          "executable": false
        },
        "801": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "901": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "301": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  current_tags = previous_tags",
          "executable": true
        },
        "401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  options = merge_options(options, {",
          "executable": true
        },
        "501": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "601": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   expect(edge_case_function()).to.be_truthy()",
          "executable": false
        },
        "160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "260": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    focused = focused,",
          "executable": true
        },
        "360": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function defines an individual test case ...",
          "executable": false
        },
        "460": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Store full test path",
          "executable": false
        },
        "560": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        test_result = result,",
          "executable": true
        },
        "742": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "642": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Incomplete or broken test",
          "executable": false
        },
        "942": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "return M",
          "executable": true
        },
        "842": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function enables or disables detailed deb...",
          "executable": false
        },
        "215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Basic describe block",
          "executable": false
        },
        "315": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- fdescribe(\"Authentication module\", function()",
          "executable": false
        },
        "211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param fn function Function containing the test...",
          "executable": false
        },
        "111": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if test_tag == tag then",
          "executable": true
        },
        "252": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for i, v in ipairs(current_tags) do",
          "executable": true
        },
        "352": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Normal tests continue to run",
          "executable": false
        },
        "452": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local path = {}",
          "executable": true
        },
        "552": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        expect_error = true,",
          "executable": true
        },
        "114": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "680": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Basic setup hook",
          "executable": false
        },
        "780": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "311": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param fn function Function containing the test...",
          "executable": false
        },
        "611": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- }, function()",
          "executable": false
        },
        "511": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Only run tests with \"parse\" in their name",
          "executable": false
        },
        "570": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        execution_time = execution_time,",
          "executable": true
        },
        "470": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      timestamp = os.time(),",
          "executable": true
        },
        "370": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Basic test case",
          "executable": false
        },
        "270": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- function contains test definitions and possibl...",
          "executable": false
        },
        "308": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- test suite during development or debugging.",
          "executable": false
        },
        "408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "508": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for i = level, 1, -1 do",
          "executable": true
        },
        "608": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- fit(\"focused test with options\", {",
          "executable": false
        },
        "708": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     it(\"test in child suite\", function()",
          "executable": false
        },
        "808": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "908": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add result to collection",
          "executable": false
        },
        "325": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- These tests will be skipped when focus mode...",
          "executable": false
        },
        "225": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "525": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      execution_time = os.clock() - test_start_tim...",
          "executable": true
        },
        "425": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if current_describe_block and current_describe_b...",
          "executable": true
        },
        "129": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "229": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     it(\"should read text files\", function() en...",
          "executable": false
        },
        "329": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.fdescribe(name, fn)",
          "executable": true
        },
        "108": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "750": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     if temp_files then",
          "executable": false
        },
        "650": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- }, function()",
          "executable": false
        },
        "850": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "125": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "180": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "480": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "580": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        test_path = table.concat(path, \" / \"),",
          "executable": true
        },
        "280": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local result = validate_input(nil)",
          "executable": false
        },
        "639": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "539": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not success then",
          "executable": true
        },
        "839": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Add debug flag to test_definition module",
          "executable": false
        },
        "739": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   it(\"should write to file\", function()",
          "executable": false
        },
        "239": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  options = options or {}",
          "executable": true
        },
        "139": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Set tags for the current test block",
          "executable": false
        },
        "439": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "339": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "316": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   it(\"should authenticate valid users\", functi...",
          "executable": false
        },
        "216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- describe(\"User authentication\", function()",
          "executable": false
        },
        "516": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      temp_file.set_current_test_context(nil)",
          "executable": true
        },
        "416": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "716": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "616": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  focus_mode = true",
          "executable": true
        },
        "916": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif result.status == TEST_STATUS.FAIL then",
          "executable": true
        },
        "816": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if state.focus_mode then",
          "executable": false
        },
        "904": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  result.status = result.status or TEST_STATUS.FAI...",
          "executable": true
        },
        "804": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- test counts, focus mode status, and test resul...",
          "executable": false
        },
        "704": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       -- This runs after parent's before but b...",
          "executable": false
        },
        "604": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- This test will be skipped when any test is ...",
          "executable": false
        },
        "504": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Run the test",
          "executable": false
        },
        "116": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "304": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Create a focused test group",
          "executable": false
        },
        "490": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      temp_file.set_current_test_context({",
          "executable": true
        },
        "390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "690": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     db.insert({id = 1, name = \"Test\"})",
          "executable": false
        },
        "590": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This is useful for temporarily focusing on a s...",
          "executable": false
        },
        "929": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "290": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Handle errors in describe blocks",
          "executable": false
        },
        "190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "709": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       -- Both parent and child setup have run",
          "executable": false
        },
        "809": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "509": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for _, hook in ipairs(afters[i] or {}) do",
          "executable": true
        },
        "609": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   timeout = 2000,",
          "executable": false
        },
        "309": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Determine if test should be skipped based on ...",
          "executable": false
        },
        "109": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for _, tag in ipairs(active_tags) do",
          "executable": true
        },
        "209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "226": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Nested describe blocks",
          "executable": false
        },
        "104": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function has_required_tags(test_tags)",
          "executable": true
        },
        "426": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, tag in ipairs(current_describe_block.ta...",
          "executable": true
        },
        "526": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      timestamp = os.time(),",
          "executable": true
        },
        "626": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "726": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Basic teardown hook",
          "executable": false
        },
        "826": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "926": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      result.path_string or \"\",",
          "executable": true
        },
        "914": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if result.status == TEST_STATUS.PASS then",
          "executable": true
        },
        "714": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  befores[level] = befores[level] or {}",
          "executable": true
        },
        "814": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "514": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Clean up test context",
          "executable": false
        },
        "614": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.fit(name, options_or_fn, fn)",
          "executable": true
        },
        "314": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Only this test group and its tests will run",
          "executable": false
        },
        "126": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param ... string Tags to filter by",
          "executable": false
        },
        "939": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return result",
          "executable": true
        },
        "819": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "719": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- within the current describe block, including t...",
          "executable": false
        },
        "619": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local options = {}",
          "executable": true
        },
        "519": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Create a test pass result",
          "executable": false
        },
        "419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    should_skip = true",
          "executable": true
        },
        "319": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   ",
          "executable": false
        },
        "219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "119": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Public interface",
          "executable": false
        },
        "103": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean True if the test has any requir...",
          "executable": false
        },
        "203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "903": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Ensure required fields",
          "executable": false
        },
        "703": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     before(function()",
          "executable": false
        },
        "803": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function returns the current internal sta...",
          "executable": false
        },
        "503": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "603": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "303": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    excluded = false,",
          "executable": true
        },
        "890": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local result = firmo.add_test_result({",
          "executable": false
        },
        "790": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  current_tags = {}",
          "executable": true
        },
        "213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "113": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "269": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "369": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "469": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      path_string = table.concat(path, \" / \"),",
          "executable": true
        },
        "569": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        path_string = table.concat(path, \" / \"),",
          "executable": true
        },
        "669": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M.it(name, options, fn)",
          "executable": true
        },
        "769": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- and prevent state from leaking between test ex...",
          "executable": false
        },
        "869": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- and updates the test counters. It's primarily ...",
          "executable": false
        },
        "913": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local status_color = \"\"",
          "executable": true
        },
        "813": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   state.passes, state.errors, state.skipped))",
          "executable": false
        },
        "713": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.before(fn)",
          "executable": true
        },
        "613": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "513": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options.excluded then",
          "executable": true
        },
        "313": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "721": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- parent block hooks, providing a way to clean u...",
          "executable": false
        },
        "940": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "938": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "937": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "39": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local focus_mode = false",
          "executable": true
        },
        "29": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field after fun(fn: function): nil Add a teard...",
          "executable": false
        },
        "19": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @author Firmo Team",
          "executable": false
        },
        "936": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    skipped = skipped + 1",
          "executable": true
        },
        "79": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table|nil The loaded module or nil if i...",
          "executable": false
        },
        "69": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field expect_error? boolean Whether the test w...",
          "executable": false
        },
        "59": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@class TestResult",
          "executable": false
        },
        "49": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  FAIL = \"fail\",",
          "executable": true
        },
        "935": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif result.status == TEST_STATUS.SKIP or resu...",
          "executable": true
        },
        "934": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    errors = errors + 1",
          "executable": true
        },
        "99": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "89": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param options table|nil The options provided b...",
          "executable": false
        },
        "933": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif result.status == TEST_STATUS.FAIL then",
          "executable": true
        },
        "931": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if result.status == TEST_STATUS.PASS then",
          "executable": true
        },
        "930": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Update counters based on status",
          "executable": false
        },
        "857": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     expect(true).to.be_truthy()",
          "executable": false
        },
        "767": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- clearing all test definitions, hooks, results,...",
          "executable": false
        },
        "925": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      result.name,",
          "executable": true
        },
        "924": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      result.status:upper(),",
          "executable": true
        },
        "148": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Tag a block of tests",
          "executable": false
        },
        "429": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "921": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "144": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param ... string Tags to apply",
          "executable": false
        },
        "919": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      status_color = \"\\27[33m\" -- yellow",
          "executable": true
        },
        "806": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "400": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Apply defaults to options",
          "executable": false
        },
        "915": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      status_color = \"\\27[32m\" -- green",
          "executable": true
        },
        "912": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if debug_mode then",
          "executable": true
        },
        "911": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Print debug output if enabled",
          "executable": false
        },
        "177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- firmo.filter_pattern(\"file\")",
          "executable": false
        },
        "277": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "28": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field before fun(fn: function): nil Add a setu...",
          "executable": false
        },
        "477": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      test_name = name,",
          "executable": true
        },
        "577": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Log error details with the structured res...",
          "executable": false
        },
        "677": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param fn function Hook function to execute bef...",
          "executable": false
        },
        "777": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- for _, file in ipairs(test_files) do",
          "executable": false
        },
        "78": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param name string The name of the module to re...",
          "executable": false
        },
        "88": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Merge provided options with defaults",
          "executable": false
        },
        "98": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return result",
          "executable": true
        },
        "910": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "38": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local filter_pattern = nil",
          "executable": true
        },
        "48": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  PASS = \"pass\",",
          "executable": true
        },
        "58": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local test_paths = {}",
          "executable": true
        },
        "68": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field error_message? string Optional formatted...",
          "executable": false
        },
        "909": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.insert(test_results, result)",
          "executable": true
        },
        "833": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    focus_mode = focus_mode,",
          "executable": true
        },
        "906": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  result.timestamp = result.timestamp or os.time()",
          "executable": true
        },
        "905": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  result.name = result.name or \"unknown test\"",
          "executable": true
        },
        "902": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "900": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil",
          "executable": true
        },
        "899": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not result or type(result) ~= \"table\" then",
          "executable": true
        },
        "898": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.add_test_result(result)",
          "executable": true
        },
        "897": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "896": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   timestamp = os.time()",
          "executable": false
        },
        "895": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   execution_time = 0.125,",
          "executable": false
        },
        "18": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @version 0.4.0",
          "executable": false
        },
        "893": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   path = {\"External\", \"Integration\", \"API Test...",
          "executable": false
        },
        "892": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   name = \"External test\",",
          "executable": false
        },
        "891": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   status = \"pass\",",
          "executable": false
        },
        "889": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- For custom test systems or extensions",
          "executable": false
        },
        "888": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "887": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "27": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field xit fun(name: string, options_or_fn: tab...",
          "executable": false
        },
        "17": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "549": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        execution_time = execution_time,",
          "executable": true
        },
        "885": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     end",
          "executable": false
        },
        "884": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       print(string.format(\"- %s (%s)\", result....",
          "executable": false
        },
        "204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Create a test group",
          "executable": false
        },
        "87": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Local utility functions",
          "executable": false
        },
        "77": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Safely require a module without raising an err...",
          "executable": false
        },
        "882": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       print(string.format(\"✗ %s\\n  %s\", resu...",
          "executable": false
        },
        "97": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "47": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local TEST_STATUS = {",
          "executable": true
        },
        "37": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local active_tags = {}",
          "executable": true
        },
        "67": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field error? any Optional error object if the ...",
          "executable": false
        },
        "57": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local test_blocks = {}",
          "executable": true
        },
        "881": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     elseif result.status == \"fail\" then",
          "executable": false
        },
        "195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "295": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      errors = errors + 1",
          "executable": true
        },
        "395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    options = options_or_fn",
          "executable": true
        },
        "495": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "595": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param fn? function Test function if options we...",
          "executable": false
        },
        "695": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Nested hooks demonstration",
          "executable": false
        },
        "795": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  passes = 0",
          "executable": true
        },
        "178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.filter_pattern(pattern)",
          "executable": true
        },
        "880": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       print(string.format(\"✓ %s (%.3fs)\", re...",
          "executable": false
        },
        "378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   tags = {\"validation\", \"error-handling\"}",
          "executable": false
        },
        "278": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Insert block into test_blocks",
          "executable": false
        },
        "578": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.error(\"Test failed: \" .. error_handle...",
          "executable": true
        },
        "478": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      test_path = table.concat(path, \" / \"),",
          "executable": true
        },
        "778": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   firmo.reset()",
          "executable": false
        },
        "678": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "16": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Test isolation with automatic file cleanup",
          "executable": false
        },
        "26": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field fit fun(name: string, options_or_fn: tab...",
          "executable": false
        },
        "675": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- child block hooks, providing a way to establis...",
          "executable": false
        },
        "878": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   for _, result in ipairs(results) do",
          "executable": false
        },
        "877": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local function my_reporter(results)",
          "executable": false
        },
        "784": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- firmo.only_tags(\"unit\") -- Only run unit tests...",
          "executable": false
        },
        "875": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "874": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    timeout = nil,",
          "executable": true
        },
        "506": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "76": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local logger = logging.get_logger(\"TestDefinition\"...",
          "executable": true
        },
        "86": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local temp_file = try_require(\"lib.tools.temp_file...",
          "executable": true
        },
        "56": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local skipped = 0",
          "executable": true
        },
        "66": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field options? table Optional test options tha...",
          "executable": false
        },
        "36": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local current_tags = {}",
          "executable": true
        },
        "46": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field PENDING string Test is pending implement...",
          "executable": false
        },
        "664": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "515": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if temp_file and temp_file.set_current_test_co...",
          "executable": true
        },
        "220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   ",
          "executable": false
        },
        "121": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function specifies which tags must be pre...",
          "executable": false
        },
        "868": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function adds a structured test result to...",
          "executable": false
        },
        "106": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return true",
          "executable": true
        },
        "867": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Add a test result to the collection",
          "executable": false
        },
        "866": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "865": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return string The pending message",
          "executable": false
        },
        "288": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, err = error_handler.try(fn)",
          "executable": true
        },
        "388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   perform_operation()",
          "executable": false
        },
        "488": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Set temporary file context if available",
          "executable": false
        },
        "588": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function creates a test case that will ru...",
          "executable": false
        },
        "688": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   it(\"should insert records\", function()",
          "executable": false
        },
        "788": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  befores = {}",
          "executable": true
        },
        "25": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field it fun(name: string, options_or_fn: tabl...",
          "executable": false
        },
        "15": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Support for expected errors in tests",
          "executable": false
        },
        "864": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  debug_mode = value == true",
          "executable": true
        },
        "689": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     -- db is already connected and cleared due...",
          "executable": false
        },
        "118": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "587": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Create a focused test case",
          "executable": false
        },
        "306": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- any other focused tests. All non-focused tests...",
          "executable": false
        },
        "859": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Mark a test as pending with an explanation",
          "executable": false
        },
        "95": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for k, v in pairs(defaults) do",
          "executable": true
        },
        "396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "296": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "65": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field execution_time? number Optional executio...",
          "executable": false
        },
        "496": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "45": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field SKIP string Test was skipped",
          "executable": false
        },
        "35": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local afters = {}",
          "executable": true
        },
        "527": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      options = options",
          "executable": true
        },
        "427": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      table.insert(test_tags, tag)",
          "executable": true
        },
        "327": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   it(\"will be skipped when focus mode is activ...",
          "executable": false
        },
        "227": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- describe(\"File operations\", function()",
          "executable": false
        },
        "927": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      result.expect_error and \"[expects error]\" or...",
          "executable": true
        },
        "827": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.get_state()",
          "executable": true
        },
        "727": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- describe(\"File operations\", function()",
          "executable": false
        },
        "627": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "428": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "528": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "228": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   describe(\"Reading files\", function()",
          "executable": false
        },
        "328": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "127": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table The module instance for method ch...",
          "executable": false
        },
        "928": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "628": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M.it(name, options, fn)",
          "executable": true
        },
        "728": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local temp_file",
          "executable": false
        },
        "505": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    fn()",
          "executable": true
        },
        "405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    tags = {},",
          "executable": true
        },
        "305": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function creates a test group that will b...",
          "executable": false
        },
        "205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function creates a block of related tests...",
          "executable": false
        },
        "64": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field timestamp number When the test was execu...",
          "executable": false
        },
        "74": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local error_handler = require(\"lib.tools.error_han...",
          "executable": true
        },
        "84": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "94": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local result = {}",
          "executable": true
        },
        "856": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   it(\"shows detailed output in debug mode\", fu...",
          "executable": false
        },
        "855": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- describe(\"Debugging test suite\", function()",
          "executable": false
        },
        "854": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Run tests with detailed debug information",
          "executable": false
        },
        "853": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "105": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not active_tags or #active_tags == 0 then",
          "executable": true
        },
        "852": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- firmo.set_debug_mode(true)",
          "executable": false
        },
        "851": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Enable debug mode to see detailed output",
          "executable": false
        },
        "14": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Structured test results for reporting",
          "executable": false
        },
        "9": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Test cases defined with 'it' functions",
          "executable": false
        },
        "849": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "848": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table The module instance for chaining",
          "executable": false
        },
        "847": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param value boolean Whether to enable debug ou...",
          "executable": false
        },
        "5": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- and various options for controlling test execu...",
          "executable": false
        },
        "6": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "7": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Key features:",
          "executable": false
        },
        "8": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Hierarchical test organization using nested ...",
          "executable": false
        },
        "1": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Test definition module for Firmo",
          "executable": false
        },
        "2": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This module provides the core functionality fo...",
          "executable": false
        },
        "3": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- in Firmo's BDD-style testing framework. It off...",
          "executable": false
        },
        "4": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- with describe blocks for grouping tests, befor...",
          "executable": false
        },
        "846": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "793": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  focus_mode = false",
          "executable": true
        },
        "844": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- test execution, results, and internal state to...",
          "executable": false
        },
        "644": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "33": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local level = 0",
          "executable": true
        },
        "23": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field fdescribe fun(name: string, fn: function...",
          "executable": false
        },
        "53": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Track tests",
          "executable": false
        },
        "43": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field PASS string Test passed successfully",
          "executable": false
        },
        "73": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Error handling and logging",
          "executable": false
        },
        "63": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field path_string string The path to the test ...",
          "executable": false
        },
        "93": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  options = options or {}",
          "executable": true
        },
        "83": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return nil",
          "executable": true
        },
        "841": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Set debug mode for test_definition module",
          "executable": false
        },
        "284": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  afters[level] = afters[level] or {}",
          "executable": true
        },
        "838": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M.STATUS = TEST_STATUS",
          "executable": true
        },
        "837": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Export test status constants",
          "executable": false
        },
        "836": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "321": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     -- Test implementation",
          "executable": false
        },
        "13": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Test filtering by tags and patterns",
          "executable": false
        },
        "834": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test_results = test_results,",
          "executable": true
        },
        "307": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- is active. This is useful for temporarily focu...",
          "executable": false
        },
        "207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- level having its own setup (before) and teardo...",
          "executable": false
        },
        "507": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Run after hooks in reverse order",
          "executable": false
        },
        "407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "707": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     ",
          "executable": false
        },
        "607": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- You can also provide options",
          "executable": false
        },
        "907": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "807": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return {level: number, passes: number, errors:...",
          "executable": false
        },
        "831": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    errors = errors,",
          "executable": true
        },
        "589": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- focused tests. When any test is focused, all n...",
          "executable": false
        },
        "829": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    level = level,",
          "executable": true
        },
        "828": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return {",
          "executable": true
        },
        "825": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "824": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       result.path_string, result.error_message...",
          "executable": false
        },
        "107": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "744": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "42": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@class TestStatus",
          "executable": false
        },
        "52": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "22": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field describe fun(name: string, fn: function,...",
          "executable": false
        },
        "32": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Forward declaration of module-level variables",
          "executable": false
        },
        "82": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if success then return mod end",
          "executable": true
        },
        "92": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function merge_options(options, defaults)",
          "executable": true
        },
        "62": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field path string[] The path to the test (arra...",
          "executable": false
        },
        "72": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local test_results = {}",
          "executable": true
        },
        "434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "821": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- for _, result in ipairs(state.test_results) do",
          "executable": false
        },
        "820": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Inspect test results",
          "executable": false
        },
        "818": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "811": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local state = firmo.get_state()",
          "executable": false
        },
        "12": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Skipping tests with xdescribe/xit",
          "executable": false
        },
        "815": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Check if focus mode is active",
          "executable": false
        },
        "711": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "417": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Skip if there are focused tests and this one ...",
          "executable": false
        },
        "517": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   it(\"should allow valid users to log in\", fun...",
          "executable": false
        },
        "317": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     -- Test implementation",
          "executable": false
        },
        "817": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Warning: Focus mode is active - some ...",
          "executable": false
        },
        "917": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      status_color = \"\\27[31m\" -- red",
          "executable": true
        },
        "617": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "717": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Add a teardown hook for the current block",
          "executable": false
        },
        "518": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if focus_mode and not options.focused and not (c...",
          "executable": true
        },
        "318": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     -- test implementation",
          "executable": false
        },
        "918": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "117": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return false",
          "executable": true
        },
        "718": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function registers a teardown function th...",
          "executable": false
        },
        "618": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Determine if first argument is options or fun...",
          "executable": false
        },
        "51": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  PENDING = \"pending\"",
          "executable": true
        },
        "41": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Define test status constants",
          "executable": false
        },
        "31": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local M = {}",
          "executable": true
        },
        "21": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@class TestDefinition",
          "executable": false
        },
        "91": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table The merged options",
          "executable": false
        },
        "81": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local success, mod = pcall(require, name)",
          "executable": true
        },
        "71": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Collection of structured test result objects",
          "executable": false
        },
        "61": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field name string The name of the test",
          "executable": false
        },
        "456": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    current = current.parent",
          "executable": true
        },
        "356": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.xdescribe(name, fn)",
          "executable": true
        },
        "656": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   expect(1 + 1).to.equal(2)",
          "executable": false
        },
        "556": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Log pass with proper structure for expect...",
          "executable": false
        },
        "11": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Focus mode with fdescribe/fit for running sp...",
          "executable": false
        },
        "805": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- reports, monitoring test progress, and debuggi...",
          "executable": false
        },
        "256": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Create a new describe block",
          "executable": false
        },
        "156": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.tags(...)",
          "executable": true
        },
        "535": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "635": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param name string Name of the test case",
          "executable": false
        },
        "335": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- broken, incomplete, or not relevant to the cur...",
          "executable": false
        },
        "435": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "135": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.only_tags(...)",
          "executable": true
        },
        "235": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     it(\"should write binary files\", function()...",
          "executable": false
        },
        "802": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the current state of the test system",
          "executable": false
        },
        "800": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test_results = {} -- Clear all test results",
          "executable": true
        },
        "658": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.xit(name, options_or_fn, fn)",
          "executable": true
        },
        "558": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        test_name = name,",
          "executable": true
        },
        "458": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.insert(path, name)",
          "executable": true
        },
        "358": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "258": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    name = name,",
          "executable": true
        },
        "158": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  current_tags = new_tags",
          "executable": true
        },
        "735": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     -- Cleanup after each test",
          "executable": false
        },
        "835": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "50": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  SKIP = \"skip\",",
          "executable": true
        },
        "60": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field status string The test status (pass, fai...",
          "executable": false
        },
        "70": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field reason? string Optional reason for skipp...",
          "executable": false
        },
        "80": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function try_require(name)",
          "executable": true
        },
        "10": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Setup and teardown with before/after hooks",
          "executable": false
        },
        "20": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "30": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field pending fun(message?: string): string Ma...",
          "executable": false
        },
        "40": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local current_describe_block = nil",
          "executable": true
        },
        "366": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param options_or_fn table|function Options tab...",
          "executable": false
        },
        "466": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      status = TEST_STATUS.SKIP,",
          "executable": true
        },
        "566": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        status = TEST_STATUS.FAIL,",
          "executable": true
        },
        "666": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    options = {excluded = true}",
          "executable": true
        },
        "729": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   ",
          "executable": false
        },
        "702": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   describe(\"Child suite\", function()",
          "executable": false
        },
        "166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param pattern string Pattern to filter test na...",
          "executable": false
        },
        "266": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Copy current tags to the block",
          "executable": false
        },
        "645": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "545": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        status = TEST_STATUS.PASS,",
          "executable": true
        },
        "445": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "345": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "245": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if focused and not excluded then",
          "executable": true
        },
        "145": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table The module instance for method ch...",
          "executable": false
        },
        "796": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  errors = 0",
          "executable": true
        },
        "279": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.insert(test_blocks, block)",
          "executable": true
        },
        "568": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        path = path,",
          "executable": true
        },
        "668": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "468": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      path = path,",
          "executable": true
        },
        "168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "268": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    block.tags[i] = v",
          "executable": true
        },
        "845": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- tests or the test framework itself.",
          "executable": false
        },
        "745": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Error handling in teardown",
          "executable": false
        },
        "447": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if filter_pattern and name:match(filter_pattern)...",
          "executable": true
        },
        "347": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   it(\"contains features under development\", fu...",
          "executable": false
        },
        "647": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- xit(\"test requiring additional setup\", {",
          "executable": false
        },
        "547": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        path = path,",
          "executable": true
        },
        "320": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   it(\"should reject invalid credentials\", func...",
          "executable": false
        },
        "791": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  active_tags = {}",
          "executable": true
        },
        "247": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "147": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- it(\"should throw an error for invalid input\", ...",
          "executable": false
        },
        "276": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  current_describe_block = block",
          "executable": true
        },
        "176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Run tests related to file operations",
          "executable": false
        },
        "259": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    parent = current_describe_block,",
          "executable": true
        },
        "776": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Reset between individual test files",
          "executable": false
        },
        "676": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "576": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "476": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Test skipped: \" .. name, {",
          "executable": true
        },
        "787": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  level = 0",
          "executable": true
        },
        "765": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Reset the test state",
          "executable": false
        },
        "720": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Teardown hooks run in reverse hierarchical ord...",
          "executable": false
        },
        "876": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Custom test reporter",
          "executable": false
        },
        "230": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     it(\"should read binary files\", function() ...",
          "executable": false
        },
        "130": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Only run tests tagged with \"integration\"",
          "executable": false
        },
        "781": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "681": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- describe(\"Database operations\", function()",
          "executable": false
        },
        "775": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "774": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- require(\"my_test_suite\")",
          "executable": false
        },
        "128": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "359": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Create a test case",
          "executable": false
        },
        "90": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param defaults table The default options to us...",
          "executable": false
        },
        "538": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Handle test errors",
          "executable": false
        },
        "175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "768": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It's typically called between test suite runs ...",
          "executable": false
        },
        "557": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.info(\"Test passed with expected error...",
          "executable": true
        },
        "657": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "357": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M.describe(name, fn, {excluded = true})",
          "executable": true
        },
        "457": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "157": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local new_tags = {...}",
          "executable": true
        },
        "257": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local block = {",
          "executable": true
        },
        "858": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "758": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     print(\"Warning: Cleanup failed - \" .. tost...",
          "executable": false
        },
        "286": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not should_skip_block then",
          "executable": true
        },
        "386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   timeout = 1000 -- milliseconds",
          "executable": false
        },
        "766": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function completely resets the internal s...",
          "executable": false
        },
        "186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "686": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "786": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.reset()",
          "executable": true
        },
        "486": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local test_start_time = os.clock()",
          "executable": true
        },
        "586": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "764": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "453": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local current = current_describe_block",
          "executable": true
        },
        "886": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "593": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param name string Name of the test case",
          "executable": false
        },
        "759": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "757": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   if not success then",
          "executable": false
        },
        "756": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   ",
          "executable": false
        },
        "755": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "754": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     end",
          "executable": false
        },
        "753": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       end",
          "executable": false
        },
        "752": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---         os.remove(file)",
          "executable": false
        },
        "751": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       for _, file in ipairs(temp_files) do",
          "executable": false
        },
        "749": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     if connection then connection:close() end",
          "executable": false
        },
        "748": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local success, err = pcall(function()",
          "executable": false
        },
        "747": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Always perform cleanup even if the test f...",
          "executable": false
        },
        "746": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- after(function()",
          "executable": false
        },
        "623": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "723": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param fn function Hook function to execute aft...",
          "executable": false
        },
        "823": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     print(string.format(\"FAILURE: %s - %s\", ",
          "executable": false
        },
        "923": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      status_color,",
          "executable": true
        },
        "741": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     expect(read_file(temp_file)).to.equal(\"con...",
          "executable": false
        },
        "184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- implemented or is temporarily disabled. Pendin...",
          "executable": false
        },
        "738": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   ",
          "executable": false
        },
        "737": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "736": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     delete_file(temp_file)",
          "executable": false
        },
        "734": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   after(function()",
          "executable": false
        },
        "733": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   ",
          "executable": false
        },
        "123": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This provides a way to selectively run subsets...",
          "executable": false
        },
        "223": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "323": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "423": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local test_tags = {}",
          "executable": true
        },
        "523": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      path = path,",
          "executable": true
        },
        "275": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local previous_describe_block = current_describe...",
          "executable": true
        },
        "375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Test with options",
          "executable": false
        },
        "731": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     temp_file = create_temp_file()",
          "executable": false
        },
        "134": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- firmo.only_tags(\"fast\", \"critical\")",
          "executable": false
        },
        "234": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     it(\"should write text files\", function() e...",
          "executable": false
        },
        "334": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This is useful for temporarily disabling a gro...",
          "executable": false
        },
        "475": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Log as skipped with proper structure",
          "executable": false
        },
        "534": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      test_result = result",
          "executable": true
        },
        "398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "298": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return firmo.pending(\"Waiting for optimizati...",
          "executable": false
        },
        "659": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Determine if first argument is options or fun...",
          "executable": false
        },
        "798": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test_blocks = {}",
          "executable": true
        },
        "698": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     -- This runs first for all tests in this a...",
          "executable": false
        },
        "598": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Only this test will run (and any other focu...",
          "executable": false
        },
        "498": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for i = 1, level do",
          "executable": true
        },
        "337": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param name string Name of the test group",
          "executable": false
        },
        "437": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for _, tag in ipairs(current_tags) do",
          "executable": true
        },
        "537": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "637": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param fn? function Test function if options we...",
          "executable": false
        },
        "402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    focused = false,",
          "executable": true
        },
        "302": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  current_describe_block = previous_describe_block",
          "executable": true
        },
        "137": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "502": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "725": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "724": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "133": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Run tests tagged with either \"fast\" or \"cri...",
          "executable": false
        },
        "237": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "333": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function creates a test group that will b...",
          "executable": false
        },
        "233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   describe(\"Writing files\", function()",
          "executable": false
        },
        "533": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      test_path = table.concat(path, \" / \"),",
          "executable": true
        },
        "433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(test_tags, tag)",
          "executable": true
        },
        "385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- it(\"should complete within time limit\", {",
          "executable": false
        },
        "285": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- than failures, making it clear they are intent...",
          "executable": false
        },
        "941": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Initialize and return the module",
          "executable": false
        },
        "785": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- firmo.run()",
          "executable": false
        },
        "685": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     db.clear_test_data()",
          "executable": false
        },
        "585": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "485": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Run test with proper error handling",
          "executable": false
        },
        "715": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.insert(befores[level], fn)",
          "executable": true
        },
        "712": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return message",
          "executable": true
        },
        "102": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param test_tags table Array of tags applied to...",
          "executable": false
        },
        "241": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local focused = options.focused or false",
          "executable": true
        },
        "341": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- This entire group of tests will be skipped",
          "executable": false
        },
        "441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Skip if test doesn't have required tags",
          "executable": false
        },
        "541": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param message? string Optional message explain...",
          "executable": false
        },
        "812": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- print(string.format(\"Tests: %d passed, %d fail...",
          "executable": false
        },
        "387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- }, function()",
          "executable": false
        },
        "287": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Execute the test group function to register...",
          "executable": false
        },
        "312": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "487": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local success, err = error_handler.try(function(...",
          "executable": true
        },
        "512": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "612": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   expect(complex_operation()).to.be_truthy()",
          "executable": false
        },
        "636": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param options_or_fn table|function Options tab...",
          "executable": false
        },
        "536": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end)",
          "executable": true
        },
        "436": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add tags from current context",
          "executable": false
        },
        "336": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "236": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "136": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  active_tags = {...}",
          "executable": true
        },
        "404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    expect_error = false,",
          "executable": true
        },
        "706": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     end)",
          "executable": false
        },
        "355": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "455": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(path, 1, current.name)",
          "executable": true
        },
        "555": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "655": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- it(\"working feature\", function()",
          "executable": false
        },
        "454": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  while current do",
          "executable": true
        },
        "554": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "254": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "255": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "438": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(test_tags, tag)",
          "executable": true
        },
        "338": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param fn function Function containing the test...",
          "executable": false
        },
        "151": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   ",
          "executable": false
        },
        "212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param options? {focused?: boolean, excluded?: ...",
          "executable": false
        },
        "351": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "251": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local previous_tags = {}",
          "executable": true
        },
        "238": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.describe(name, fn, options)",
          "executable": true
        },
        "451": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Record test path",
          "executable": false
        },
        "297": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    fn = options_or_fn",
          "executable": true
        },
        "705": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       setup_child_resources()",
          "executable": false
        },
        "197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- it(\"should optimize for large datasets\", funct...",
          "executable": false
        },
        "697": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   before(function()",
          "executable": false
        },
        "797": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  skipped = 0",
          "executable": true
        },
        "497": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Run before hooks for each level",
          "executable": false
        },
        "597": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "546": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        name = name,",
          "executable": true
        },
        "646": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- You can still provide options for future re...",
          "executable": false
        },
        "346": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   ",
          "executable": false
        },
        "446": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Skip if name doesn't match pattern",
          "executable": false
        },
        "146": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "246": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    focus_mode = true",
          "executable": true
        },
        "700": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "699": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     setup_parent_resources()",
          "executable": false
        },
        "465": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = M.add_test_result({",
          "executable": true
        },
        "365": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param name string Name of the test case",
          "executable": false
        },
        "124": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- \"integration\" or \"performance\" tests.",
          "executable": false
        },
        "565": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local result = M.add_test_result({",
          "executable": true
        },
        "324": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "224": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "265": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "424": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add tags from current describe block",
          "executable": false
        },
        "348": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     -- Incomplete test",
          "executable": false
        },
        "448": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    should_skip = true",
          "executable": true
        },
        "548": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        path_string = table.concat(path, \" / \"),",
          "executable": true
        },
        "648": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   timeout = 5000,",
          "executable": false
        },
        "421": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "521": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      status = TEST_STATUS.PASS,",
          "executable": true
        },
        "221": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   it(\"should reject invalid credentials\", func...",
          "executable": false
        },
        "248": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "696": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- describe(\"Parent suite\", function()",
          "executable": false
        },
        "377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   expect_error = true,",
          "executable": false
        },
        "693": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "96": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    result[k] = options[k] ~= nil and options[k] o...",
          "executable": true
        },
        "563": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "663": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    options.excluded = true",
          "executable": true
        },
        "763": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.insert(afters[level], fn)",
          "executable": true
        },
        "863": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.set_debug_mode(value)",
          "executable": true
        },
        "163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Tests with names that don't match the pattern ...",
          "executable": false
        },
        "263": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    tags = {},",
          "executable": true
        },
        "363": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- such as focusing, skipping, or expecting error...",
          "executable": false
        },
        "463": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if should_skip then",
          "executable": true
        },
        "687": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   ",
          "executable": false
        },
        "551": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        options = options,",
          "executable": true
        },
        "101": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Check if a test has any of the required tags",
          "executable": false
        },
        "167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table The module instance for method ch...",
          "executable": false
        },
        "179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  filter_pattern = pattern",
          "executable": true
        },
        "274": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Save previous describe block and set current",
          "executable": false
        },
        "374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "474": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "579": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        test_name = name,",
          "executable": true
        },
        "479": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      test_result = result",
          "executable": true
        },
        "779": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   dofile(file)",
          "executable": false
        },
        "679": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "131": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- firmo.only_tags(\"integration\")",
          "executable": false
        },
        "879": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     if result.status == \"pass\" then",
          "executable": false
        },
        "674": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Setup hooks run in hierarchical order, with pa...",
          "executable": false
        },
        "665": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    fn = options_or_fn",
          "executable": true
        },
        "531": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger.info(\"Test passed: \" .. name, {",
          "executable": true
        },
        "431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Add tags from options",
          "executable": false
        },
        "331": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "152": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   it(\"should connect to database\", function()",
          "executable": false
        },
        "529": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "54": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local passes = 0",
          "executable": true
        },
        "667": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "673": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- within the current describe block, including t...",
          "executable": false
        },
        "573": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error = err,",
          "executable": true
        },
        "873": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return TestResult|nil The added test result or...",
          "executable": false
        },
        "773": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- firmo.reset()",
          "executable": false
        },
        "273": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Only run tests that start with \"should\"",
          "executable": false
        },
        "473": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "830": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    passes = passes,",
          "executable": true
        },
        "730": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   before(function()",
          "executable": false
        },
        "630": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Create a skipped test case",
          "executable": false
        },
        "530": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Log pass with proper structure",
          "executable": false
        },
        "249": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Save previous tags and level",
          "executable": false
        },
        "349": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "654": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Regular tests continue to run",
          "executable": false
        },
        "149": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- describe(\"Database operations\", function()",
          "executable": false
        },
        "544": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local result = M.add_test_result({",
          "executable": true
        },
        "444": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "449": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "244": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Update focus mode if this is a focused descri...",
          "executable": false
        },
        "181": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "281": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Increase level and ensure hooks tables exist",
          "executable": false
        },
        "381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- This test passes if an error is thrown",
          "executable": false
        },
        "481": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "653": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "652": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "651": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Test that will be skipped",
          "executable": false
        },
        "649": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   tags = {\"integration\", \"database\"}",
          "executable": false
        },
        "843": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- When debug mode is enabled, the system will pr...",
          "executable": false
        },
        "641": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- xit(\"incomplete feature\", function()",
          "executable": false
        },
        "643": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   expect(unfinished_feature()).to.work()",
          "executable": false
        },
        "743": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "638": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "634": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "633": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- broken, incomplete, or not relevant to the cur...",
          "executable": false
        },
        "631": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function creates a test case that will be...",
          "executable": false
        },
        "629": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "143": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "625": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    options = {focused = true}",
          "executable": true
        },
        "624": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    fn = options_or_fn",
          "executable": true
        },
        "443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    should_skip = true",
          "executable": true
        },
        "543": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Test expects an error, so this is a pass",
          "executable": false
        },
        "243": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "343": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   it(\"has tests that aren't ready yet\", functi...",
          "executable": false
        },
        "394": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(options_or_fn) == \"table\" then",
          "executable": true
        },
        "494": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "159": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "500": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        hook()",
          "executable": true
        },
        "691": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     expect(db.count()).to.equal(1)",
          "executable": false
        },
        "591": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- or debugging without having to run the entire ...",
          "executable": false
        },
        "559": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        test_path = table.concat(path, \" / \"),",
          "executable": true
        },
        "459": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "291": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.error(\"Error in describe block: \" .. ...",
          "executable": true
        },
        "191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Mark a test as pending without a message",
          "executable": false
        },
        "491": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        type = \"test\",",
          "executable": true
        },
        "391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.it(name, options_or_fn, fn)",
          "executable": true
        },
        "621": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    options = options_or_fn",
          "executable": true
        },
        "553": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error = err, -- Store the error for inspec...",
          "executable": true
        },
        "615": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Set focus mode",
          "executable": false
        },
        "174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- firmo.filter_pattern(\"^should\")",
          "executable": false
        },
        "462": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "362": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- being tested. Tests can have options for contr...",
          "executable": false
        },
        "262": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    parent_focused = parent_focused,",
          "executable": true
        },
        "162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function specifies a Lua pattern that tes...",
          "executable": false
        },
        "606": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "605": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- it(\"regular test that will be skipped\", functi...",
          "executable": false
        },
        "602": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "600": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Test implementation",
          "executable": false
        },
        "153": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     -- This test will have both \"integration\" ...",
          "executable": false
        },
        "599": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- fit(\"should properly handle the edge case\", fu...",
          "executable": false
        },
        "596": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- }, function()",
          "executable": false
        },
        "200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.pending(message)",
          "executable": true
        },
        "300": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  level = previous_level",
          "executable": true
        },
        "353": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- describe(\"Stable module\", function()",
          "executable": false
        },
        "253": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    previous_tags[i] = v",
          "executable": true
        },
        "264": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This allows for focusing on specific types of ...",
          "executable": false
        },
        "464": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Record this test as skipped with structured...",
          "executable": false
        },
        "364": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "761": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.after(fn)",
          "executable": true
        },
        "861": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Disable debug mode when done troubleshootin...",
          "executable": false
        },
        "561": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        expect_error = true",
          "executable": true
        },
        "661": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(options_or_fn) == \"table\" then",
          "executable": true
        },
        "361": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Each test contains assertions that verify spec...",
          "executable": false
        },
        "461": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.insert(test_paths, path)",
          "executable": true
        },
        "161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Set a filter pattern for test names",
          "executable": false
        },
        "261": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    excluded = excluded,",
          "executable": true
        },
        "862": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- firmo.set_debug_mode(false)",
          "executable": false
        },
        "762": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  afters[level] = afters[level] or {}",
          "executable": true
        },
        "662": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    options = options_or_fn",
          "executable": true
        },
        "562": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   expect(1 + 2).to.equal(3)",
          "executable": false
        },
        "472": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      reason = \"Test skipped due to filtering or t...",
          "executable": true
        },
        "172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "272": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local should_skip_block = not has_required_tags(...",
          "executable": true
        },
        "267": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for i, v in ipairs(current_tags) do",
          "executable": true
        },
        "581": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        test_result = result,",
          "executable": true
        },
        "575": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "574": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error_message = error_handler.format_error...",
          "executable": true
        },
        "920": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "524": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      path_string = table.concat(path, \" / \"),",
          "executable": true
        },
        "567": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        name = name,",
          "executable": true
        },
        "564": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Unexpected error, test fails",
          "executable": false
        },
        "520": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local result = M.add_test_result({",
          "executable": true
        },
        "620": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(options_or_fn) == \"table\" then",
          "executable": true
        },
        "684": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     db.connect()",
          "executable": false
        },
        "584": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param name string Name of the test group",
          "executable": false
        },
        "110": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, test_tag in ipairs(test_tags) do",
          "executable": true
        },
        "410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local should_skip = false",
          "executable": true
        },
        "310": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param name string Name of the test group",
          "executable": false
        },
        "871": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "771": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "671": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Add a setup hook for the current block",
          "executable": false
        },
        "571": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        timestamp = os.time(),",
          "executable": true
        },
        "471": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options = options,",
          "executable": true
        },
        "371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- it(\"should add two numbers correctly\", functio...",
          "executable": false
        },
        "271": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if block should be skipped based on tag...",
          "executable": false
        },
        "171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- firmo.filter_pattern(\"parse\")",
          "executable": false
        },
        "772": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Reset before running a new test suite",
          "executable": false
        },
        "872": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param result TestResult The test result object...",
          "executable": false
        },
        "572": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        options = options,",
          "executable": true
        },
        "672": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function registers a setup function that ...",
          "executable": false
        },
        "282": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  level = level + 1",
          "executable": true
        },
        "182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Mark a test as pending",
          "executable": false
        },
        "482": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return",
          "executable": true
        },
        "382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "100": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Tag validation and management",
          "executable": false
        },
        "169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Describe blocks can be nested to create a tree...",
          "executable": false
        },
        "412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Skip if exclude flag is set",
          "executable": false
        },
        "165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "870": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- but can also be used by test reporters or exte...",
          "executable": false
        },
        "770": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "670": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "794": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  current_describe_block = nil",
          "executable": true
        },
        "894": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   path_string = \"External / Integration / API ...",
          "executable": false
        },
        "594": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param options_or_fn table|function Options tab...",
          "executable": false
        },
        "694": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "120": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Set active tags for test filtering",
          "executable": false
        },
        "384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Test with timeout",
          "executable": false
        },
        "389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   expect(operation_completed).to.be_truthy()",
          "executable": false
        },
        "489": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if temp_file and temp_file.set_current_test_co...",
          "executable": true
        },
        "189": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "289": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not success then",
          "executable": true
        },
        "344": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     -- Incomplete test",
          "executable": false
        },
        "354": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   it(\"runs normally\", function() end)",
          "executable": false
        },
        "141": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Tags can be used to categorize tests and later...",
          "executable": false
        },
        "112": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return true",
          "executable": true
        },
        "155": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "154": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "682": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   before(function()",
          "executable": false
        },
        "582": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error_message = error_handler.format_error...",
          "executable": true
        },
        "789": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  afters = {}",
          "executable": true
        },
        "782": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Reset with custom configuration",
          "executable": false
        },
        "192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- it(\"should handle edge cases\", function()",
          "executable": false
        },
        "292": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        block_name = name,",
          "executable": true
        },
        "392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Determine if first argument is options or fun...",
          "executable": false
        },
        "492": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        name = name,",
          "executable": true
        },
        "783": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- firmo.reset()",
          "executable": false
        },
        "883": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     else",
          "executable": false
        },
        "583": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "683": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     -- Setup code that runs before each test i...",
          "executable": false
        },
        "383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "483": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function is used within test cases to ind...",
          "executable": false
        },
        "283": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  befores[level] = befores[level] or {}",
          "executable": true
        },
        "740": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     write_to_file(temp_file, \"content\")",
          "executable": false
        },
        "840": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local debug_mode = false",
          "executable": true
        },
        "540": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local execution_time = os.clock() - test_start...",
          "executable": true
        },
        "640": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- This test will be skipped",
          "executable": false
        },
        "430": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "330": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M.describe(name, fn, {focused = true})",
          "executable": true
        },
        "499": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for _, hook in ipairs(befores[i] or {}) do",
          "executable": true
        },
        "399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "299": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Restore previous state",
          "executable": false
        },
        "199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "44": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field FAIL string Test failed",
          "executable": false
        },
        "34": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local befores = {}",
          "executable": true
        },
        "24": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field xdescribe fun(name: string, fn: function...",
          "executable": false
        },
        "55": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local errors = 0",
          "executable": true
        },
        "75": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local logging = require(\"lib.tools.logging\")",
          "executable": true
        },
        "85": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Try to load temp_file module for test isolation",
          "executable": false
        },
        "592": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "692": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "792": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  filter_pattern = nil",
          "executable": true
        },
        "799": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test_paths = {}",
          "executable": true
        },
        "122": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Tests without at least one of the specified ta...",
          "executable": false
        },
        "326": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- describe(\"Other module\", function()",
          "executable": false
        },
        "294": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "522": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      name = name,",
          "executable": true
        },
        "422": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Skip if tags don't match",
          "executable": false
        },
        "322": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end)",
          "executable": false
        },
        "222": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     -- test implementation",
          "executable": false
        },
        "493": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        path = table.concat(path, \" / \"),",
          "executable": true
        },
        "393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local options = {}",
          "executable": true
        },
        "293": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        level = level,",
          "executable": true
        },
        "193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return firmo.pending()",
          "executable": false
        },
        "610": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   tags = {\"important\", \"edge-case\"}",
          "executable": false
        },
        "510": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        hook()",
          "executable": true
        },
        "810": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get test statistics",
          "executable": false
        },
        "710": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     end)",
          "executable": false
        },
        "340": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@usage",
          "executable": false
        },
        "440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "140": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function applies tags to the current test...",
          "executable": false
        },
        "240": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local parent_focused = options._parent_focused o...",
          "executable": true
        },
        "414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    should_skip = true",
          "executable": true
        },
        "415": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "138": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "922": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    print(string.format(\"ADD RESULT: %s[%s]\\27[0m ...",
          "executable": true
        },
        "822": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   if result.status == \"fail\" then",
          "executable": false
        },
        "722": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "622": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    options.focused = true",
          "executable": true
        },
        "467": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      name = name,",
          "executable": true
        },
        "367": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param fn? function Test function if options we...",
          "executable": false
        },
        "484": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "115": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        }
      },
      "line_coverage_percent": 1,
      "covered_lines": 5,
      "executed_lines": 5,
      "executed_functions": 0,
      "covered_functions": 0,
      "name": "test_definition.lua",
      "function_coverage_percent": 0,
      "path": "./lib/core/test_definition.lua"
    },
    "./lib/core/central_config.lua": {
      "execution_coverage_percent": 3,
      "functions": {
        "get:299-367": {
          "covered": true,
          "executed": true,
          "start_line": 299,
          "execution_count": 1,
          "name": "get",
          "type": "closure",
          "end_line": 367
        },
        "path_to_parts:76-87": {
          "covered": true,
          "executed": true,
          "start_line": 76,
          "execution_count": 1,
          "name": "path_to_parts",
          "type": "closure",
          "end_line": 87
        }
      },
      "total_lines": 1850,
      "executable_lines": 1155,
      "total_functions": 2,
      "lines": {
        "1335": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(\"debug\", \"Config file loaded successfully\", ...",
          "executable": true
        },
        "132": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function log(level, message, params)",
          "executable": true
        },
        "1575": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(\"info\", \"Reset configuration for module to d...",
          "executable": true
        },
        "432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "532": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log(\"debug\", err.message, context)",
          "executable": true
        },
        "232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "332": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "660": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "760": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "860": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return keys",
          "executable": true
        },
        "960": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   else",
          "executable": false
        },
        "1261": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "150": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        source_type = type(source),",
          "executable": true
        },
        "350": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- central_config.set({",
          "executable": false
        },
        "250": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "550": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "450": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- a boolean indicating success or failure and an...",
          "executable": false
        },
        "832": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "932": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "632": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- all applicable listeners, including those regi...",
          "executable": false
        },
        "732": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  path = path or M.DEFAULT_CONFIG_PATH",
          "executable": true
        },
        "142": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table|nil merged The merged table",
          "executable": false
        },
        "201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      result[k] = deep_copy(v)",
          "executable": true
        },
        "342": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- central_config.set(\"database.connection\", {",
          "executable": false
        },
        "242": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path? string The path to get the value ...",
          "executable": false
        },
        "542": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local context = {",
          "executable": true
        },
        "442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    M.notify_change(path, old_value, value)",
          "executable": true
        },
        "701": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local parent_path = table.concat(parts, \".\")",
          "executable": true
        },
        "801": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   retry_delay = 1000",
          "executable": false
        },
        "901": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- If value exists and is not a table, k...",
          "executable": false
        },
        "301": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          error_handler.validation_error(\"Path tra...",
          "executable": true
        },
        "401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "501": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Ca...",
          "executable": true
        },
        "601": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "1455": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local serialized_value, err = serialize(v,...",
          "executable": true
        },
        "160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        target_type = type(target),",
          "executable": true
        },
        "260": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- With error handling",
          "executable": false
        },
        "360": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   .set(\"cache.storage\", \"memory\")",
          "executable": false
        },
        "460": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Failed to delete config: \" .. (err an...",
          "executable": false
        },
        "560": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    path = path,",
          "executable": true
        },
        "742": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            changed_path = path,",
          "executable": true
        },
        "642": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Example of manual notification:",
          "executable": false
        },
        "942": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "842": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(schema) ~= \"table\" then",
          "executable": true
        },
        "215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if a == b then",
          "executable": true
        },
        "315": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        local err = error_handler.validation_error...",
          "executable": true
        },
        "211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean Whether the values are deeply e...",
          "executable": false
        },
        "111": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not _logging then",
          "executable": true
        },
        "252": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local database_config = central_config.get(\"da...",
          "executable": false
        },
        "352": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   app = { name = \"MyApp\", version = \"1.0.0\" },",
          "executable": false
        },
        "452": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string The path to delete the valu...",
          "executable": false
        },
        "552": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    current[last_key] = nil",
          "executable": true
        },
        "880": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Make sure the module's config section exi...",
          "executable": false
        },
        "980": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log(\"debug\", \"No schema registered for modul...",
          "executable": true
        },
        "680": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            listener_index = i,",
          "executable": true
        },
        "780": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     format = \"string\",",
          "executable": false
        },
        "411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "311": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      log(\"debug\", \"Path not found\", context)",
          "executable": true
        },
        "611": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "511": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Navigate to parent",
          "executable": false
        },
        "170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if err then",
          "executable": true
        },
        "1061": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if schema.field_patterns then",
          "executable": true
        },
        "1021": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              expected = expected_type,",
          "executable": true
        },
        "470": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local function safe_delete(path)",
          "executable": false
        },
        "370": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "270": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Pa...",
          "executable": true
        },
        "652": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if path == nil or type(path) ~= \"string\" then",
          "executable": true
        },
        "752": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "852": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log(\"debug\", \"Registered schema for module\",...",
          "executable": true
        },
        "952": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     end",
          "executable": false
        },
        "1606": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.configure_from_options(opts)",
          "executable": false
        },
        "325": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "225": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false",
          "executable": true
        },
        "525": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if current == nil then",
          "executable": true
        },
        "425": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  ---@diagnostic disable-next-line: need-check-nil",
          "executable": false
        },
        "129": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param message string The log message",
          "executable": false
        },
        "229": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for k in pairs(b) do",
          "executable": true
        },
        "329": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- it makes a deep copy to prevent unintended mod...",
          "executable": false
        },
        "429": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    parent[last_key] = deep_copy(value)",
          "executable": true
        },
        "750": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            listener_index = i,",
          "executable": true
        },
        "650": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.notify_change(path, old_value, new_valu...",
          "executable": true
        },
        "950": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     for _, field_err in ipairs(module_errors) ...",
          "executable": false
        },
        "850": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1275": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return fs.file_exists(path)",
          "executable": true
        },
        "125": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return _fs",
          "executable": true
        },
        "180": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      target[k] = v",
          "executable": true
        },
        "480": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "580": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.on_change(\"logging.level\", func...",
          "executable": false
        },
        "280": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return deep_copy(config.values)",
          "executable": true
        },
        "380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "1306": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      path = path,",
          "executable": true
        },
        "639": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "539": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local old_value = current[last_key]",
          "executable": true
        },
        "839": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "739": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end)",
          "executable": true
        },
        "239": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- modification of configuration data. If the pat...",
          "executable": false
        },
        "139": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@private",
          "executable": false
        },
        "439": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "339": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- central_config.set(\"logging.level\", \"debug\")",
          "executable": false
        },
        "1083": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  field = field,",
          "executable": true
        },
        "1252": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "490": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, err",
          "executable": true
        },
        "390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Empty path parts (shouldn't normally happen...",
          "executable": false
        },
        "690": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          path = path,",
          "executable": true
        },
        "590": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "929": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_name? string The name of the mod...",
          "executable": false
        },
        "1155": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if value ~= nil then",
          "executable": true
        },
        "290": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local context = {",
          "executable": true
        },
        "190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Input validation",
          "executable": false
        },
        "709": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            log(\"error\", \"Error in parent change l...",
          "executable": true
        },
        "809": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     port = \"number\",",
          "executable": false
        },
        "509": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local last_key = parts[#parts]",
          "executable": true
        },
        "609": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "309": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        failed_at = table.concat(parts, \".\", 1, i)...",
          "executable": true
        },
        "1017": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if module_config[field] ~= nil and type(...",
          "executable": true
        },
        "109": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Get the logging module, loading it if necessary",
          "executable": false
        },
        "209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param a any First value to compare",
          "executable": false
        },
        "1183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1754": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local nil_copy = central_config.serialize(nil)...",
          "executable": false
        },
        "1263": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local fs = get_fs()",
          "executable": true
        },
        "1164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                })",
          "executable": true
        },
        "1055": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "939": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     print(\"  - \" .. field_err.field .. \": \" .....",
          "executable": false
        },
        "819": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      parameter_name = \"module_name\",",
          "executable": true
        },
        "719": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              changed_path = path,",
          "executable": true
        },
        "619": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "519": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "319": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(a) ~= \"table\" or type(b) ~= \"table\" then",
          "executable": true
        },
        "119": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Get the filesystem module, loading it if necess...",
          "executable": false
        },
        "103": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return current",
          "executable": true
        },
        "203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      result[k] = v",
          "executable": true
        },
        "1755": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M.serialize = function(obj)",
          "executable": true
        },
        "1034": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "1052": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  value = value,",
          "executable": true
        },
        "903": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "703": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for i, callback in ipairs(config.listeners[p...",
          "executable": true
        },
        "803": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "503": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      path = path,",
          "executable": true
        },
        "603": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "303": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the last part (key to set)",
          "executable": false
        },
        "1675": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     format = \"text\",",
          "executable": false
        },
        "890": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              target[k] = v -- Direct assignment f...",
          "executable": true
        },
        "790": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Default values",
          "executable": false
        },
        "990": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Basic structural validation (check required...",
          "executable": false
        },
        "213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function deep_equals(a, b)",
          "executable": true
        },
        "113": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    _logging = success and logging or nil",
          "executable": true
        },
        "1129": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  valid_values = valid_values,",
          "executable": true
        },
        "1352": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local new_prefix = prefix == \"\" and k or (...",
          "executable": true
        },
        "913": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "813": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   }",
          "executable": false
        },
        "713": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              traceback = err.traceback,",
          "executable": true
        },
        "613": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(callback) ~= \"function\" then",
          "executable": true
        },
        "513": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for i, part in ipairs(parts) do",
          "executable": true
        },
        "413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    parent = config.values",
          "executable": true
        },
        "313": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        return default",
          "executable": true
        },
        "39": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M._VERSION = \"0.3.0\"",
          "executable": true
        },
        "29": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field configure_from_options fun(options: tabl...",
          "executable": false
        },
        "19": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get fun(path?: string, default?: any): a...",
          "executable": false
        },
        "79": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param t table The table to ensure path in",
          "executable": false
        },
        "69": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not path or path == \"\" then",
          "executable": true
        },
        "59": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  VALIDATION = error_handler.CATEGORY.VALIDATION, ...",
          "executable": true
        },
        "49": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function init_config()",
          "executable": true
        },
        "99": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "89": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        target_type = type(t),",
          "executable": true
        },
        "1229": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not config then",
          "executable": false
        },
        "1490": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "18": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@class central_config",
          "executable": false
        },
        "28": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field reset fun(module_name?: string): central...",
          "executable": false
        },
        "1141": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        log(\"warn\", \"Invalid schema.validators for...",
          "executable": true
        },
        "78": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@private",
          "executable": false
        },
        "88": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_handler.validation_error(\"Target must ...",
          "executable": true
        },
        "98": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        current[part] = {} -- Convert to table if ...",
          "executable": true
        },
        "38": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Module version",
          "executable": false
        },
        "48": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Initialize empty config storage",
          "executable": false
        },
        "58": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M.ERROR_TYPES = {",
          "executable": true
        },
        "68": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function path_to_parts(path)",
          "executable": true
        },
        "1590": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function applies configuration values fro...",
          "executable": false
        },
        "888": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              target[k] = deep_copy(v) -- Use deep...",
          "executable": true
        },
        "988": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "27": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field save_to_file fun(path?: string): boolean...",
          "executable": false
        },
        "17": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local error_handler = require(\"lib.tools.error_han...",
          "executable": true
        },
        "87": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return nil,",
          "executable": true
        },
        "77": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "97": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(current[part]) ~= \"table\" then",
          "executable": true
        },
        "47": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@private",
          "executable": false
        },
        "37": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local M = {}",
          "executable": true
        },
        "67": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Helper for generating pathed keys (a.b.c -> [\"a...",
          "executable": false
        },
        "57": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Error categories mapping to error_handler categ...",
          "executable": false
        },
        "1156": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              local success, result, message = err...",
          "executable": true
        },
        "1702": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      target[k] = merged_value",
          "executable": true
        },
        "378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        operation = \"set\",",
          "executable": true
        },
        "278": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Return all config if no path specified",
          "executable": false
        },
        "578": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "478": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "778": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   field_types = {",
          "executable": false
        },
        "678": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            error = err.message,",
          "executable": true
        },
        "16": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Directly require error_handler to ensure it's a...",
          "executable": false
        },
        "26": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field load_from_file fun(path?: string): table...",
          "executable": false
        },
        "1009": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if schema.field_types then",
          "executable": true
        },
        "96": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      current[part] = current[part] or {}",
          "executable": true
        },
        "76": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return parts",
          "executable": true
        },
        "86": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if not t or type(t) ~= \"table\" then",
          "executable": true
        },
        "56": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M.DEFAULT_CONFIG_PATH = \".firmo-config.lua\"",
          "executable": true
        },
        "66": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return string[] Array of path segments",
          "executable": false
        },
        "36": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Module table",
          "executable": false
        },
        "46": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Save after making changes",
          "executable": false
        },
        "188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Deep copy helper",
          "executable": false
        },
        "288": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for i, part in ipairs(parts) do",
          "executable": true
        },
        "388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local parts = path_to_parts(path)",
          "executable": true
        },
        "488": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "588": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   if path:match(\"database.connection\") then",
          "executable": false
        },
        "688": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "788": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   }",
          "executable": false
        },
        "25": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field validate fun(module_name?: string): bool...",
          "executable": false
        },
        "15": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @author Firmo Team",
          "executable": false
        },
        "1076": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local value = module_config[field]",
          "executable": true
        },
        "1670": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1630": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "1593": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- safely applies each valid option, logging warn...",
          "executable": false
        },
        "1048": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  field = field,",
          "executable": true
        },
        "196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil",
          "executable": true
        },
        "95": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if i < #parts then",
          "executable": true
        },
        "396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        type = type(value),",
          "executable": true
        },
        "296": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log(\"debug\", \"Path traversal failed at part\"...",
          "executable": true
        },
        "65": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param path string|nil The dot-separated path t...",
          "executable": false
        },
        "496": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "796": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "696": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "996": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "896": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            })",
          "executable": true
        },
        "327": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- This function stores a value in the configurat...",
          "executable": false
        },
        "227": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "927": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- range validation, pattern matching, enum value...",
          "executable": false
        },
        "827": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Mo...",
          "executable": true
        },
        "727": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            listener_index = i,",
          "executable": true
        },
        "627": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(\"debug\", \"Registered change listener\", { pat...",
          "executable": true
        },
        "127": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@private",
          "executable": false
        },
        "24": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field register_module fun(module_name: string,...",
          "executable": false
        },
        "405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.remove(parts, #parts)",
          "executable": true
        },
        "305": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    current = current[part]",
          "executable": true
        },
        "205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "905": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      apply_defaults(config.values[module_name], d...",
          "executable": true
        },
        "805": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.register_module(\"database\", {",
          "executable": false
        },
        "705": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          local success, err = error_handler.try(f...",
          "executable": true
        },
        "94": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for i, part in ipairs(parts) do",
          "executable": true
        },
        "1541": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "105": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Lazy loading of dependencies to avoid circular ...",
          "executable": false
        },
        "14": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @version 0.3.0",
          "executable": false
        },
        "9": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - File-based persistence with load/save capabi...",
          "executable": false
        },
        "1402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "5": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Hierarchical configuration with dot-notation...",
          "executable": false
        },
        "6": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Schema validation for type safety and consis...",
          "executable": false
        },
        "7": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Change listeners with hierarchical notificat...",
          "executable": false
        },
        "8": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Default values with automatic application",
          "executable": false
        },
        "1": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Centralized configuration module for firmo",
          "executable": false
        },
        "2": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Provides a global configuration store with sta...",
          "executable": false
        },
        "3": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "4": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Features:",
          "executable": false
        },
        "33": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field DEFAULT_CONFIG_PATH string The default c...",
          "executable": false
        },
        "23": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field notify_change fun(path: string, old_valu...",
          "executable": false
        },
        "53": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  config.defaults = {}",
          "executable": true
        },
        "43": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  schemas = {}, -- Registered schemas by module",
          "executable": true
        },
        "73": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for part in string.gmatch(path, \"[^.]+\") do",
          "executable": true
        },
        "63": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "93": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local current = t",
          "executable": true
        },
        "83": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "-- Create value at path",
          "executable": false
        },
        "1595": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param options table Table of options from CLI...",
          "executable": false
        },
        "13": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "307": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      local context = {",
          "executable": true
        },
        "207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "507": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local parent",
          "executable": true
        },
        "707": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end)",
          "executable": true
        },
        "607": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      provided_type = type(path),",
          "executable": true
        },
        "907": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        module = module_name,",
          "executable": true
        },
        "807": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   field_types = {",
          "executable": false
        },
        "1829": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      field_types = {",
          "executable": true
        },
        "107": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@private",
          "executable": false
        },
        "42": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  values = {}, -- Main configuration values",
          "executable": true
        },
        "52": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  config.listeners = {}",
          "executable": true
        },
        "22": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field on_change fun(path: string, callback: fu...",
          "executable": false
        },
        "32": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field merge fun(target: table, source: table):...",
          "executable": false
        },
        "82": {
          "covered": false,
          "executed": true,
          "execution_count": 3,
          "line_type": "comment",
          "content": "---@return table|nil error The error if any occurr...",
          "executable": false
        },
        "92": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "62": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  PARSE = error_handler.CATEGORY.PARSE, -- Config ...",
          "executable": true
        },
        "72": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local parts = {}",
          "executable": true
        },
        "1850": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "return init()",
          "executable": true
        },
        "1849": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1848": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "12": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Lazy loading of dependencies to avoid circul...",
          "executable": false
        },
        "1847": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1846": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Return module anyway to prevent crashes",
          "executable": false
        },
        "417": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(parent[part]) ~= \"table\" then",
          "executable": true
        },
        "517": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        failed_at = table.concat(parts, \".\", 1, i)...",
          "executable": true
        },
        "217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "317": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "817": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(module_name) ~= \"string\" then",
          "executable": true
        },
        "917": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        ),",
          "executable": true
        },
        "617": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"on_change\",",
          "executable": true
        },
        "717": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            log(\"debug\", \"Successfully called pare...",
          "executable": true
        },
        "925": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- their registered schemas. It can validate a sp...",
          "executable": false
        },
        "1844": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      traceback = err.traceback,",
          "executable": true
        },
        "1843": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error = err.message,",
          "executable": true
        },
        "1792": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- --   database = { host = \"localhost\", port = 5...",
          "executable": false
        },
        "1841": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not success then",
          "executable": true
        },
        "117": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@private",
          "executable": false
        },
        "1518": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Reset a specific module's configuration",
          "executable": false
        },
        "555": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"debug\", \"Deleted configuration value\", { ...",
          "executable": true
        },
        "667": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "567": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "467": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "367": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      operation = \"set\",",
          "executable": true
        },
        "267": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.get(path, default)",
          "executable": true
        },
        "167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for k, v in pairs(source) do",
          "executable": true
        },
        "1838": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"debug\", \"Centralized configuration module...",
          "executable": true
        },
        "1395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.save_to_file(path)",
          "executable": true
        },
        "1837": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1690": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Load a configuration preset and apply it",
          "executable": false
        },
        "1835": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      auto_save = false,",
          "executable": true
        },
        "1193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          errors = errors[module_name],",
          "executable": true
        },
        "1834": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Defaults",
          "executable": false
        },
        "967": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Mo...",
          "executable": true
        },
        "867": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Apply defaults if provided",
          "executable": false
        },
        "767": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "535": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "635": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "335": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @return central_config The module instance for...",
          "executable": false
        },
        "435": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    path = path,",
          "executable": true
        },
        "135": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local logger = logging.get_logger(\"central_con...",
          "executable": true
        },
        "235": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Validate all registered modules",
          "executable": false
        },
        "1814": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Module initialization function",
          "executable": false
        },
        "1320": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"error\", format_err.message, format_err.co...",
          "executable": true
        },
        "1833": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    }, {",
          "executable": true
        },
        "1160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                table.insert(module_errors, {",
          "executable": true
        },
        "1742": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   logging = { level = \"info\", format = \"json\" ...",
          "executable": false
        },
        "935": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local valid, err = central_config.validate(\"da...",
          "executable": false
        },
        "1269": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "735": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for i, callback in ipairs(config.listeners[\"\"]...",
          "executable": true
        },
        "835": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(\"debug\", \"Registering module configuration\",...",
          "executable": true
        },
        "1497": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end, path, { operation = \"write_config_file\" })",
          "executable": true
        },
        "1831": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        config_path = \"string\",",
          "executable": true
        },
        "1766": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- keys that contain tables in both source and ta...",
          "executable": false
        },
        "1830": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        auto_save = \"boolean\",",
          "executable": true
        },
        "1827": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Schema",
          "executable": false
        },
        "1289": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1101": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if schema.field_values then",
          "executable": true
        },
        "1828": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      required_fields = {},",
          "executable": true
        },
        "1826": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    M.register_module(\"central_config\", {",
          "executable": true
        },
        "1695": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     testing = { logging = { level = \"info\" }, ...",
          "executable": false
        },
        "1293": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"load_from_file\",",
          "executable": true
        },
        "1825": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Register this module's defaults",
          "executable": false
        },
        "1307": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"load_from_file\",",
          "executable": true
        },
        "1278": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"error\", \"Error checking if config file ex...",
          "executable": true
        },
        "391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(value) == \"table\" then",
          "executable": true
        },
        "1822": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function init()",
          "executable": true
        },
        "645": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local new_version = read_version_from_file()",
          "executable": false
        },
        "545": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        operation = \"delete\",",
          "executable": true
        },
        "445": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "345": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   username = \"app_user\",",
          "executable": false
        },
        "245": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table|nil error Error if any occurred",
          "executable": false
        },
        "145": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function deep_merge(target, source)",
          "executable": true
        },
        "1714": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "1298": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local success, user_config, err = error_handler....",
          "executable": true
        },
        "1821": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return central_config Initialized module",
          "executable": false
        },
        "1060": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Pattern validation",
          "executable": false
        },
        "1820": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @private",
          "executable": false
        },
        "1819": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1818": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- application crashes. This function is called a...",
          "executable": false
        },
        "945": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local valid, err = central_config.validate()",
          "executable": false
        },
        "845": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        provided_type = type(schema),",
          "executable": true
        },
        "745": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            listener_index = i,",
          "executable": true
        },
        "447": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function removes a value from the configu...",
          "executable": false
        },
        "347": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "647": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- ",
          "executable": false
        },
        "547": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local err = error_handler.validation_error(\"...",
          "executable": true
        },
        "1793": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- }",
          "executable": false
        },
        "1195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false, validation_error",
          "executable": true
        },
        "247": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "147": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if source ~= nil and type(source) ~= \"table\" the...",
          "executable": true
        },
        "1180": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false",
          "executable": true
        },
        "1817": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- to ensure the module is always returned, even ...",
          "executable": false
        },
        "473": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     if err and err.message:match(\"path not fou...",
          "executable": false
        },
        "1800": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return central_config.merge(target, source)",
          "executable": false
        },
        "847": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        operation = \"register_module\",",
          "executable": true
        },
        "747": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "1813": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "947": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Configuration validation failed:\")",
          "executable": false
        },
        "1515": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return central_config The module instance for...",
          "executable": false
        },
        "1260": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil, err",
          "executable": true
        },
        "1639": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "354": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "1398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Pa...",
          "executable": true
        },
        "1810": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return target",
          "executable": true
        },
        "1723": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1758": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", \"serialize was called on a non-tab...",
          "executable": true
        },
        "1809": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1617": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       elseif tonumber(value) then value = tonu...",
          "executable": false
        },
        "1120": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                if value == valid_value then",
          "executable": true
        },
        "1384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if central_config.validate() then",
          "executable": false
        },
        "1806": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error = err.message,",
          "executable": true
        },
        "1627": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "1542": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "459": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not success then",
          "executable": false
        },
        "557": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "657": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "357": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- central_config",
          "executable": false
        },
        "457": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Delete a configuration value",
          "executable": false
        },
        "157": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if target ~= nil and type(target) ~= \"table\" the...",
          "executable": true
        },
        "257": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get full configuration",
          "executable": false
        },
        "1495": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local success, err = error_handler.safe_io_opera...",
          "executable": true
        },
        "1489": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, err",
          "executable": true
        },
        "1804": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if err then",
          "executable": true
        },
        "1722": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "1803": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local result, err = deep_merge(target, source)",
          "executable": true
        },
        "1802": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M.merge = function(target, source)",
          "executable": true
        },
        "957": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local function save_if_valid(path)",
          "executable": false
        },
        "1801": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "757": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "857": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            for k, _ in pairs(schema) do",
          "executable": true
        },
        "1815": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This private function initializes the central ...",
          "executable": false
        },
        "1339": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if not deep_equals(old, new) then",
          "executable": true
        },
        "102": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- else",
          "executable": false
        },
        "1798": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     return central_config.serialize(source or ...",
          "executable": false
        },
        "1498": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not success then",
          "executable": true
        },
        "1797": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   if type(target) ~= \"table\" or type(source) ~...",
          "executable": false
        },
        "1823": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Initialize with proper error handling",
          "executable": false
        },
        "1795": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Merge with error handling",
          "executable": false
        },
        "1794": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1842": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"error\", \"Failed to initialize central_con...",
          "executable": true
        },
        "1020": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              message = \"Field has wrong type\",",
          "executable": true
        },
        "1527": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Reset the entire configuration system",
          "executable": false
        },
        "1003": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            })",
          "executable": true
        },
        "1791": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- --   timeouts = { connection = 30, request = 1...",
          "executable": false
        },
        "1790": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- --   logging = { level = \"debug\", format = \"te...",
          "executable": false
        },
        "623": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  path = path or \"\" -- Convert nil to empty string...",
          "executable": true
        },
        "723": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "823": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"error\", err.message, err.context)",
          "executable": true
        },
        "923": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Validates configuration against registered sch...",
          "executable": false
        },
        "1678": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   coverage = {",
          "executable": false
        },
        "1789": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- {",
          "executable": false
        },
        "1788": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Result:",
          "executable": false
        },
        "404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local last_key = parts[#parts]",
          "executable": true
        },
        "1786": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- ",
          "executable": false
        },
        "1646": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        M.set(k, v)",
          "executable": true
        },
        "64": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@private",
          "executable": false
        },
        "123": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    _fs = success and fs or nil",
          "executable": true
        },
        "223": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for k, v in pairs(a) do",
          "executable": true
        },
        "323": {
          "covered": true,
          "executed": true,
          "execution_count": 3,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "423": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "523": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "275": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(value) ~= \"table\" then",
          "executable": true
        },
        "1315": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        path = path,",
          "executable": true
        },
        "175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            error = err.message,",
          "executable": true
        },
        "675": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not success then",
          "executable": true
        },
        "775": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.register_module(\"logging\", {",
          "executable": false
        },
        "475": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       return true",
          "executable": false
        },
        "575": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param callback fun(path: string, old_value: a...",
          "executable": false
        },
        "1783": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   logging = { level = \"debug\" }, -- Only overr...",
          "executable": false
        },
        "1782": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local overrides = {",
          "executable": false
        },
        "875": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "975": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local errors = {}",
          "executable": true
        },
        "1342": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return",
          "executable": true
        },
        "1543": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "505": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "1427": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    indent = indent or \"\"",
          "executable": true
        },
        "802": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "702": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if config.listeners[parent_path] and #config.l...",
          "executable": true
        },
        "933": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "833": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "302": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        return nil, err",
          "executable": true
        },
        "137": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "502": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"delete\",",
          "executable": true
        },
        "1484": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"error\", \"Failed to serialize configuratio...",
          "executable": true
        },
        "1280": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error = err.message,",
          "executable": true
        },
        "133": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local logging = get_logging()",
          "executable": true
        },
        "1130": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  value = value,",
          "executable": true
        },
        "737": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local success, err = error_handler.try(fun...",
          "executable": true
        },
        "837": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    has_schema = schema ~= nil,",
          "executable": true
        },
        "937": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Database configuration is invalid:\")",
          "executable": false
        },
        "433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Log the operation with detailed information f...",
          "executable": false
        },
        "641": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Typically called internally by set() and de...",
          "executable": false
        },
        "741": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          log(\"error\", \"Error in root change liste...",
          "executable": true
        },
        "841": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if schema ~= nil then",
          "executable": true
        },
        "941": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Use defaults or prompt for configuration",
          "executable": false
        },
        "785": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   field_values = {",
          "executable": false
        },
        "685": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            listener_index = i,",
          "executable": true
        },
        "585": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Listen for changes to an entire module's co...",
          "executable": false
        },
        "485": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      parameter_name = \"path\",",
          "executable": true
        },
        "1778": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   logging = { level = \"info\", format = \"text\" ...",
          "executable": false
        },
        "1777": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local base_config = {",
          "executable": false
        },
        "985": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not module_config then",
          "executable": true
        },
        "885": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if target[k] == nil then",
          "executable": true
        },
        "241": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "341": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- -- Set a nested value",
          "executable": false
        },
        "1016": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for field, expected_type in pairs(schema.f...",
          "executable": true
        },
        "541": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if old_value == nil then",
          "executable": true
        },
        "712": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              error = err.message,",
          "executable": true
        },
        "812": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     pool_size = \"number\"",
          "executable": false
        },
        "912": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              table.insert(keys, k)",
          "executable": true
        },
        "287": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local current = config.values",
          "executable": true
        },
        "587": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Reconnect to database if configuration ch...",
          "executable": false
        },
        "487": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"delete\",",
          "executable": true
        },
        "787": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     format = {\"text\", \"json\", \"pretty\"}",
          "executable": false
        },
        "612": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "987": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return true",
          "executable": true
        },
        "887": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if type(v) == \"table\" then",
          "executable": true
        },
        "1776": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Merge configuration tables",
          "executable": false
        },
        "1775": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1774": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1323": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Apply loaded configuration",
          "executable": false
        },
        "1236": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1422": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error_handler.validation_error(\"Cannot ser...",
          "executable": true
        },
        "751": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          })",
          "executable": true
        },
        "455": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "951": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       print(\"  - \" .. field_err.field .. \": \" ...",
          "executable": false
        },
        "851": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      config.schemas[module_name] = deep_copy(sche...",
          "executable": true
        },
        "1535": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "1561": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Clear the module's config",
          "executable": false
        },
        "155": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return target",
          "executable": true
        },
        "255": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1771": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param target table Target table to merge into",
          "executable": false
        },
        "1770": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "112": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, logging = pcall(require, \"lib.t...",
          "executable": true
        },
        "212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Deep compare helper",
          "executable": false
        },
        "755": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          callback_type = type(callback),",
          "executable": true
        },
        "855": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          (function()",
          "executable": true
        },
        "955": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "451": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "297": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if default ~= nil then",
          "executable": true
        },
        "397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        operation = \"set\",",
          "executable": true
        },
        "1419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Validate input",
          "executable": false
        },
        "197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "697": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Notify parent path listeners",
          "executable": false
        },
        "797": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Register just defaults (no schema validatio...",
          "executable": false
        },
        "497": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, err",
          "executable": true
        },
        "597": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Trigger cache invalidation on core settin...",
          "executable": false
        },
        "1493": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  content = content .. \"return \" .. serialized_con...",
          "executable": true
        },
        "1769": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- target table unmodified.",
          "executable": false
        },
        "897": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          elseif type(target[k]) == \"table\" and ty...",
          "executable": true
        },
        "997": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "1423": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          provided_type = type(tbl),",
          "executable": true
        },
        "1768": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- If an error occurs during merging, the functio...",
          "executable": false
        },
        "1322": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1767": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- value types or when a key exists only in one t...",
          "executable": false
        },
        "821": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"register_module\",",
          "executable": true
        },
        "921": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "665": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    new_value_type = type(new_value),",
          "executable": true
        },
        "721": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            })",
          "executable": true
        },
        "1765": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function recursively merges the source ta...",
          "executable": false
        },
        "1764": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Deeply merges two tables together",
          "executable": false
        },
        "265": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   cache_settings = { ttl = 3600, max_size = 10...",
          "executable": false
        },
        "165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    target = {}",
          "executable": true
        },
        "1763": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "121": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not _fs then",
          "executable": true
        },
        "1762": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return result",
          "executable": true
        },
        "1761": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "865": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "765": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- are applied if corresponding values don't alre...",
          "executable": false
        },
        "221": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "965": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "963": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1496": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return fs.write_file(path, content)",
          "executable": true
        },
        "1691": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local function load_preset(preset_name)",
          "executable": false
        },
        "1186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = validate_module(module_name)",
          "executable": true
        },
        "563": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "663": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    path = path,",
          "executable": true
        },
        "763": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function registers a module's configurati...",
          "executable": false
        },
        "863": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        ),",
          "executable": true
        },
        "1001": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              field = field,",
          "executable": true
        },
        "263": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Error getting cache settings: \" .. er...",
          "executable": false
        },
        "363": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if path ~= nil and type(path) ~= \"string\" then",
          "executable": true
        },
        "463": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Safely delete nested configuration",
          "executable": false
        },
        "1036": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for field, range in pairs(schema.field_ran...",
          "executable": true
        },
        "1757": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(result) ~= \"table\" and obj ~= nil then",
          "executable": true
        },
        "1132": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              end",
          "executable": true
        },
        "1043": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          else",
          "executable": true
        },
        "931": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table|nil error Error if validation fa...",
          "executable": false
        },
        "831": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"error\", err.message, err.context)",
          "executable": true
        },
        "731": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "279": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not path or path == \"\" then",
          "executable": true
        },
        "579": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Listen for changes to a specific setting",
          "executable": false
        },
        "479": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return true",
          "executable": false
        },
        "779": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     level = \"string\",",
          "executable": false
        },
        "679": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            traceback = err.traceback,",
          "executable": true
        },
        "979": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not schema then",
          "executable": true
        },
        "879": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      config.defaults[module_name] = deep_copy(def...",
          "executable": true
        },
        "1224": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table|nil error Error if any occurred",
          "executable": false
        },
        "1756": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local result = deep_copy(obj)",
          "executable": true
        },
        "531": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local err = error_handler.validation_error(\"...",
          "executable": true
        },
        "431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    parent[last_key] = value",
          "executable": true
        },
        "331": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- method chaining by returning the module instan...",
          "executable": false
        },
        "231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false",
          "executable": true
        },
        "1753": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local num_copy = central_config.serialize(42) ...",
          "executable": false
        },
        "973": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, err",
          "executable": true
        },
        "1626": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.configure_from_options(options)",
          "executable": true
        },
        "1249": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "673": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          return callback(path, old_value, new_val...",
          "executable": true
        },
        "573": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "873": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        module = module_name,",
          "executable": true
        },
        "773": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "273": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"get\",",
          "executable": true
        },
        "173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            key = k,",
          "executable": true
        },
        "1010": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(schema.field_types) ~= \"table\" then",
          "executable": true
        },
        "930": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean valid Whether the configuratio...",
          "executable": false
        },
        "830": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "730": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "630": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Notifies change listeners about a configuratio...",
          "executable": false
        },
        "530": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "981": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return true",
          "executable": true
        },
        "349": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- -- Set the entire configuration at once",
          "executable": false
        },
        "1053": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                })",
          "executable": true
        },
        "149": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_handler.validation_error(\"Source must ...",
          "executable": true
        },
        "649": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- central_config.notify_change(\"app.version\",...",
          "executable": false
        },
        "681": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          })",
          "executable": true
        },
        "781": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     file = \"string\",",
          "executable": false
        },
        "549": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false, err",
          "executable": true
        },
        "181": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "281": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "849": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "949": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     print(\"Module: \" .. module_name)",
          "executable": false
        },
        "1112": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              field = field,",
          "executable": true
        },
        "1258": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1751": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Safe to use with any value type",
          "executable": false
        },
        "1223": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table|nil config The loaded configurat...",
          "executable": false
        },
        "843": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local err = error_handler.validation_error(\"...",
          "executable": true
        },
        "943": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "643": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local old_value = central_config.get(\"app.vers...",
          "executable": false
        },
        "743": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            error = err.message,",
          "executable": true
        },
        "1750": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1749": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- print(original_config.logging.level) -- Still ...",
          "executable": false
        },
        "1209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Create error object",
          "executable": false
        },
        "1557": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If there are no defaults, just clear the mo...",
          "executable": false
        },
        "399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "1008": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Type validation",
          "executable": false
        },
        "1746": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- ",
          "executable": false
        },
        "1745": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local config_copy = central_config.serialize(o...",
          "executable": false
        },
        "443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "543": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        path = path,",
          "executable": true
        },
        "243": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param default? any Value to return if path do...",
          "executable": false
        },
        "343": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "---   host = \"localhost\", ",
          "executable": false
        },
        "359": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   .set(\"cache.max_size\", 1024)",
          "executable": false
        },
        "991": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if schema.required_fields then",
          "executable": true
        },
        "400": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "500": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if #parts == 0 then",
          "executable": true
        },
        "759": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "659": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return",
          "executable": true
        },
        "800": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   max_retries = 3,",
          "executable": false
        },
        "900": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "1024": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if obj ~= nil and type(obj) ~= \"table\" then",
          "executable": true
        },
        "959": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     return central_config.save_to_file(path)",
          "executable": false
        },
        "859": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "1282": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil, err",
          "executable": true
        },
        "1116": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local value = module_config[field]",
          "executable": true
        },
        "385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"debug\", \"Set complete configuration\", { k...",
          "executable": true
        },
        "1012": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          module = name,",
          "executable": true
        },
        "953": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "853": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        module = module_name,",
          "executable": true
        },
        "753": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "653": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Pa...",
          "executable": true
        },
        "1743": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   cache = { enabled = true, ttl = 3600 }",
          "executable": false
        },
        "1697": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return presets[preset_name] or {}",
          "executable": false
        },
        "1457": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          return nil, err",
          "executable": true
        },
        "1741": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local original_config = {",
          "executable": false
        },
        "153": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1274": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local exists, err = error_handler.safe_io_operat...",
          "executable": true
        },
        "1294": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1093": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                })",
          "executable": true
        },
        "553": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Notify listeners",
          "executable": false
        },
        "453": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean success Whether the delete was...",
          "executable": false
        },
        "353": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   paths = { data = \"/var/data\", temp = \"/tmp/m...",
          "executable": false
        },
        "253": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if database_config then",
          "executable": false
        },
        "1174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1546": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if module_name == nil then",
          "executable": true
        },
        "961": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     return false, \"Configuration validation fa...",
          "executable": false
        },
        "1731": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- modifications to the returned object don't aff...",
          "executable": false
        },
        "761": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "861": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end)(),",
          "executable": true
        },
        "561": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    parent_type = type(current),",
          "executable": true
        },
        "661": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Log the notification for debugging",
          "executable": false
        },
        "361": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.set(path, value)",
          "executable": true
        },
        "461": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1015": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "962": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "862": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \", \"",
          "executable": true
        },
        "1023": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            })",
          "executable": true
        },
        "662": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(\"debug\", \"Notifying change listeners\", {",
          "executable": true
        },
        "562": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    operation = \"delete\",",
          "executable": true
        },
        "372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Handle root config",
          "executable": false
        },
        "472": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   if not success then",
          "executable": false
        },
        "172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          error_handler.validation_error(\"Failed t...",
          "executable": true
        },
        "272": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      provided_type = type(path),",
          "executable": true
        },
        "1597": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"save_to_file\",",
          "executable": true
        },
        "1138": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Custom validators",
          "executable": false
        },
        "881": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      config.values[module_name] = config.values[m...",
          "executable": true
        },
        "920": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1735": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1734": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- value type and handles nil values appropriatel...",
          "executable": false
        },
        "1273": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Use safe_io_operation for checking if file ex...",
          "executable": false
        },
        "520": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local err = error_handler.validation_error(\"...",
          "executable": true
        },
        "620": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "720": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              listener_index = i,",
          "executable": true
        },
        "820": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      provided_type = type(module_name),",
          "executable": true
        },
        "210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param b any Second value to compare",
          "executable": false
        },
        "110": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_logging()",
          "executable": true
        },
        "410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    parent = config.values",
          "executable": true
        },
        "971": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "871": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        parameter_name = \"defaults\",",
          "executable": true
        },
        "771": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return central_config The module instance for...",
          "executable": false
        },
        "671": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(callback) == \"function\" then",
          "executable": true
        },
        "571": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- or for the entire configuration tree (by using...",
          "executable": false
        },
        "471": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local success, err = central_config.delete(p...",
          "executable": false
        },
        "371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "972": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return nil,",
          "executable": true
        },
        "772": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "872": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        provided_type = type(defaults),",
          "executable": true
        },
        "572": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- receive the changed path, the old value, and t...",
          "executable": false
        },
        "672": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local success, err = error_handler.try(fun...",
          "executable": true
        },
        "282": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local parts = path_to_parts(path)",
          "executable": true
        },
        "182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "482": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1732": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- useful for tables, where it recursively copies...",
          "executable": false
        },
        "1738": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1730": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function creates a complete deep copy of ...",
          "executable": false
        },
        "1729": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Creates a deep copy of an object",
          "executable": false
        },
        "970": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"validate\",",
          "executable": true
        },
        "870": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local err = error_handler.validation_error(\"...",
          "executable": true
        },
        "770": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param defaults? table Default values for the ...",
          "executable": false
        },
        "670": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for i, callback in ipairs(config.listeners[pat...",
          "executable": true
        },
        "381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return M",
          "executable": true
        },
        "1503": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, err",
          "executable": true
        },
        "1346": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local new_prefix = prefix == \"\" and k or (pr...",
          "executable": true
        },
        "1526": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "589": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     db.reconnect(central_config.get(\"database....",
          "executable": false
        },
        "220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "320": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Return copy to prevent direct modification",
          "executable": false
        },
        "489": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "189": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function deep_copy(obj)",
          "executable": true
        },
        "289": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(current) ~= \"table\" then",
          "executable": true
        },
        "1277": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if err then",
          "executable": true
        },
        "1726": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "1725": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(\"debug\", \"Applied configuration from global ...",
          "executable": true
        },
        "982": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1266": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.io_error(\"Filesystem...",
          "executable": true
        },
        "1721": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "989": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local module_errors = {}",
          "executable": true
        },
        "582": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   log_system.set_level(new_value)",
          "executable": false
        },
        "882": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Simplified and more robust default applic...",
          "executable": false
        },
        "889": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            else",
          "executable": true
        },
        "192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- For non-tables, just return the value",
          "executable": false
        },
        "292": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        failed_at = table.concat(parts, \".\", 1, i ...",
          "executable": true
        },
        "983": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Get the current configuration for this modu...",
          "executable": false
        },
        "492": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if path == \"\" then",
          "executable": true
        },
        "783": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     max_size = \"number\"",
          "executable": false
        },
        "883": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local function apply_defaults(target, source...",
          "executable": true
        },
        "583": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "683": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          log(\"debug\", \"Successfully called exact ...",
          "executable": true
        },
        "383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Set the root config (with deep copy)",
          "executable": false
        },
        "483": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if path == nil or type(path) ~= \"string\" then",
          "executable": true
        },
        "940": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "283": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if #parts == 0 then",
          "executable": true
        },
        "740": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not success then",
          "executable": true
        },
        "840": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Store schema if provided",
          "executable": false
        },
        "540": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check if the key exists",
          "executable": false
        },
        "640": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "699": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  while #parts > 0 do",
          "executable": true
        },
        "599": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     cache_system.invalidate(path)",
          "executable": false
        },
        "230": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if a[k] == nil then",
          "executable": true
        },
        "130": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param params? table Additional parameters for ...",
          "executable": false
        },
        "299": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for k, v in pairs(obj) do",
          "executable": true
        },
        "1720": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error = err.message,",
          "executable": true
        },
        "1719": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"error\", \"Failed to merge global configura...",
          "executable": true
        },
        "992": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(schema.required_fields) ~= \"table\" t...",
          "executable": true
        },
        "1718": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if err then",
          "executable": true
        },
        "1717": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local merged_config, err = deep_merge(config.val...",
          "executable": true
        },
        "602": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.on_change(path, callback)",
          "executable": true
        },
        "592": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "999": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if module_config[field] == nil then",
          "executable": true
        },
        "899": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            apply_defaults(target[k], v)",
          "executable": true
        },
        "892": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            log(\"debug\", \"Applied default value fo...",
          "executable": true
        },
        "122": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, fs = pcall(require, \"lib.tools....",
          "executable": true
        },
        "1715": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1297": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Try to load the configuration file",
          "executable": false
        },
        "993": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        log(\"warn\", \"Invalid schema.required_field...",
          "executable": true
        },
        "893": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              module = module_name,",
          "executable": true
        },
        "793": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   rotate = false,",
          "executable": false
        },
        "693": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "593": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Listen for all configuration changes",
          "executable": false
        },
        "493": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Ca...",
          "executable": true
        },
        "910": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local keys = {}",
          "executable": true
        },
        "293": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        expected = \"table\",",
          "executable": true
        },
        "193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return obj",
          "executable": true
        },
        "610": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "510": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.remove(parts, #parts)",
          "executable": true
        },
        "810": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     username = \"string\",",
          "executable": false
        },
        "710": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              parent_path = parent_path,",
          "executable": true
        },
        "340": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Notify listeners if value changed",
          "executable": false
        },
        "140": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param target table|nil The target table to mer...",
          "executable": false
        },
        "240": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- the provided default value or an error object.",
          "executable": false
        },
        "1477": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        },
        "1713": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "1310": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil, parse_err",
          "executable": true
        },
        "1712": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "922": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "822": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "722": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "622": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Initialize the listener array if needed",
          "executable": false
        },
        "1711": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"configure_from_config\",",
          "executable": true
        },
        "1710": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      provided_type = type(global_config),",
          "executable": true
        },
        "1709": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      parameter_name = \"global_config\",",
          "executable": true
        },
        "1642": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for k, v in pairs(options) do",
          "executable": true
        },
        "254": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   db.connect(database_config.host, database_co...",
          "executable": false
        },
        "1292": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      path = path,",
          "executable": true
        },
        "1652": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          error = err.message,",
          "executable": true
        },
        "1706": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1063": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        log(\"warn\", \"Invalid schema.field_patterns...",
          "executable": true
        },
        "1414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"error\", err.message, err.context)",
          "executable": true
        },
        "1316": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        expected = \"table\",",
          "executable": true
        },
        "1703": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if global_config == nil then",
          "executable": true
        },
        "1465": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        result = result .. indent .. \"  \" .. key_s...",
          "executable": true
        },
        "1701": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.configure_from_config(global_config)",
          "executable": true
        },
        "1172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "421": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      parent = parent[part]",
          "executable": true
        },
        "1698": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1473": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1784": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   database = { host = \"localhost\", port = 5432...",
          "executable": false
        },
        "1694": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     production = { logging = { level = \"error\"...",
          "executable": false
        },
        "1693": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     development = { logging = { level = \"debug...",
          "executable": false
        },
        "625": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Register the listener",
          "executable": false
        },
        "1836": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      config_path = M.DEFAULT_CONFIG_PATH,",
          "executable": true
        },
        "1572": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local old_config = deep_copy(config.values[modul...",
          "executable": true
        },
        "1689": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1688": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.configure_from_config(default_c...",
          "executable": false
        },
        "791": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   level = \"info\",",
          "executable": false
        },
        "1686": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   }",
          "executable": false
        },
        "1685": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     parallel = false",
          "executable": false
        },
        "1785": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- }",
          "executable": false
        },
        "1683": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   testing = {",
          "executable": false
        },
        "1071": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              module = name,",
          "executable": true
        },
        "1394": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   .save_to_file()",
          "executable": false
        },
        "1682": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   },",
          "executable": false
        },
        "1681": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     exclude = {\"test/**/*.lua\"}",
          "executable": false
        },
        "1231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     print(\"No configuration file found, using ...",
          "executable": false
        },
        "1192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          module = module_name,",
          "executable": true
        },
        "515": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local context = {",
          "executable": true
        },
        "1679": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     enabled = true,",
          "executable": false
        },
        "1677": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   },",
          "executable": false
        },
        "1676": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     file = nil",
          "executable": false
        },
        "1674": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     level = \"info\",",
          "executable": false
        },
        "1563": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log(\"info\", \"Cleared configuration for modul...",
          "executable": true
        },
        "1416": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1672": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local default_config = {",
          "executable": false
        },
        "1671": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Configure from a predefined configuration s...",
          "executable": false
        },
        "1669": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1151": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              validator_type = type(validator),",
          "executable": true
        },
        "1573": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Reset to defaults (with deep copy to prevent ...",
          "executable": false
        },
        "1667": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param global_config table Global configuratio...",
          "executable": false
        },
        "1666": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1684": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     timeout = 5000,",
          "executable": false
        },
        "1588": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1663": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- takes a complete, potentially nested configura...",
          "executable": false
        },
        "1472": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "1662": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Unlike configure_from_options() which handles ...",
          "executable": false
        },
        "634": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- system stability even if callbacks throw error...",
          "executable": false
        },
        "1660": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Configures the system from a global configurat...",
          "executable": false
        },
        "1536": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if module_name ~= nil and type(module_name) ~= \"...",
          "executable": true
        },
        "1659": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              end",
          "executable": true
        },
        "1658": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "1428": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = \"{\\n\"",
          "executable": true
        },
        "1657": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(\"debug\", \"Applied configuration from options...",
          "executable": true
        },
        "1656": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1494": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Write to file using safe_io_operation",
          "executable": false
        },
        "1331": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1655": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1452": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1654": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1500": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      path = path,",
          "executable": true
        },
        "1651": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          value_type = type(v),",
          "executable": true
        },
        "1650": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          key = k,",
          "executable": true
        },
        "1649": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        log(\"warn\", \"Failed to set option\", {",
          "executable": true
        },
        "1228": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local config, err = central_config.load_from_f...",
          "executable": false
        },
        "1647": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end)",
          "executable": true
        },
        "114": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Direct comparison for identical references or...",
          "executable": false
        },
        "1665": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- state or applying configuration presets.",
          "executable": false
        },
        "1136": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1644": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(k) == \"string\" and string.find(k, \"%.\"...",
          "executable": true
        },
        "1643": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Only handle options with module.option form...",
          "executable": false
        },
        "1708": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Gl...",
          "executable": true
        },
        "1641": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Process options using error_handler.try to ca...",
          "executable": false
        },
        "1640": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1638": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "1226": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1635": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      provided_type = type(options),",
          "executable": true
        },
        "1634": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      parameter_name = \"options\",",
          "executable": true
        },
        "1201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not validate_module(name) then",
          "executable": true
        },
        "1636": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"configure_from_options\",",
          "executable": true
        },
        "208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@private",
          "executable": false
        },
        "308": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        path = path,",
          "executable": true
        },
        "408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if #parts == 0 then",
          "executable": true
        },
        "508": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get the last part (key to delete)",
          "executable": false
        },
        "608": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"on_change\",",
          "executable": true
        },
        "708": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if not success then",
          "executable": true
        },
        "808": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     host = \"string\",",
          "executable": false
        },
        "908": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        default_keys = table.concat(",
          "executable": true
        },
        "1631": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1628": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if options == nil then",
          "executable": true
        },
        "1752": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local str_copy = central_config.serialize(\"hel...",
          "executable": false
        },
        "1625": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.configure_from_options(parse_cl...",
          "executable": false
        },
        "1624": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1623": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "108": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table|nil The logging module if availab...",
          "executable": false
        },
        "1622": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   return options",
          "executable": false
        },
        "1565": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      M.notify_change(module_name, old_config, con...",
          "executable": true
        },
        "1191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error_handler.validation_error(\"Configurat...",
          "executable": true
        },
        "481": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.delete(path)",
          "executable": true
        },
        "1356": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1619": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       options[key] = value",
          "executable": false
        },
        "1618": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       end",
          "executable": false
        },
        "1808": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      source_type = type(source),",
          "executable": true
        },
        "1547": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Reset everything for testing",
          "executable": false
        },
        "1615": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       if value == \"true\" then value = true",
          "executable": false
        },
        "1614": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       -- Convert value types",
          "executable": false
        },
        "1140": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(schema.validators) ~= \"table\" then",
          "executable": true
        },
        "1336": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Notify listeners of all changed paths",
          "executable": false
        },
        "1202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      all_valid = false",
          "executable": true
        },
        "1196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1610": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local options = {}",
          "executable": false
        },
        "1609": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local function parse_cli()",
          "executable": false
        },
        "1608": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Configure from parsed CLI options",
          "executable": false
        },
        "1607": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1605": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- }",
          "executable": false
        },
        "1131": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                })",
          "executable": true
        },
        "1653": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "1603": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   [\"reporting.format\"] = \"junit\",",
          "executable": false
        },
        "1602": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   [\"coverage.enabled\"] = true,",
          "executable": false
        },
        "1073": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              pattern_type = type(pattern),",
          "executable": true
        },
        "1601": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   [\"logging.level\"] = \"debug\",",
          "executable": false
        },
        "1600": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local opts = {",
          "executable": false
        },
        "491": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1004": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "1065": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          type = type(schema.field_patterns),",
          "executable": true
        },
        "1598": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@private",
          "executable": false
        },
        "316": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        return nil, err",
          "executable": true
        },
        "216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return true",
          "executable": true
        },
        "516": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        path = path,",
          "executable": true
        },
        "416": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      ---@diagnostic disable-next-line: need-check...",
          "executable": false
        },
        "716": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          else",
          "executable": true
        },
        "616": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      provided_type = type(callback),",
          "executable": true
        },
        "916": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \", \"",
          "executable": true
        },
        "816": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "1594": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "904": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Apply defaults to the module's configurat...",
          "executable": false
        },
        "804": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Register schema without defaults",
          "executable": false
        },
        "704": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if type(callback) == \"function\" then",
          "executable": true
        },
        "604": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if path ~= nil and type(path) ~= \"string\" then",
          "executable": true
        },
        "504": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "116": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "304": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "346": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   password = \"secret\"",
          "executable": false
        },
        "1039": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              module = name,",
          "executable": true
        },
        "1591": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- command-line arguments or program initializati...",
          "executable": false
        },
        "1589": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Configures the system from command-line or pro...",
          "executable": false
        },
        "1007": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1664": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- existing configuration. This is useful for ini...",
          "executable": false
        },
        "1082": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                table.insert(module_errors, {",
          "executable": true
        },
        "409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If no parent path (direct child of root), u...",
          "executable": false
        },
        "1586": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  M.notify_change(module_name, old_config, config....",
          "executable": true
        },
        "1173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "1585": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Notify listeners of change",
          "executable": false
        },
        "1054": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              end",
          "executable": true
        },
        "1564": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Notify listeners",
          "executable": false
        },
        "1104": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          module = name,",
          "executable": true
        },
        "1583": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)(),",
          "executable": true
        },
        "1582": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return count",
          "executable": true
        },
        "226": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "104": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "426": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local old_value = parent[last_key]",
          "executable": true
        },
        "526": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local context = {",
          "executable": true
        },
        "626": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  table.insert(config.listeners[path], callback)",
          "executable": true
        },
        "726": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            callback_type = type(callback),",
          "executable": true
        },
        "826": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if module_name == \"\" then",
          "executable": true
        },
        "926": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- registered schemas. The validation includes ty...",
          "executable": false
        },
        "914": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return keys",
          "executable": true
        },
        "1581": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "714": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              listener_index = i,",
          "executable": true
        },
        "814": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "514": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(current) ~= \"table\" then",
          "executable": true
        },
        "614": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Ca...",
          "executable": true
        },
        "314": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "126": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        operation = \"deep_merge\",",
          "executable": true
        },
        "1094": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              end",
          "executable": true
        },
        "1578": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local count = 0",
          "executable": true
        },
        "1577": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    default_count = (function()",
          "executable": true
        },
        "1382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "222": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check all keys in a exist in b with equal val...",
          "executable": false
        },
        "1453": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Format value based on type",
          "executable": false
        },
        "1574": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  config.values[module_name] = deep_copy(config.de...",
          "executable": true
        },
        "1571": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Copy the old configuration for change detecti...",
          "executable": false
        },
        "1154": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local value = module_config[field]",
          "executable": true
        },
        "1492": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  content = content .. \"-- This file was automatic...",
          "executable": true
        },
        "1516": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1570": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1569": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "1265": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not fs then",
          "executable": true
        },
        "1064": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          module = name,",
          "executable": true
        },
        "1091": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  pattern = pattern,",
          "executable": true
        },
        "1075": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          else",
          "executable": true
        },
        "1566": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1584": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "1243": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Load with validation",
          "executable": false
        },
        "1262": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  path = path or M.DEFAULT_CONFIG_PATH",
          "executable": true
        },
        "1673": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   logging = {",
          "executable": false
        },
        "1562": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      config.values[module_name] = {}",
          "executable": true
        },
        "1772": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param source table Source table to merge from",
          "executable": false
        },
        "1159": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              if not success then",
          "executable": true
        },
        "1153": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          else",
          "executable": true
        },
        "1559": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Store old config for change notifications",
          "executable": false
        },
        "1558": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if config.values[module_name] then",
          "executable": true
        },
        "1556": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not config.defaults[module_name] then",
          "executable": true
        },
        "1555": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Reset specific module",
          "executable": false
        },
        "1554": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1115": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          else",
          "executable": true
        },
        "1553": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "1239": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if config then",
          "executable": false
        },
        "1552": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- No listeners to notify after full reset sin...",
          "executable": false
        },
        "1378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local success, err = central_config.save_to_fi...",
          "executable": false
        },
        "1194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "1550": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    init_config()",
          "executable": true
        },
        "1549": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Clear all configuration data structures",
          "executable": false
        },
        "1254": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Pa...",
          "executable": true
        },
        "1392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   .set(\"app.name\", \"MyApp\")",
          "executable": false
        },
        "55": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Constants",
          "executable": false
        },
        "1165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              elseif not result then",
          "executable": true
        },
        "1616": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       elseif value == \"false\" then value = fal...",
          "executable": false
        },
        "1545": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- If module_name is nil, completely reset every...",
          "executable": false
        },
        "1197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1370": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1539": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      provided_type = type(module_name),",
          "executable": true
        },
        "1538": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      parameter_name = \"module_name\",",
          "executable": true
        },
        "1385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   central_config.save_to_file()",
          "executable": false
        },
        "1227": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Load from default configuration path",
          "executable": false
        },
        "1162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  message = \"Validator error: \" .....",
          "executable": true
        },
        "1773": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table Merged result",
          "executable": false
        },
        "1232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   else",
          "executable": false
        },
        "1253": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if path ~= nil and type(path) ~= \"string\" then",
          "executable": true
        },
        "169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local merged_value, err = deep_merge(target[...",
          "executable": true
        },
        "269": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if path ~= nil and type(path) ~= \"string\" then",
          "executable": true
        },
        "369": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "469": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Delete with error handling",
          "executable": false
        },
        "569": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function adds a listener that will be cal...",
          "executable": false
        },
        "669": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config.listeners[path] and #config.listeners[...",
          "executable": true
        },
        "769": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param schema? table Schema definition for val...",
          "executable": false
        },
        "869": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(defaults) ~= \"table\" then",
          "executable": true
        },
        "969": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      provided_type = type(module_name),",
          "executable": true
        },
        "1485": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      path = path,",
          "executable": true
        },
        "1124": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              end",
          "executable": true
        },
        "1534": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.reset(module_name)",
          "executable": true
        },
        "1220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- (the function simply logs the case and continu...",
          "executable": false
        },
        "1532": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   .set(\"database.timeout\", 60)",
          "executable": false
        },
        "1182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return true",
          "executable": true
        },
        "1531": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.reset(\"database\")",
          "executable": false
        },
        "1530": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Reset as part of a chain of operations",
          "executable": false
        },
        "1529": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1528": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.reset()",
          "executable": false
        },
        "1525": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.reset(\"logging\") -- Restore def...",
          "executable": false
        },
        "1524": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Do some debug operations...",
          "executable": false
        },
        "1523": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.set(\"logging.level\", \"debug\")",
          "executable": false
        },
        "1522": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local original_level = central_config.get(\"log...",
          "executable": false
        },
        "911": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            for k, _ in pairs(defaults) do",
          "executable": true
        },
        "1520": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1519": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.reset(\"logging\")",
          "executable": false
        },
        "1840": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end)",
          "executable": true
        },
        "1517": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1514": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_name? string The name of the mod...",
          "executable": false
        },
        "1513": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1051": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  max = range.max,",
          "executable": true
        },
        "637": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param old_value any The previous value",
          "executable": false
        },
        "1511": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- entire configuration system. If no defaults ar...",
          "executable": false
        },
        "1510": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- with register_module(). It can reset a specifi...",
          "executable": false
        },
        "1509": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function resets configuration values to t...",
          "executable": false
        },
        "1508": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Resets configuration values to their defaults",
          "executable": false
        },
        "1026": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1507": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1506": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "1505": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(\"info\", \"Configuration saved to file\", { pat...",
          "executable": true
        },
        "422": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1502": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1501": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error = err.message,",
          "executable": true
        },
        "1604": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   non_config_option = \"value\" -- This will be ...",
          "executable": false
        },
        "1499": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"error\", \"Failed to save config file\", {",
          "executable": true
        },
        "1760": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1491": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local content = \"-- firmo configuration file\\n\"",
          "executable": true
        },
        "1488": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "277": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        type = type(value),",
          "executable": true
        },
        "477": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     return false, err",
          "executable": false
        },
        "577": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "677": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            path = path,",
          "executable": true
        },
        "777": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   required_fields = {\"level\", \"format\"},",
          "executable": false
        },
        "877": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "977": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Verify the module exists in the schema regi...",
          "executable": false
        },
        "1487": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error = err.message,",
          "executable": true
        },
        "1486": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      ---@diagnostic disable-next-line: need-check...",
          "executable": false
        },
        "1780": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- }",
          "executable": false
        },
        "1483": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not serialized_config then",
          "executable": true
        },
        "1027": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1482": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local serialized_config, err = serialize(config_...",
          "executable": true
        },
        "1481": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Generate Lua code",
          "executable": false
        },
        "1450": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "789": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- }, {",
          "executable": false
        },
        "1478": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1047": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                table.insert(module_errors, {",
          "executable": true
        },
        "1475": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1126": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                table.insert(module_errors, {",
          "executable": true
        },
        "1474": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      ::continue::",
          "executable": true
        },
        "1471": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          operation = \"serialize\",",
          "executable": true
        },
        "1470": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          value_type = type(v),",
          "executable": true
        },
        "1139": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if schema.validators then",
          "executable": true
        },
        "1469": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          key = tostring(k),",
          "executable": true
        },
        "1468": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        log(\"warn\", \"Skipping unsupported value ty...",
          "executable": true
        },
        "1029": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if schema.field_ranges then",
          "executable": true
        },
        "1466": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "1464": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      elseif type(v) == \"nil\" then",
          "executable": true
        },
        "1463": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        result = result .. indent .. \"  \" .. key_s...",
          "executable": true
        },
        "1462": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      elseif type(v) == \"number\" or type(v) == \"bo...",
          "executable": true
        },
        "259": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1360": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Saves the current configuration to a file",
          "executable": false
        },
        "1092": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  value = value,",
          "executable": true
        },
        "1459": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        result = result .. indent .. \"  \" .. key_s...",
          "executable": true
        },
        "1458": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1456": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if err then",
          "executable": true
        },
        "1454": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(v) == \"table\" then",
          "executable": true
        },
        "1410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.io_error(\"Filesystem...",
          "executable": true
        },
        "1480": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local config_to_save = deep_copy(config.values)",
          "executable": true
        },
        "1449": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          operation = \"serialize\",",
          "executable": true
        },
        "551": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Remove the key",
          "executable": false
        },
        "1447": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        log(\"warn\", \"Skipping unsupported key type...",
          "executable": true
        },
        "1446": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Skip non-string/non-number keys",
          "executable": false
        },
        "1213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, validation_error",
          "executable": true
        },
        "1444": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        key_str = string.format(\"[%d]\", k)",
          "executable": true
        },
        "195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if obj == nil then",
          "executable": true
        },
        "295": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local err = error_handler.validation_error(\"...",
          "executable": true
        },
        "495": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "595": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Config changed: \" .. path)",
          "executable": false
        },
        "695": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "795": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- })",
          "executable": false
        },
        "895": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              value_type = type(v),",
          "executable": true
        },
        "995": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          type = type(schema.required_fields),",
          "executable": true
        },
        "1443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      elseif type(k) == \"number\" then",
          "executable": true
        },
        "1066": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "1442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        key_str = string.format(\"[%q]\", k)",
          "executable": true
        },
        "1441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      elseif type(k) == \"string\" then",
          "executable": true
        },
        "1207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return true",
          "executable": true
        },
        "499": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local parts = path_to_parts(path)",
          "executable": true
        },
        "1439": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(k) == \"string\" and string.match(k, \"...",
          "executable": true
        },
        "1438": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Format key based on type",
          "executable": false
        },
        "1362": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- later be loaded with load_from_file(). The con...",
          "executable": false
        },
        "1436": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local v = tbl[k]",
          "executable": true
        },
        "1435": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, k in ipairs(keys) do",
          "executable": true
        },
        "1434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.sort(keys)",
          "executable": true
        },
        "1122": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  break",
          "executable": true
        },
        "1143": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          type = type(schema.validators),",
          "executable": true
        },
        "406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Ensure path exists by creating parent tables ...",
          "executable": false
        },
        "506": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, err",
          "executable": true
        },
        "206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return result",
          "executable": true
        },
        "1019": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              field = field,",
          "executable": true
        },
        "806": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   required_fields = {\"host\", \"port\", \"username...",
          "executable": false
        },
        "906": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log(\"debug\", \"Applied defaults for module\", ...",
          "executable": true
        },
        "606": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      parameter_name = \"path\",",
          "executable": true
        },
        "706": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return callback(path, old_value, new_v...",
          "executable": true
        },
        "1431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for k in pairs(tbl) do",
          "executable": true
        },
        "1430": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local keys = {}",
          "executable": true
        },
        "1237": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Load from custom path",
          "executable": false
        },
        "1426": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1189": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "106": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local _logging, _fs",
          "executable": true
        },
        "1424": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          operation = \"serialize\",",
          "executable": true
        },
        "749": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            changed_path = path,",
          "executable": true
        },
        "1413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local function serialize(tbl, indent)",
          "executable": true
        },
        "1166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                table.insert(module_errors, {",
          "executable": true
        },
        "1417": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Generate Lua code for the configuration",
          "executable": false
        },
        "1415": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, err",
          "executable": true
        },
        "1704": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"debug\", \"No global config provided to con...",
          "executable": true
        },
        "1420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(tbl) ~= \"table\" then",
          "executable": true
        },
        "1107": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "1412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"save_to_file\",",
          "executable": true
        },
        "285": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1451": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        goto continue",
          "executable": true
        },
        "1409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not fs then",
          "executable": true
        },
        "118": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table|nil The filesystem module if avai...",
          "executable": false
        },
        "84": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@diagnostic disable-next-line: unused-local",
          "executable": false
        },
        "1304": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local error_message = error_handler.is_error(e...",
          "executable": true
        },
        "1407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local fs = get_fs()",
          "executable": true
        },
        "1680": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     include = {\"src/**/*.lua\"},",
          "executable": false
        },
        "1149": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              module = name,",
          "executable": true
        },
        "1311": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "1440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        key_str = k",
          "executable": true
        },
        "1399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      parameter_name = \"path\",",
          "executable": true
        },
        "1397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if path ~= nil and type(path) ~= \"string\" then",
          "executable": true
        },
        "1396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "1393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   .set(\"app.version\", \"1.0.0\")",
          "executable": false
        },
        "1391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.set(\"logging.level\", \"debug\")",
          "executable": false
        },
        "1389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1839": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "1387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Cannot save: configuration is invalid...",
          "executable": false
        },
        "1537": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Mo...",
          "executable": true
        },
        "1807": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      target_type = type(target),",
          "executable": true
        },
        "310": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "428": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(value) == \"table\" then",
          "executable": true
        },
        "528": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        failed_at = table.concat(parts, \".\", 1, i)...",
          "executable": true
        },
        "228": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check for extra keys in b that don't exist in...",
          "executable": false
        },
        "328": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- automatically creating any required parent tab...",
          "executable": false
        },
        "828": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      parameter_name = \"module_name\",",
          "executable": true
        },
        "928": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "628": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "728": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          })",
          "executable": true
        },
        "1381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "692": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          listener_index = i,",
          "executable": true
        },
        "393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log(\"debug\", \"Set complete configuration (em...",
          "executable": true
        },
        "1551": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"info\", \"Reset entire configuration system...",
          "executable": true
        },
        "1377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Save to a specific path",
          "executable": false
        },
        "128": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param level string The log level ('debug', 'in...",
          "executable": false
        },
        "581": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Logging level changed from \" .. old_v...",
          "executable": false
        },
        "1204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Failed to save configuration: \" .. er...",
          "executable": false
        },
        "1373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not success then",
          "executable": false
        },
        "1380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Configuration saved to \" .. path)",
          "executable": false
        },
        "1371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Save to default configuration file",
          "executable": false
        },
        "1540": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"reset\",",
          "executable": true
        },
        "1369": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1158": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              end)",
          "executable": true
        },
        "183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return target",
          "executable": true
        },
        "1367": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return boolean success Whether the save was s...",
          "executable": false
        },
        "1366": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path? string The path to save the confi...",
          "executable": false
        },
        "1365": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "762": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Registers a module with the configuration syst...",
          "executable": false
        },
        "1363": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- with sorted keys for readability and consisten...",
          "executable": false
        },
        "1437": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local key_str",
          "executable": true
        },
        "1707": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(global_config) ~= \"table\" then",
          "executable": true
        },
        "1460": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      elseif type(v) == \"string\" then",
          "executable": true
        },
        "1359": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1358": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return user_config",
          "executable": true
        },
        "1357": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  notify_changes(\"\", old_config, config.values)",
          "executable": true
        },
        "1620": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     end",
          "executable": false
        },
        "700": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.remove(parts, #parts)",
          "executable": true
        },
        "1354": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1353": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        M.notify_change(new_prefix, v, nil)",
          "executable": true
        },
        "1302": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Handle the case where err might not be a st...",
          "executable": false
        },
        "512": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local current = config.values",
          "executable": true
        },
        "1349": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Notify about removed keys",
          "executable": false
        },
        "362": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "1504": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1727": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1157": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                return validator(value, module_con...",
          "executable": true
        },
        "1345": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for k, v in pairs(new) do",
          "executable": true
        },
        "1344": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Notify about changed or added keys",
          "executable": false
        },
        "1046": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              if (range.min and value < range.min)...",
          "executable": true
        },
        "1343": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1341": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1340": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        M.notify_change(prefix, old, new)",
          "executable": true
        },
        "1251": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.load_from_file(path)",
          "executable": true
        },
        "1058": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1338": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(old) ~= \"table\" or type(new) ~= \"table...",
          "executable": true
        },
        "1337": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local function notify_changes(prefix, old, new)",
          "executable": true
        },
        "1334": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  config.values = merged_config",
          "executable": true
        },
        "1169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  value = value,",
          "executable": true
        },
        "1332": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil, err",
          "executable": true
        },
        "1284": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not exists then",
          "executable": true
        },
        "1329": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      path = path,",
          "executable": true
        },
        "1328": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"error\", \"Failed to merge configuration\", ...",
          "executable": true
        },
        "1327": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if err then",
          "executable": true
        },
        "1326": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local merged_config, err = deep_merge(config.val...",
          "executable": true
        },
        "1271": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil, err",
          "executable": true
        },
        "1069": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if type(pattern) ~= \"string\" then",
          "executable": true
        },
        "1560": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local old_config = deep_copy(config.values[m...",
          "executable": true
        },
        "1737": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return any Serialized (deep-copied) object",
          "executable": false
        },
        "1178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if #module_errors > 0 then",
          "executable": true
        },
        "1321": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil, format_err",
          "executable": true
        },
        "1319": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "1318": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        operation = \"load_from_file\",",
          "executable": true
        },
        "379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "1314": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_handler.validation_error(\"Invalid conf...",
          "executable": true
        },
        "1313": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local format_err =",
          "executable": true
        },
        "1102": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(schema.field_values) ~= \"table\" then",
          "executable": true
        },
        "1404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return false, err",
          "executable": true
        },
        "1309": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", parse_err.message, parse_err.conte...",
          "executable": true
        },
        "1057": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1049": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  message = \"Field value out of ra...",
          "executable": true
        },
        "1580": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        count = count + 1",
          "executable": true
        },
        "691": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          callback_type = type(callback),",
          "executable": true
        },
        "1303": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ---@diagnostic disable-next-line: need-check-n...",
          "executable": false
        },
        "1351": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if new[k] == nil then",
          "executable": true
        },
        "1301": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not success then",
          "executable": true
        },
        "1041": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              range_type = type(range),",
          "executable": true
        },
        "1740": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Deep copy a configuration table",
          "executable": false
        },
        "1296": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1295": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil, err -- Return nil, err to indicate...",
          "executable": true
        },
        "1739": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "1291": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.io_error(\"Config fil...",
          "executable": true
        },
        "1637": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "249": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local logging_level = central_config.get(\"logg...",
          "executable": false
        },
        "1235": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1286": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"info\", \"Config file not found, using defa...",
          "executable": true
        },
        "518": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        operation = \"delete\",",
          "executable": true
        },
        "418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        parent[part] = {}",
          "executable": true
        },
        "318": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Type checking",
          "executable": false
        },
        "918": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "818": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Mo...",
          "executable": true
        },
        "718": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              parent_path = parent_path,",
          "executable": true
        },
        "618": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "51": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  config.schemas = {}",
          "executable": true
        },
        "41": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local config = {",
          "executable": true
        },
        "31": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field serialize fun(obj: any): any Serializes ...",
          "executable": false
        },
        "21": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field delete fun(path: string): boolean, table...",
          "executable": false
        },
        "968": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      parameter_name = \"module_name\",",
          "executable": true
        },
        "81": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return table|nil parent The parent table where...",
          "executable": false
        },
        "71": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "868": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if defaults ~= nil then",
          "executable": true
        },
        "456": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "356": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- -- Method chaining",
          "executable": false
        },
        "656": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"notify_change\",",
          "executable": true
        },
        "556": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return true",
          "executable": true
        },
        "11": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Comprehensive error handling with detailed c...",
          "executable": false
        },
        "1199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local all_valid = true",
          "executable": true
        },
        "256": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "156": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1285": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- This is a normal case - config file is opti...",
          "executable": false
        },
        "1330": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error = err.message,",
          "executable": true
        },
        "1283": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1281": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "856": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local keys = {}",
          "executable": true
        },
        "756": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          listener_index = i,",
          "executable": true
        },
        "1059": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "956": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Validate before saving configuration",
          "executable": false
        },
        "658": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "558": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parent isn't a table",
          "executable": false
        },
        "458": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local success, err = central_config.delete(\"lo...",
          "executable": false
        },
        "358": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   .set(\"cache.ttl\", 3600)",
          "executable": false
        },
        "258": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local full_config = central_config.get()",
          "executable": false
        },
        "158": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil,",
          "executable": true
        },
        "1824": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local success, err = error_handler.try(function(...",
          "executable": true
        },
        "782": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     rotate = \"boolean\",",
          "executable": false
        },
        "50": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  config.values = {}",
          "executable": true
        },
        "60": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  ACCESS = error_handler.CATEGORY.VALIDATION, -- P...",
          "executable": true
        },
        "70": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return {}",
          "executable": true
        },
        "80": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param parts string[] The path parts to ensure ...",
          "executable": false
        },
        "838": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    has_defaults = defaults ~= nil,",
          "executable": true
        },
        "20": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field set fun(path: string, value: any): centr...",
          "executable": false
        },
        "30": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field configure_from_config fun(global_config:...",
          "executable": false
        },
        "938": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   for _, field_err in ipairs(err.context.error...",
          "executable": false
        },
        "366": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      provided_type = type(path),",
          "executable": true
        },
        "466": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   central_config.delete(\"database.replica.port...",
          "executable": false
        },
        "566": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return false, err",
          "executable": true
        },
        "666": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    has_exact_listeners = config.listeners[path] ~...",
          "executable": true
        },
        "1299": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return dofile(path)",
          "executable": true
        },
        "1733": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- values, it simply returns the value itself. Th...",
          "executable": false
        },
        "166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "266": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1230": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   if err.message:match(\"not found\") then",
          "executable": false
        },
        "424": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Store old value for change detection",
          "executable": false
        },
        "1270": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"error\", err.message, err.context)",
          "executable": true
        },
        "1832": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      },",
          "executable": true
        },
        "766": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- modules to define their configuration requirem...",
          "executable": false
        },
        "866": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "966": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if module_name ~= nil and type(module_name) ~= \"...",
          "executable": true
        },
        "1268": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"load_from_file\",",
          "executable": true
        },
        "568": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Registers a callback to be notified when confi...",
          "executable": false
        },
        "668": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Notify exact path listeners using error_handl...",
          "executable": false
        },
        "368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "468": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) == \"table\" and type(target[k]) == \"...",
          "executable": true
        },
        "268": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "1267": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      path = path,",
          "executable": true
        },
        "1724": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  config.values = merged_config",
          "executable": true
        },
        "392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      config.values = deep_copy(value)",
          "executable": true
        },
        "1812": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return result",
          "executable": true
        },
        "1259": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "1257": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"load_from_file\",",
          "executable": true
        },
        "559": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local context = {",
          "executable": true
        },
        "1317": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        got = type(user_config),",
          "executable": true
        },
        "711": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              changed_path = path,",
          "executable": true
        },
        "811": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     password = \"string\",",
          "executable": false
        },
        "376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local err = error_handler.validation_error(\"...",
          "executable": true
        },
        "276": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil, err",
          "executable": true
        },
        "176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          })",
          "executable": true
        },
        "1811": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "776": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Schema definition",
          "executable": false
        },
        "676": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          log(\"error\", \"Error in change listener c...",
          "executable": true
        },
        "576": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return central_config The module instance for...",
          "executable": false
        },
        "476": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     end",
          "executable": false
        },
        "1246": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local valid, validate_err = central_config.v...",
          "executable": false
        },
        "415": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for i, part in ipairs(parts) do",
          "executable": true
        },
        "976": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local function validate_module(name)",
          "executable": true
        },
        "876": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log(\"warn\", err.message, err.context)",
          "executable": true
        },
        "1244": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local config, err = central_config.load_from_f...",
          "executable": false
        },
        "1032": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          module = name,",
          "executable": true
        },
        "1241": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "1240": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   print(\"Configuration loaded successfully\")",
          "executable": false
        },
        "1238": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local config, err = central_config.load_from_f...",
          "executable": false
        },
        "1429": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Sort keys for deterministic output",
          "executable": false
        },
        "1105": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          type = type(schema.field_values),",
          "executable": true
        },
        "1287": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      path = path,",
          "executable": true
        },
        "90": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        parts = parts,",
          "executable": true
        },
        "1234": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "1080": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              end)",
          "executable": true
        },
        "1648": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if not success then",
          "executable": true
        },
        "1290": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Create a proper error object for tests",
          "executable": false
        },
        "1225": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1067": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "1221": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1533": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   .set(\"database.retries\", 3)",
          "executable": false
        },
        "958": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   if central_config.validate() then",
          "executable": false
        },
        "858": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              table.insert(keys, k)",
          "executable": true
        },
        "758": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "286": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Navigate to value",
          "executable": false
        },
        "386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "1219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- configuration data. If the file doesn't exist,...",
          "executable": false
        },
        "186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param obj any The object to copy",
          "executable": false
        },
        "686": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          })",
          "executable": true
        },
        "786": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     level = {\"debug\", \"info\", \"warn\", \"error\"}...",
          "executable": false
        },
        "486": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      provided_type = type(path),",
          "executable": true
        },
        "586": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.on_change(\"database\", function(...",
          "executable": false
        },
        "1070": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            log(\"warn\", \"Invalid pattern specifica...",
          "executable": true
        },
        "1205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Return validation result",
          "executable": false
        },
        "886": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- No value exists, so copy from defau...",
          "executable": false
        },
        "986": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- No configuration for this module, which i...",
          "executable": false
        },
        "1217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function loads configuration data from a ...",
          "executable": false
        },
        "1216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Loads configuration from a file and merges it ...",
          "executable": false
        },
        "1632": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(options) ~= \"table\" then",
          "executable": true
        },
        "1214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1445": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "1212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "1187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if result then",
          "executable": true
        },
        "1005": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      modules = errors,",
          "executable": true
        },
        "1210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local validation_error = error_handler.validat...",
          "executable": true
        },
        "1748": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- config_copy.logging.level = \"debug\"",
          "executable": false
        },
        "1208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "1206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if all_valid then",
          "executable": true
        },
        "1190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local validation_error =",
          "executable": true
        },
        "1218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- current configuration. The file is expected to...",
          "executable": false
        },
        "1203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1612": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     local key, value = arg[i]:match(\"^%-%-([%w...",
          "executable": false
        },
        "1633": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Op...",
          "executable": true
        },
        "1087": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              elseif not result then",
          "executable": true
        },
        "1006": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1544": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1611": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   for i = 1, #arg do",
          "executable": false
        },
        "1425": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "1002": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              message = \"Required field missing\",",
          "executable": true
        },
        "1759": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      value_type = type(obj),",
          "executable": true
        },
        "1185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if module_name then",
          "executable": true
        },
        "521": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log(\"debug\", err.message, context)",
          "executable": true
        },
        "1181": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      errors[name] = module_errors",
          "executable": true
        },
        "1177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Store errors if any",
          "executable": false
        },
        "1176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "134": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if logging then",
          "executable": true
        },
        "234": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "334": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @param value any The value to store at the spe...",
          "executable": false
        },
        "434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(\"debug\", \"Set configuration value\", {",
          "executable": true
        },
        "534": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "298": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return default",
          "executable": true
        },
        "198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local result = {}",
          "executable": true
        },
        "1629": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"debug\", \"No options provided to configure...",
          "executable": true
        },
        "798": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.register_module(\"http_client\", ...",
          "executable": false
        },
        "698": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local parts = path_to_parts(path)",
          "executable": true
        },
        "598": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   if path:match(\"^cache%.\") then",
          "executable": false
        },
        "498": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "978": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local schema = config.schemas[name]",
          "executable": true
        },
        "878": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Store defaults (with deep copy to prevent...",
          "executable": false
        },
        "1090": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  message = \"Field value does not ...",
          "executable": true
        },
        "1118": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              local valid = false",
          "executable": true
        },
        "1700": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.configure_from_config(load_pres...",
          "executable": false
        },
        "1512": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- configuration will be cleared. The function no...",
          "executable": false
        },
        "1333": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  message = message or \"Failed cus...",
          "executable": true
        },
        "1167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  field = field,",
          "executable": true
        },
        "1040": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              field = field,",
          "executable": true
        },
        "1161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  field = field,",
          "executable": true
        },
        "1325": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Store and apply the loaded configuration",
          "executable": false
        },
        "1152": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            })",
          "executable": true
        },
        "1668": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return central_config The module instance for...",
          "executable": false
        },
        "621": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1148": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            log(\"warn\", \"Invalid validator specifi...",
          "executable": true
        },
        "1147": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if type(validator) ~= \"function\" then",
          "executable": true
        },
        "1146": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for field, validator in pairs(schema.valid...",
          "executable": true
        },
        "1145": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "271": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      parameter_name = \"path\",",
          "executable": true
        },
        "1432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      table.insert(keys, k)",
          "executable": true
        },
        "1142": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          module = name,",
          "executable": true
        },
        "1096": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "1613": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     if key and key:find(\"%.\") then",
          "executable": false
        },
        "1324": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local old_config = deep_copy(config.values)",
          "executable": true
        },
        "1137": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1645": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local success, err = error_handler.try(funct...",
          "executable": true
        },
        "1747": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Modify the copy without affecting the origi...",
          "executable": false
        },
        "1134": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "1133": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "1779": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   timeouts = { connection = 30, request = 10 }",
          "executable": false
        },
        "1128": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  message = \"Field has invalid val...",
          "executable": true
        },
        "1127": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  field = field,",
          "executable": true
        },
        "1088": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                table.insert(module_errors, {",
          "executable": true
        },
        "120": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_fs()",
          "executable": true
        },
        "1123": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                end",
          "executable": true
        },
        "748": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          log(\"debug\", \"Successfully called root l...",
          "executable": true
        },
        "848": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "948": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   for module_name, module_errors in pairs(err....",
          "executable": false
        },
        "1433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "724": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          log(\"warn\", \"Non-function callback found...",
          "executable": true
        },
        "536": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Delete the key if parent exists",
          "executable": false
        },
        "924": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function performs comprehensive validatio...",
          "executable": false
        },
        "824": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "236": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Gets a configuration value from the specified ...",
          "executable": false
        },
        "136": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    logger[level](message, params or {})",
          "executable": true
        },
        "1121": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  valid = true",
          "executable": true
        },
        "1119": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              for _, valid_value in ipairs(valid_v...",
          "executable": true
        },
        "1117": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if value ~= nil then",
          "executable": true
        },
        "154": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if source == nil then",
          "executable": true
        },
        "799": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   timeout = 30,",
          "executable": false
        },
        "1062": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(schema.field_patterns) ~= \"table\" th...",
          "executable": true
        },
        "454": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table|nil error Error if any occurred",
          "executable": false
        },
        "936": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not valid then",
          "executable": false
        },
        "836": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    module = module_name,",
          "executable": true
        },
        "736": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(callback) == \"function\" then",
          "executable": true
        },
        "438": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    complete_path = path,",
          "executable": true
        },
        "338": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- -- Set a simple value",
          "executable": false
        },
        "638": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param new_value any The new value",
          "executable": false
        },
        "538": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Store old value for change detection",
          "executable": false
        },
        "45": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  defaults = {}, -- Default values by module",
          "executable": true
        },
        "1100": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Value validation (enum-like)",
          "executable": false
        },
        "238": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- dot-separated path notation. It returns a copy...",
          "executable": false
        },
        "138": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1110": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            log(\"warn\", \"Invalid valid_values spec...",
          "executable": true
        },
        "1109": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if type(valid_values) ~= \"table\" then",
          "executable": true
        },
        "998": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for _, field in ipairs(schema.required_fie...",
          "executable": true
        },
        "898": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Both are tables, so merge recursive...",
          "executable": false
        },
        "1108": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for field, valid_values in pairs(schema.fi...",
          "executable": true
        },
        "1035": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "1103": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        log(\"warn\", \"Invalid schema.field_values f...",
          "executable": true
        },
        "1312": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(user_config) ~= \"table\" then",
          "executable": true
        },
        "546": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "734": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if config.listeners[\"\"] and #config.listeners[\"\"...",
          "executable": true
        },
        "834": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Log the registration operation",
          "executable": false
        },
        "934": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Validate a specific module's configuration",
          "executable": false
        },
        "146": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Input validation",
          "executable": false
        },
        "246": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1099": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1098": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1097": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1095": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "124": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1089": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  field = field,",
          "executable": true
        },
        "946": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if not valid then",
          "executable": false
        },
        "224": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not deep_equals(v, b[k]) then",
          "executable": true
        },
        "746": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          })",
          "executable": true
        },
        "846": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        module = module_name,",
          "executable": true
        },
        "348": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "448": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- It performs path validation and traversal to f...",
          "executable": false
        },
        "548": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log(\"debug\", err.message, context)",
          "executable": true
        },
        "648": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- In rare cases, manually notify if bypass se...",
          "executable": false
        },
        "1200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for name in pairs(config.schemas) do",
          "executable": true
        },
        "1086": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                })",
          "executable": true
        },
        "148": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil,",
          "executable": true
        },
        "248": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get a simple setting with default value",
          "executable": false
        },
        "1085": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  pattern = pattern,",
          "executable": true
        },
        "1150": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              field = field,",
          "executable": true
        },
        "1081": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              if not success then",
          "executable": true
        },
        "1025": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     print(\"Error loading configuration: \" .. e...",
          "executable": false
        },
        "1079": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                return string.match(value, pattern...",
          "executable": true
        },
        "1078": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              local success, result = error_handle...",
          "executable": true
        },
        "1077": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if value ~= nil and type(value) == \"st...",
          "executable": true
        },
        "944": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Validate all registered modules",
          "executable": false
        },
        "844": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        parameter_name = \"schema\",",
          "executable": true
        },
        "744": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            traceback = err.traceback,",
          "executable": true
        },
        "644": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- External process changed version file",
          "executable": false
        },
        "1567": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      log(\"debug\", \"No configuration or defaults t...",
          "executable": true
        },
        "1074": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            })",
          "executable": true
        },
        "1072": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              field = field,",
          "executable": true
        },
        "1068": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for field, pattern in pairs(schema.field_p...",
          "executable": true
        },
        "174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            operation = \"deep_merge\",",
          "executable": true
        },
        "274": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Root config must be a table",
          "executable": false
        },
        "474": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---       -- Silently ignore if path doesn't exist",
          "executable": false
        },
        "1222": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path? string The path to the configurat...",
          "executable": false
        },
        "1568": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1705": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M",
          "executable": true
        },
        "1113": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              values_type = type(valid_values),",
          "executable": true
        },
        "1279": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      path = path,",
          "executable": true
        },
        "1056": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "1163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  value = value,",
          "executable": true
        },
        "1476": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    result = result .. indent .. \"}\"",
          "executable": true
        },
        "1045": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            if value ~= nil and type(value) == \"nu...",
          "executable": true
        },
        "44": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  listeners = {}, -- Change listeners by path",
          "executable": true
        },
        "324": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "  return current",
          "executable": true
        },
        "1300": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end)",
          "executable": true
        },
        "1050": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  min = range.min,",
          "executable": true
        },
        "1014": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "1038": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            log(\"warn\", \"Invalid range specificati...",
          "executable": true
        },
        "1037": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if type(range) ~= \"table\" then",
          "executable": true
        },
        "1106": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "75": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1242": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1031": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        log(\"warn\", \"Invalid schema.field_ranges f...",
          "executable": true
        },
        "854": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        schema_keys = table.concat(",
          "executable": true
        },
        "954": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "654": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      parameter_name = \"path\",",
          "executable": true
        },
        "754": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        log(\"warn\", \"Non-function callback found i...",
          "executable": true
        },
        "1030": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(schema.field_ranges) ~= \"table\" then",
          "executable": true
        },
        "1467": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Skip unsupported types (function, userd...",
          "executable": false
        },
        "1028": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Range validation",
          "executable": false
        },
        "115": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return _logging",
          "executable": true
        },
        "144": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Deep merge helper (for merging configs)",
          "executable": false
        },
        "465": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   central_config.delete(\"database.replica.host...",
          "executable": false
        },
        "420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      ---@diagnostic disable-next-line: need-check...",
          "executable": false
        },
        "1245": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if config then",
          "executable": false
        },
        "544": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        key = last_key,",
          "executable": true
        },
        "444": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "344": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "---   port = 5432,",
          "executable": false
        },
        "244": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return any value The value at the path or the...",
          "executable": false
        },
        "414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ---@diagnostic disable-next-line: unused-local",
          "executable": false
        },
        "1379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if success then",
          "executable": false
        },
        "1576": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    module = module_name,",
          "executable": true
        },
        "322": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return deep_copy(current)",
          "executable": true
        },
        "1347": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      notify_changes(new_prefix, old[k], v)",
          "executable": true
        },
        "522": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false, err",
          "executable": true
        },
        "1400": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      provided_type = type(path),",
          "executable": true
        },
        "326": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Sets a configuration value at the specified pa...",
          "executable": false
        },
        "1018": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            table.insert(module_errors, {",
          "executable": true
        },
        "1011": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        log(\"warn\", \"Invalid schema.field_types fo...",
          "executable": true
        },
        "1114": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            })",
          "executable": true
        },
        "792": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   format = \"text\",",
          "executable": false
        },
        "1372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local success, err = central_config.save_to_fi...",
          "executable": false
        },
        "85": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local function ensure_path(t, parts)",
          "executable": true
        },
        "1033": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          type = type(schema.field_ranges),",
          "executable": true
        },
        "1548": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local old_values = deep_copy(config.values)",
          "executable": true
        },
        "34": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field ERROR_TYPES table Error type constants m...",
          "executable": false
        },
        "964": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.validate(module_name)",
          "executable": true
        },
        "1044": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local value = module_config[field]",
          "executable": true
        },
        "1135": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "664": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    old_value_type = type(old_value),",
          "executable": true
        },
        "564": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local err = error_handler.validation_error(\"Dele...",
          "executable": true
        },
        "864": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "764": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- the central configuration system. The schema i...",
          "executable": false
        },
        "394": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "494": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"delete\",",
          "executable": true
        },
        "194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "294": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        got = type(current),",
          "executable": true
        },
        "330": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- also notifies any change listeners if the valu...",
          "executable": false
        },
        "430": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "1022": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              got = type(module_config[field]),",
          "executable": true
        },
        "1368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return table|nil error Error if any occurred",
          "executable": false
        },
        "1264": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if filesystem module is available",
          "executable": false
        },
        "1276": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end, path, { operation = \"check_file_exists\" })",
          "executable": true
        },
        "1479": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Create a copy of the config to serialize",
          "executable": false
        },
        "682": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "141": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param source table|nil The source table to mer...",
          "executable": false
        },
        "1247": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   if not valid then",
          "executable": false
        },
        "389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if #parts == 0 then",
          "executable": true
        },
        "1355": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1125": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              if not valid then",
          "executable": true
        },
        "365": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      parameter_name = \"path\",",
          "executable": true
        },
        "565": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  log(\"debug\", err.message, context)",
          "executable": true
        },
        "1000": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            table.insert(module_errors, {",
          "executable": true
        },
        "1042": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            })",
          "executable": true
        },
        "1272": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Create the parent path structure if needed",
          "executable": false
        },
        "100": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      current = current[part]",
          "executable": true
        },
        "974": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1144": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        })",
          "executable": true
        },
        "1383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Save with validation check",
          "executable": false
        },
        "1256": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      provided_type = type(path),",
          "executable": true
        },
        "574": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path? string The path to listen for cha...",
          "executable": false
        },
        "674": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end)",
          "executable": true
        },
        "774": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Register a module with schema and defaults",
          "executable": false
        },
        "874": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        operation = \"register_module\",",
          "executable": true
        },
        "264": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   -- Use defaults",
          "executable": false
        },
        "164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if target == nil then",
          "executable": true
        },
        "464": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if central_config.get(\"database.replica\") then",
          "executable": false
        },
        "364": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Pa...",
          "executable": true
        },
        "1013": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          type = type(schema.field_types),",
          "executable": true
        },
        "1805": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    log(\"error\", \"Error in merge operation\", {",
          "executable": true
        },
        "291": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        path = path,",
          "executable": true
        },
        "524": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    current = current[part]",
          "executable": true
        },
        "1376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1364": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- directories needed and handles filesystem erro...",
          "executable": false
        },
        "261": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local cache_settings, err = central_config.get...",
          "executable": false
        },
        "1579": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for _, _ in pairs(config.defaults[module_nam...",
          "executable": true
        },
        "300": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        local err =",
          "executable": true
        },
        "200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) == \"table\" then",
          "executable": true
        },
        "1255": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      parameter_name = \"path\",",
          "executable": true
        },
        "596": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   ",
          "executable": false
        },
        "600": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "1716": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Merge global config into our config with erro...",
          "executable": false
        },
        "605": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Pa...",
          "executable": true
        },
        "162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "262": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- if err then",
          "executable": false
        },
        "1348": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "462": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "615": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      parameter_name = \"callback\",",
          "executable": true
        },
        "1084": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                  message = \"Invalid pattern: \" .....",
          "executable": true
        },
        "1796": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local function safe_merge(target, source)",
          "executable": false
        },
        "1599": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Configure from command-line arguments",
          "executable": false
        },
        "984": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local module_config = M.get(name)",
          "executable": true
        },
        "884": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for k, v in pairs(source) do",
          "executable": true
        },
        "784": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   },",
          "executable": false
        },
        "684": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            path = path,",
          "executable": true
        },
        "584": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "591": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end)",
          "executable": false
        },
        "1305": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local parse_err = error_handler.parse_error(\"E...",
          "executable": true
        },
        "159": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_handler.validation_error(\"Target must ...",
          "executable": true
        },
        "624": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  config.listeners[path] = config.listeners[path] ...",
          "executable": true
        },
        "1692": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   local presets = {",
          "executable": false
        },
        "143": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table|nil error Any error that occurred...",
          "executable": false
        },
        "629": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "631": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This internal function is called whenever a co...",
          "executable": false
        },
        "633": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- and root path. The function handles errors in ...",
          "executable": false
        },
        "1661": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function merges a complete configuration ...",
          "executable": false
        },
        "651": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Parameter validation",
          "executable": false
        },
        "1621": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "1728": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Export public interface with error handling wra...",
          "executable": false
        },
        "449": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- existence, and properly notifies listeners of ...",
          "executable": false
        },
        "1288": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"load_from_file\",",
          "executable": true
        },
        "373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not path or path == \"\" then",
          "executable": true
        },
        "1816": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- its default configuration and registering it w...",
          "executable": false
        },
        "54": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "152": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "131": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Log helper with structured logging",
          "executable": false
        },
        "179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "101": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1448": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          key_type = type(k),",
          "executable": true
        },
        "687": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Validate specific module if provided",
          "executable": false
        },
        "994": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          module = name,",
          "executable": true
        },
        "1699": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "794": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   max_size = 10485760 -- 10MB",
          "executable": false
        },
        "894": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              key = k,",
          "executable": true
        },
        "594": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.on_change(nil, function(path, o...",
          "executable": false
        },
        "694": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "484": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local err = error_handler.validation_error(\"Pa...",
          "executable": true
        },
        "384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    config.values = deep_copy(value)",
          "executable": true
        },
        "284": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return deep_copy(config.values)",
          "executable": true
        },
        "184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "446": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Deletes a configuration value at the specified...",
          "executable": false
        },
        "1592": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- that follow the \"module.setting\" dot notation ...",
          "executable": false
        },
        "646": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- central_config.set(\"app.version\", new_version)",
          "executable": false
        },
        "251": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Get a complex configuration object ",
          "executable": false
        },
        "351": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---   logging = { level = \"info\", format = \"json\" ...",
          "executable": false
        },
        "151": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        operation = \"deep_merge\",",
          "executable": true
        },
        "1361": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function serializes the current configura...",
          "executable": false
        },
        "554": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    M.notify_change(path, old_value, nil)",
          "executable": true
        },
        "655": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      provided_type = type(path),",
          "executable": true
        },
        "1388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "355": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "1787": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- local merged = central_config.merge(base_confi...",
          "executable": false
        },
        "336": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "436": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    old_value_type = type(old_value),",
          "executable": true
        },
        "636": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param path string The path that changed",
          "executable": false
        },
        "1350": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for k, v in pairs(old) do",
          "executable": true
        },
        "312": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if default ~= nil then",
          "executable": true
        },
        "387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return any A deep copy of the input object",
          "executable": false
        },
        "441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not deep_equals(old_value, value) then",
          "executable": true
        },
        "1799": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   end",
          "executable": false
        },
        "1308": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    }, error_handler.is_error(err) and err or nil)",
          "executable": true
        },
        "715": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            })",
          "executable": true
        },
        "1596": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @return central_config The module instance for...",
          "executable": false
        },
        "1411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      path = path,",
          "executable": true
        },
        "1744": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- }",
          "executable": false
        },
        "533": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false, err",
          "executable": true
        },
        "233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "333": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @param path? string The path to set the value ...",
          "executable": false
        },
        "237": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- This function retrieves a value from the centr...",
          "executable": false
        },
        "725": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            parent_path = parent_path,",
          "executable": true
        },
        "1170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                })",
          "executable": true
        },
        "537": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(current) == \"table\" then",
          "executable": true
        },
        "437": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    new_value_type = type(value),",
          "executable": true
        },
        "337": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @usage",
          "executable": false
        },
        "733": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Notify root listeners (empty path)",
          "executable": false
        },
        "738": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          return callback(path, old_value, new_val...",
          "executable": true
        },
        "1421": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return nil,",
          "executable": true
        },
        "768": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param module_name string The name of the modu...",
          "executable": false
        },
        "1461": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        result = result .. indent .. \"  \" .. key_s...",
          "executable": true
        },
        "1687": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- }",
          "executable": false
        },
        "729": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "40": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Configuration storage",
          "executable": false
        },
        "10": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- - Clean serialization of Lua tables for readab...",
          "executable": false
        },
        "61": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  IO = error_handler.CATEGORY.IO, -- File I/O erro...",
          "executable": true
        },
        "91": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "1250": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- end",
          "executable": false
        },
        "815": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.register_module(module_name, schema, de...",
          "executable": true
        },
        "1248": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---     print(\"Loaded config is invalid: \" .. vali...",
          "executable": false
        },
        "825": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "829": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      operation = \"register_module\",",
          "executable": true
        },
        "321": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if type(current) == \"table\" then",
          "executable": true
        },
        "1408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if filesystem module is available",
          "executable": false
        },
        "74": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    table.insert(parts, part)",
          "executable": true
        },
        "1696": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---   }",
          "executable": false
        },
        "1781": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- ",
          "executable": false
        },
        "427": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Set the value (deep copy if it's a table)",
          "executable": false
        },
        "527": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        path = path,",
          "executable": true
        },
        "35": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field _VERSION string Module version identifie...",
          "executable": false
        },
        "1111": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              module = name,",
          "executable": true
        },
        "306": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if current == nil then",
          "executable": true
        },
        "689": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        log(\"warn\", \"Non-function callback found i...",
          "executable": true
        },
        "1405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1736": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @param obj any Object to serialize (deep copy)",
          "executable": false
        },
        "204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "891": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "902": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "909": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          (function()",
          "executable": true
        },
        "1521": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- -- Reset after changing settings temporarily",
          "executable": false
        },
        "915": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end)(),",
          "executable": true
        },
        "919": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1845": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    })",
          "executable": true
        },
        "529": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        operation = \"delete\",",
          "executable": true
        },
        "1587": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return M",
          "executable": true
        },
        "570": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- path or any of its children changes. You can r...",
          "executable": false
        },
        "1188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return true",
          "executable": true
        }
      },
      "line_coverage_percent": 3,
      "covered_lines": 37,
      "executed_lines": 37,
      "executed_functions": 2,
      "covered_functions": 2,
      "name": "central_config.lua",
      "function_coverage_percent": 100,
      "path": "./lib/core/central_config.lua"
    },
    "./lib/coverage/process_functions.lua": {
      "execution_coverage_percent": 54,
      "functions": {
        "process_functions_from_file:28-140": {
          "covered": true,
          "executed": true,
          "start_line": 28,
          "execution_count": 1,
          "name": "process_functions_from_file",
          "type": "closure",
          "end_line": 140
        },
        "anonymous:31-33": {
          "covered": true,
          "executed": true,
          "start_line": 31,
          "execution_count": 1,
          "name": "anonymous",
          "type": "anonymous",
          "end_line": 33
        },
        "anonymous:0-0": {
          "covered": true,
          "executed": true,
          "start_line": 0,
          "execution_count": 1,
          "name": "anonymous",
          "type": "anonymous",
          "end_line": 0
        },
        "get_function_stats:218-347": {
          "covered": true,
          "executed": true,
          "start_line": 218,
          "execution_count": 1,
          "name": "get_function_stats",
          "type": "closure",
          "end_line": 347
        },
        "anonymous:236-238": {
          "covered": true,
          "executed": true,
          "start_line": 236,
          "execution_count": 1,
          "name": "anonymous",
          "type": "anonymous",
          "end_line": 238
        }
      },
      "total_lines": 477,
      "executable_lines": 299,
      "total_functions": 5,
      "lines": {
        "51": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Consider using a proper Lua parser for more c...",
          "executable": false
        },
        "41": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    source_text = result",
          "executable": true
        },
        "31": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "    if not success then",
          "executable": true
        },
        "21": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param source_text? string Optional source text...",
          "executable": false
        },
        "91": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if function_start and function_start < end...",
          "executable": true
        },
        "81": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "comment",
          "content": "      -- Scan for function end by looking for bala...",
          "executable": false
        },
        "232": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end)",
          "executable": true
        },
        "61": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "456": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "356": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "11": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @version 1.0.0",
          "executable": false
        },
        "256": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "  -- Process function data",
          "executable": false
        },
        "156": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get coverage data",
          "executable": false
        },
        "150": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        }",
          "executable": true
        },
        "435": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_data.lines[line_num].covered = true",
          "executable": true
        },
        "135": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "235": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    logger.warn(\"Failed to get coverage data: \" .....",
          "executable": true
        },
        "450": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      report_data.summary.covered_lines = (report_...",
          "executable": true
        },
        "458": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for file_path, file_stats in pairs(function_stat...",
          "executable": true
        },
        "358": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local total_functions = 0",
          "executable": true
        },
        "258": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "    -- Process all functions",
          "executable": false
        },
        "158": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return debug_hook.get_coverage_data()",
          "executable": true
        },
        "50": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- This is a simple pattern matching approach th...",
          "executable": false
        },
        "60": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    \"local%s+function%s+([%w_%.]+)%s*%([^%)]*%)\"",
          "executable": true
        },
        "142": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not debug_hook then",
          "executable": true
        },
        "201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "10": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- @author Firmo Team",
          "executable": false
        },
        "20": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param file_path string The path to the file to...",
          "executable": false
        },
        "30": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "40": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "366": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Check if the function was executed",
          "executable": false
        },
        "466": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "301": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  M.ensure_function_coverage_consistency(report_da...",
          "executable": true
        },
        "166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        operation = \"process_all_functions\"",
          "executable": true
        },
        "266": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "445": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_data.stats.executable = executable_line...",
          "executable": true
        },
        "160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "245": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local data = result",
          "executable": true
        },
        "145": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return nil, error_handler.runtime_error(",
          "executable": true
        },
        "460": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      report_data.files[file_path].total_functions...",
          "executable": true
        },
        "368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        executed_functions = executed_functions + ...",
          "executable": true
        },
        "468": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "return M",
          "executable": true
        },
        "168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    )",
          "executable": true
        },
        "268": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      for line, func_name in pairs(funcs) do",
          "executable": true
        },
        "215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, result = pcall(require, \"lib.co...",
          "executable": true
        },
        "315": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return {total_functions: number, executed_func...",
          "executable": false
        },
        "111": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- Store function info",
          "executable": false
        },
        "252": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    function_coverage_percent = 0,",
          "executable": true
        },
        "352": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Skip files without function data",
          "executable": false
        },
        "247": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Initialize stats",
          "executable": false
        },
        "147": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        {",
          "executable": true
        },
        "114": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        line = line_num,",
          "executable": true
        },
        "214": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if not debug_hook then",
          "executable": true
        },
        "176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not file_data.source_text then",
          "executable": true
        },
        "411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "311": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            stats.covered_functions = stats.covere...",
          "executable": true
        },
        "115": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end_line = end_line",
          "executable": true
        },
        "170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "470": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 470",
          "executable": false
        },
        "370": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- CRITICAL FIX: Always mark executed func...",
          "executable": false
        },
        "270": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        stats.functions_by_file[file_path].total =...",
          "executable": true
        },
        "208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "308": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "                           data.functions.covered[...",
          "executable": true
        },
        "408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  report_data.summary.total_functions = function_s...",
          "executable": true
        },
        "90": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Found nested function before end",
          "executable": false
        },
        "325": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "225": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "357": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Count executed vs covered functions",
          "executable": false
        },
        "425": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "129": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "229": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Get coverage data",
          "executable": false
        },
        "329": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        stats.functions_by_file[file_path].coverag...",
          "executable": true
        },
        "108": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "286": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          data.functions.executed[file_path] = dat...",
          "executable": true
        },
        "386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.warn(\"Failed to process functions fro...",
          "executable": true
        },
        "125": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "180": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      goto continue",
          "executable": true
        },
        "367": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if func_data.executed then",
          "executable": true
        },
        "476": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 476",
          "executable": false
        },
        "475": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 475",
          "executable": false
        },
        "280": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "           data.files[file_path]._executed_lines a...",
          "executable": true
        },
        "380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file_data.function_coverage_percent = ",
          "executable": true
        },
        "474": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 474",
          "executable": false
        },
        "473": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 473",
          "executable": false
        },
        "472": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 472",
          "executable": false
        },
        "471": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 471",
          "executable": false
        },
        "469": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 469",
          "executable": false
        },
        "467": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "465": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "313": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "463": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "462": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      report_data.files[file_path].function_covera...",
          "executable": true
        },
        "461": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      report_data.files[file_path].covered_functio...",
          "executable": true
        },
        "335": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if stats.total_functions > 0 then",
          "executable": true
        },
        "239": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      covered_functions = 0,",
          "executable": true
        },
        "139": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return table | nil error Error information if ...",
          "executable": false
        },
        "439": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        covered_lines = covered_lines + 1",
          "executable": true
        },
        "339": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "316": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- Calculate file coverage percentage",
          "executable": false
        },
        "216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not success then",
          "executable": true
        },
        "457": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Update individual files with function statist...",
          "executable": false
        },
        "123": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "comment",
          "content": "  -- Extract basename manually since fs.basename m...",
          "executable": false
        },
        "223": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        functions_by_file = {}",
          "executable": true
        },
        "323": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          for line, _ in pairs(data.functions.cove...",
          "executable": true
        },
        "423": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local executable_lines = 0",
          "executable": true
        },
        "455": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "275": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "                        data.functions.executed[fi...",
          "executable": true
        },
        "375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "424": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local covered_lines = 0",
          "executable": true
        },
        "134": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    functions_identified = #functions",
          "executable": true
        },
        "234": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if not success then",
          "executable": true
        },
        "334": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Calculate overall coverage percentage",
          "executable": false
        },
        "116": {
          "covered": true,
          "executed": true,
          "execution_count": 8,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "304": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "298": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          data.functions.covered = data.functions....",
          "executable": true
        },
        "198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "453": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        (report_data.summary.covered_lines / repor...",
          "executable": true
        },
        "452": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        report_data.summary.total_lines > 0 and ",
          "executable": true
        },
        "451": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      report_data.summary.line_coverage_percent = ",
          "executable": true
        },
        "290": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if executed then",
          "executable": true
        },
        "190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "337": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "437": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "449": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      report_data.summary.total_lines = (report_da...",
          "executable": true
        },
        "448": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Also update the global summary",
          "executable": false
        },
        "309": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "                           ",
          "executable": false
        },
        "302": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "          -- Count it as covered",
          "executable": false
        },
        "137": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Process functions from all tracked files",
          "executable": false
        },
        "237": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      total_functions = 0,",
          "executable": true
        },
        "226": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    debug_hook = result",
          "executable": true
        },
        "104": {
          "covered": false,
          "executed": true,
          "execution_count": 62,
          "line_type": "comment",
          "content": "            -- This ends a nested function",
          "executable": false
        },
        "133": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    functions = functions,",
          "executable": true
        },
        "447": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "333": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "233": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for file_path, file_data in pairs(report_data.fi...",
          "executable": true
        },
        "433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Mark the line as executable, executed, ...",
          "executable": false
        },
        "385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "285": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          data.functions.executed = data.functions...",
          "executable": true
        },
        "185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not functions then",
          "executable": true
        },
        "276": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "                        data.functions.executed[fi...",
          "executable": true
        },
        "443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_data.stats.total = executable_lines",
          "executable": true
        },
        "442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Update file stats",
          "executable": false
        },
        "314": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "126": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  logger.debug(\"Processed functions from file\", {",
          "executable": true
        },
        "406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Update report summary with function statistic...",
          "executable": false
        },
        "71": {
          "covered": true,
          "executed": true,
          "execution_count": 7,
          "line_type": "code",
          "content": "      local line_num = 1",
          "executable": true
        },
        "202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "102": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            break",
          "executable": true
        },
        "241": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      functions_by_file = {}",
          "executable": true
        },
        "341": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "430": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_data.lines = file_data.lines or {}",
          "executable": true
        },
        "187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_path = file_path",
          "executable": true
        },
        "434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_data.lines[line_num].executable = tru...",
          "executable": true
        },
        "387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "287": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          data.functions.executed[file_path][line]...",
          "executable": true
        },
        "312": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "319": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        stats.functions_by_file[file_path].covered...",
          "executable": true
        },
        "219": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        total_functions = 0,",
          "executable": true
        },
        "119": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "      pos = end_pos + 1",
          "executable": true
        },
        "432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "113": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        name = func_name,",
          "executable": true
        },
        "436": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_data.lines[line_num].executed = true",
          "executable": true
        },
        "336": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      stats.function_coverage_percent = stats.cove...",
          "executable": true
        },
        "236": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "    return {",
          "executable": true
        },
        "136": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "429": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Initialize lines table if needed",
          "executable": false
        },
        "277": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "103": {
          "covered": true,
          "executed": true,
          "execution_count": 66,
          "line_type": "code",
          "content": "          else",
          "executable": true
        },
        "203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- No special handling for any specific files",
          "executable": false
        },
        "427": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if file_data._executed_lines then",
          "executable": true
        },
        "426": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Mark any executed lines as both executable ...",
          "executable": false
        },
        "454": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "422": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Count executed and executable lines",
          "executable": false
        },
        "254": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "255": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "438": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        executable_lines = executable_lines + 1",
          "executable": true
        },
        "338": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "151": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      )",
          "executable": true
        },
        "212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.get_function_stats()",
          "executable": true
        },
        "351": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for file_path, file_data in pairs(report_data.fi...",
          "executable": true
        },
        "251": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "    covered_functions = 0,",
          "executable": true
        },
        "238": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      executed_functions = 0,",
          "executable": true
        },
        "138": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return boolean | nil success Whether the opera...",
          "executable": false
        },
        "297": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "          -- Ensure the covered table exists and i...",
          "executable": false
        },
        "397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    )",
          "executable": true
        },
        "420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    }",
          "executable": true
        },
        "197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      data.functions.all[file_path] = data.functio...",
          "executable": true
        },
        "419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      percentage = 0",
          "executable": true
        },
        "159": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end)",
          "executable": true
        },
        "417": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      covered = 0,",
          "executable": true
        },
        "416": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      total = 0,",
          "executable": true
        },
        "415": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file_data.stats = file_data.stats or {",
          "executable": true
        },
        "414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Initialize or update file stats",
          "executable": false
        },
        "346": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "  if not report_data or not report_data.files then",
          "executable": true
        },
        "446": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_data.stats.percentage = executable_line...",
          "executable": true
        },
        "146": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"Failed to load debug_hook module\",",
          "executable": true
        },
        "246": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Process all files to ensure line coverage dat...",
          "executable": false
        },
        "410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  report_data.summary.function_coverage_percent = ...",
          "executable": true
        },
        "213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Lazy load debug_hook",
          "executable": false
        },
        "169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "124": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local basename = file_path:match(\"([^/\\\\]+)$\") o...",
          "executable": true
        },
        "369": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "324": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            stats.functions_by_file[file_path].cov...",
          "executable": true
        },
        "224": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "265": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error = error_handler.format_error(result)...",
          "executable": true
        },
        "348": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "121": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  report_data.summary.covered_functions = function...",
          "executable": true
        },
        "407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  report_data.summary = report_data.summary or {}",
          "executable": true
        },
        "421": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "221": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        covered_functions = 0,",
          "executable": true
        },
        "248": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local stats = {",
          "executable": true
        },
        "404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local function_stats = M.get_function_stats()",
          "executable": true
        },
        "403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get function statistics",
          "executable": false
        },
        "402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "400": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Ensure executed functions are consistently ma...",
          "executable": false
        },
        "39": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "29": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "19": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Process functions from a file to identify thei...",
          "executable": false
        },
        "399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "79": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      local search_pos = end_pos",
          "executable": true
        },
        "69": {
          "covered": false,
          "executed": true,
          "execution_count": 3,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "59": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- local function name(...) pattern",
          "executable": false
        },
        "49": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Process the source text to find functions",
          "executable": false
        },
        "396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      {operation = \"enhance_report_data\"}",
          "executable": true
        },
        "395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"Report data must be provided\",",
          "executable": true
        },
        "99": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            for _ in source_text:sub(1, end_token)...",
          "executable": true
        },
        "89": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for file_path, file_data in pairs(data.files or ...",
          "executable": true
        },
        "274": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        local executed = data.functions.executed a...",
          "executable": true
        },
        "374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "279": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if not executed and data.files and data.fi...",
          "executable": true
        },
        "394": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return nil, error_handler.validation_error(",
          "executable": true
        },
        "179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.enhance_report_data(report_data)",
          "executable": true
        },
        "391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table | nil error Error information if ...",
          "executable": false
        },
        "131": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Return functions with additional statistics",
          "executable": false
        },
        "390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean | nil success Whether the opera...",
          "executable": false
        },
        "389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param report_data table The report data to enh...",
          "executable": false
        },
        "388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Enhance report data with function statistics",
          "executable": false
        },
        "384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_data.lines[line_num] = file_data.line...",
          "executable": true
        },
        "331": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "231": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return debug_hook.get_coverage_data()",
          "executable": true
        },
        "382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.debug(\"Skipping file without source t...",
          "executable": true
        },
        "18": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local debug_hook -- Will be imported when needed",
          "executable": true
        },
        "28": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return fs.read_file(file_path)",
          "executable": true
        },
        "477": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 477",
          "executable": false
        },
        "379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file_data.covered_functions = covered_function...",
          "executable": true
        },
        "332": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file_data.total_functions = total_functions",
          "executable": true
        },
        "78": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "      local nested_level = 0",
          "executable": true
        },
        "88": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "        if not end_token then break end",
          "executable": true
        },
        "98": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "            -- Calculate end line",
          "executable": false
        },
        "373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "38": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      )",
          "executable": true
        },
        "48": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "58": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    \"function%s+([%w_%.]+)%s*%([^%)]*%)\",",
          "executable": true
        },
        "68": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "      if not start_pos then break end",
          "executable": true
        },
        "249": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    total_functions = 0,",
          "executable": true
        },
        "349": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Update file's function coverage statistics",
          "executable": false
        },
        "149": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          operation = \"process_all_functions\"",
          "executable": true
        },
        "372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        covered_functions = covered_functions + 1",
          "executable": true
        },
        "444": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      file_data.stats.covered = covered_lines",
          "executable": true
        },
        "344": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return boolean success Whether the operation w...",
          "executable": false
        },
        "244": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "181": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "281": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "           data.files[file_path]._executed_lines[l...",
          "executable": true
        },
        "381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      total_functions > 0 and (covered_functions /...",
          "executable": true
        },
        "365": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "310": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          if already_covered then",
          "executable": true
        },
        "363": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for line_num, func_data in pairs(file_data.fun...",
          "executable": true
        },
        "362": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Ensure all executed functions are marked as...",
          "executable": false
        },
        "303": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          stats.covered_functions = stats.covered_...",
          "executable": true
        },
        "360": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local covered_functions = 0",
          "executable": true
        },
        "345": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.ensure_function_coverage_consistency(re...",
          "executable": true
        },
        "27": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, result, err = error_handler.try...",
          "executable": true
        },
        "17": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Internal state",
          "executable": false
        },
        "355": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "354": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      goto continue",
          "executable": true
        },
        "353": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not file_data.functions then",
          "executable": true
        },
        "350": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- For each file in the report",
          "executable": false
        },
        "87": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- No more end tokens found",
          "executable": false
        },
        "143": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, result = pcall(require, \"lib.co...",
          "executable": true
        },
        "347": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return true",
          "executable": true
        },
        "97": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "            -- This is our function's end",
          "executable": false
        },
        "47": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Process all files consistently - no special c...",
          "executable": false
        },
        "37": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        }",
          "executable": true
        },
        "243": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "57": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- function name(...) pattern",
          "executable": false
        },
        "359": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local executed_functions = 0",
          "executable": true
        },
        "195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      data.functions = data.functions or {}",
          "executable": true
        },
        "194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Create function tracking structures if ne...",
          "executable": false
        },
        "294": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "          -- CRITICAL FIX: Always mark executed fu...",
          "executable": false
        },
        "343": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param report_data table The report data to pro...",
          "executable": false
        },
        "342": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Function to ensure executed functions are prop...",
          "executable": false
        },
        "173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Process each file",
          "executable": false
        },
        "459": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if report_data.files[file_path] then",
          "executable": true
        },
        "178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        file_path = file_path",
          "executable": true
        },
        "191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    file_data.executed_functions = executed_functi...",
          "executable": true
        },
        "278": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Then check if its starting line was exe...",
          "executable": false
        },
        "330": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          stats.functions_by_file[file_path].cover...",
          "executable": true
        },
        "328": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Use covered functions (not executed) fo...",
          "executable": false
        },
        "289": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "326": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "16": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local logger = logging.get_logger(\"coverage.proces...",
          "executable": true
        },
        "26": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not source_text then",
          "executable": true
        },
        "262": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        total = 0,",
          "executable": true
        },
        "162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil, error_handler.runtime_error(",
          "executable": true
        },
        "322": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        if data.functions.covered and data.functio...",
          "executable": true
        },
        "321": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Count covered functions for this file",
          "executable": false
        },
        "320": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "67": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      local start_pos, end_pos, func_name = source...",
          "executable": true
        },
        "96": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          if nested_level == 0 then",
          "executable": true
        },
        "317": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if stats.functions_by_file[file_path].total ...",
          "executable": true
        },
        "76": {
          "covered": false,
          "executed": true,
          "execution_count": 54,
          "line_type": "comment",
          "content": "      -- Calculate end line (approximate)",
          "executable": false
        },
        "86": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "56": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    \"([%w_%.]+)%s*=%s*function%s*%([^%)]*%)\",",
          "executable": true
        },
        "66": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    while true do",
          "executable": true
        },
        "36": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          error = error_handler.format_error(resul...",
          "executable": true
        },
        "253": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    functions_by_file = {}",
          "executable": true
        },
        "264": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        coverage_percent = 0",
          "executable": true
        },
        "164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      {",
          "executable": true
        },
        "464": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "364": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      total_functions = total_functions + 1",
          "executable": true
        },
        "72": {
          "covered": true,
          "executed": true,
          "execution_count": 7,
          "line_type": "code",
          "content": "      for _ in source_text:sub(1, start_pos):gmatc...",
          "executable": true
        },
        "106": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "            search_pos = end_token",
          "executable": true
        },
        "306": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          local already_covered = (data.functions....",
          "executable": true
        },
        "305": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "          -- Check existing covered status (from a...",
          "executable": false
        },
        "361": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      })",
          "executable": true
        },
        "161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not success then",
          "executable": true
        },
        "261": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      stats.functions_by_file[file_path] = {",
          "executable": true
        },
        "300": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          data.functions.covered[file_path][line] ...",
          "executable": true
        },
        "5": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field get_function_stats fun(): {total_functio...",
          "executable": false
        },
        "296": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "295": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "          -- This ensures consistency with line co...",
          "executable": false
        },
        "25": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Get source text if not provided",
          "executable": false
        },
        "15": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local logging = require(\"lib.tools.logging\")",
          "executable": true
        },
        "172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "272": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Check if the function is executed by lo...",
          "executable": false
        },
        "118": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "comment",
          "content": "      -- Continue search from end of this match",
          "executable": false
        },
        "182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "292": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          stats.functions_by_file[file_path].execu...",
          "executable": true
        },
        "291": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          stats.executed_functions = stats.execute...",
          "executable": true
        },
        "196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      data.functions.all = data.functions.all or {...",
          "executable": true
        },
        "95": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "comment",
          "content": "          -- Found end token",
          "executable": false
        },
        "85": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        local end_token = source_text:find(\"end\", ...",
          "executable": true
        },
        "75": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "65": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local pos = 1",
          "executable": true
        },
        "55": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Function name = function(...) pattern",
          "executable": false
        },
        "45": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local functions = {}",
          "executable": true
        },
        "35": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          file_path = file_path,",
          "executable": true
        },
        "210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get function statistics from debug_hook",
          "executable": false
        },
        "110": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "327": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "227": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "288": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "242": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    }",
          "executable": true
        },
        "70": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- Calculate line number",
          "executable": false
        },
        "282": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          executed = true",
          "executable": true
        },
        "428": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for line_num, _ in pairs(file_data._executed...",
          "executable": true
        },
        "371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        func_data.covered = true",
          "executable": true
        },
        "228": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local data = result",
          "executable": true
        },
        "127": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    file_path = basename,",
          "executable": true
        },
        "273": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- First check direct function execution t...",
          "executable": false
        },
        "271": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "        ",
          "executable": false
        },
        "269": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        stats.total_functions = stats.total_functi...",
          "executable": true
        },
        "24": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.process_functions_from_file(file_path, ...",
          "executable": true
        },
        "34": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        {",
          "executable": true
        },
        "44": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Simple function pattern for all Lua files",
          "executable": false
        },
        "205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    ::continue::",
          "executable": true
        },
        "64": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  for i, pattern in ipairs(patterns) do",
          "executable": true
        },
        "74": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "84": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        local function_start = source_text:find(\"f...",
          "executable": true
        },
        "94": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "267": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- Count total functions",
          "executable": false
        },
        "263": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "        executed = 0,",
          "executable": true
        },
        "260": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "      -- Initialize file stats",
          "executable": false
        },
        "259": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "    for file_path, funcs in pairs(data.functions.a...",
          "executable": true
        },
        "105": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "            nested_level = nested_level - 1",
          "executable": true
        },
        "257": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "  if data.functions then",
          "executable": true
        },
        "148": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          error = tostring(result),",
          "executable": true
        },
        "14": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local error_handler = require(\"lib.tools.error_han...",
          "executable": true
        },
        "9": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---",
          "executable": false
        },
        "220": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        executed_functions = 0,",
          "executable": true
        },
        "284": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "          -- Also mark function as executed in fun...",
          "executable": false
        },
        "184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local functions, err = M.process_functions_fro...",
          "executable": true
        },
        "189": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      goto continue",
          "executable": true
        },
        "6": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Function processing module for coverage system",
          "executable": false
        },
        "7": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Analyzes source code to identify functions and...",
          "executable": false
        },
        "8": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- function execution data for reporting.",
          "executable": false
        },
        "1": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@class coverage.process_functions",
          "executable": false
        },
        "2": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field process_functions_from_file fun(file_pat...",
          "executable": false
        },
        "3": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field process_all_functions fun(): boolean | n...",
          "executable": false
        },
        "4": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field enhance_report_data fun(report_data: tab...",
          "executable": false
        },
        "77": {
          "covered": true,
          "executed": true,
          "execution_count": 50,
          "line_type": "code",
          "content": "      local end_line = line_num",
          "executable": true
        },
        "200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      data.functions.all[file_path][func_info.line...",
          "executable": true
        },
        "101": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "            end",
          "executable": true
        },
        "80": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Save functions to debug_hook data",
          "executable": false
        },
        "23": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table | nil error Error information if ...",
          "executable": false
        },
        "53": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Regular patterns for function declarations",
          "executable": false
        },
        "43": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "73": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        line_num = line_num + 1",
          "executable": true
        },
        "63": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Extract line numbers and function names",
          "executable": false
        },
        "93": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          search_pos = function_start",
          "executable": true
        },
        "83": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "comment",
          "content": "        -- Look for 'function' keyword that increa...",
          "executable": false
        },
        "383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    ::continue::",
          "executable": true
        },
        "46": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Process functions",
          "executable": false
        },
        "283": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "128": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    function_count = #functions",
          "executable": true
        },
        "204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "13": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local fs = require(\"lib.tools.filesystem\")",
          "executable": true
        },
        "42": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "307": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "                           data.functions.covered[...",
          "executable": true
        },
        "207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "230": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local success, result = error_handler.try(functi...",
          "executable": true
        },
        "130": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "299": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          data.functions.covered[file_path] = data...",
          "executable": true
        },
        "199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Store function info",
          "executable": false
        },
        "167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      }",
          "executable": true
        },
        "33": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        \"Failed to read file for function processi...",
          "executable": true
        },
        "163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"Failed to get coverage data\",",
          "executable": true
        },
        "153": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    debug_hook = result",
          "executable": true
        },
        "154": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "155": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "112": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      table.insert(functions, {",
          "executable": true
        },
        "132": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return {",
          "executable": true
        },
        "107": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "141": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Lazy load debug_hook",
          "executable": false
        },
        "122": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "52": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "22": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return {name: string, line: number, end_line: ...",
          "executable": false
        },
        "32": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return nil, error_handler.io_error(",
          "executable": true
        },
        "82": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "      while search_pos < #source_text do",
          "executable": true
        },
        "92": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "          nested_level = nested_level + 1",
          "executable": true
        },
        "62": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "222": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        function_coverage_percent = 0,",
          "executable": true
        },
        "120": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not report_data then",
          "executable": true
        },
        "293": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "          ",
          "executable": false
        },
        "193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, func_info in ipairs(functions) do",
          "executable": true
        },
        "109": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "12": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local M = {}",
          "executable": true
        },
        "54": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local patterns = {",
          "executable": true
        },
        "175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Skip files without source text",
          "executable": false
        },
        "340": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return stats",
          "executable": true
        },
        "440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      logger.warn(\"Failed to load debug_hook modul...",
          "executable": true
        },
        "240": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "      function_coverage_percent = 0,",
          "executable": true
        },
        "157": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local success, result, err = error_handler.try(f...",
          "executable": true
        },
        "206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "140": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.process_all_functions()",
          "executable": true
        },
        "100": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "              end_line = end_line + 1",
          "executable": true
        },
        "418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      executable = 0,",
          "executable": true
        },
        "318": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "        -- Track covered functions per file",
          "executable": false
        },
        "218": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return {",
          "executable": true
        },
        "152": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "117": {
          "covered": false,
          "executed": true,
          "execution_count": 4,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "144": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not success then",
          "executable": true
        },
        "250": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    executed_functions = 0,",
          "executable": true
        }
      },
      "line_coverage_percent": 54,
      "covered_lines": 164,
      "executed_lines": 164,
      "executed_functions": 5,
      "covered_functions": 5,
      "name": "process_functions.lua",
      "function_coverage_percent": 100,
      "path": "./lib/coverage/process_functions.lua"
    },
    "./lib/assertion.lua": {
      "execution_coverage_percent": 12,
      "functions": {
        "index:2001-2011": {
          "covered": true,
          "executed": true,
          "start_line": 2001,
          "execution_count": 20,
          "name": "index",
          "type": "closure",
          "end_line": 2011
        },
        "stringify:132-202": {
          "covered": true,
          "executed": true,
          "start_line": 132,
          "execution_count": 8,
          "name": "stringify",
          "type": "closure",
          "end_line": 202
        },
        "anonymous:2020-2023": {
          "covered": true,
          "executed": true,
          "start_line": 2020,
          "execution_count": 10,
          "name": "anonymous",
          "type": "anonymous",
          "end_line": 2023
        },
        "test:595-612": {
          "covered": true,
          "executed": true,
          "start_line": 595,
          "execution_count": 4,
          "name": "test",
          "type": "closure",
          "end_line": 612
        },
        "test:542-544": {
          "covered": true,
          "executed": true,
          "start_line": 542,
          "execution_count": 2,
          "name": "test",
          "type": "closure",
          "end_line": 544
        },
        "expect:1981-2083": {
          "covered": true,
          "executed": true,
          "start_line": 1981,
          "execution_count": 10,
          "name": "expect",
          "type": "closure",
          "end_line": 2083
        },
        "get_logging:73-79": {
          "covered": true,
          "executed": true,
          "start_line": 73,
          "execution_count": 10,
          "name": "get_logging",
          "type": "closure",
          "end_line": 79
        },
        "equal:2012-2079": {
          "covered": true,
          "executed": true,
          "start_line": 2012,
          "execution_count": 4,
          "name": "equal",
          "type": "closure",
          "end_line": 2079
        },
        "get_logger:83-106": {
          "covered": true,
          "executed": true,
          "start_line": 83,
          "execution_count": 10,
          "name": "get_logger",
          "type": "closure",
          "end_line": 106
        },
        "be_truthy:2012-2079": {
          "covered": true,
          "executed": true,
          "start_line": 2012,
          "execution_count": 2,
          "name": "be_truthy",
          "type": "closure",
          "end_line": 2079
        },
        "get_error_handler:63-69": {
          "covered": true,
          "executed": true,
          "start_line": 63,
          "execution_count": 20,
          "name": "get_error_handler",
          "type": "closure",
          "end_line": 69
        },
        "has:117-124": {
          "covered": true,
          "executed": true,
          "start_line": 117,
          "execution_count": 20,
          "name": "has",
          "type": "closure",
          "end_line": 124
        },
        "test:1736-1740": {
          "covered": true,
          "executed": true,
          "start_line": 1736,
          "execution_count": 2,
          "name": "test",
          "type": "closure",
          "end_line": 1740
        },
        "exist:2012-2079": {
          "covered": true,
          "executed": true,
          "start_line": 2012,
          "execution_count": 2,
          "name": "exist",
          "type": "closure",
          "end_line": 2079
        },
        "be_greater_than:2012-2079": {
          "covered": true,
          "executed": true,
          "start_line": 2012,
          "execution_count": 2,
          "name": "be_greater_than",
          "type": "closure",
          "end_line": 2079
        },
        "eq:255-341": {
          "covered": true,
          "executed": true,
          "start_line": 255,
          "execution_count": 4,
          "name": "eq",
          "type": "closure",
          "end_line": 341
        },
        "test:1601-1613": {
          "covered": true,
          "executed": true,
          "start_line": 1601,
          "execution_count": 2,
          "name": "test",
          "type": "closure",
          "end_line": 1613
        }
      },
      "total_lines": 2082,
      "executable_lines": 1495,
      "total_functions": 17,
      "lines": {
        "132": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  a = { test = M.isa },",
          "executable": true
        },
        "532": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- Test if a value is of a specific type",
          "executable": false
        },
        "232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "332": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1963": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1963",
          "executable": false
        },
        "1862": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param v any The value to create assertions for",
          "executable": false
        },
        "1261": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, err = pcall(function()",
          "executable": true
        },
        "1518": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. stringify(v) .. \" to not cont...",
          "executable": true
        },
        "1221": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        'expected \"' .. v .. '\" and \"' .. expected...",
          "executable": true
        },
        "832": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected a function that returns va...",
          "executable": true
        },
        "932": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local multiline = options.multiline or false",
          "executable": true
        },
        "632": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          msg = msg .. \"wrong types: \" .. table.co...",
          "executable": true
        },
        "732": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  match_schema = {",
          "executable": true
        },
        "1406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return M.eq(result_value, expected_value),",
          "executable": true
        },
        "142": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if next(t) == nil then",
          "executable": true
        },
        "342": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [\"\"] = { \"to\", \"to_not\" },",
          "executable": true
        },
        "242": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    pair_key = tostring(t1) .. \":\" .. tostring(t2)",
          "executable": true
        },
        "542": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"truthy\",",
          "executable": true
        },
        "1762": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ---@diagnostic disable-next-line: unused-local",
          "executable": false
        },
        "1455": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_message = err",
          "executable": true
        },
        "1618": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected string \"' .. v .. '\" to be upperca...",
          "executable": true
        },
        "1663": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1321": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, err = pcall(function()",
          "executable": true
        },
        "742": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local missing_props = {}",
          "executable": true
        },
        "642": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"values\",",
          "executable": true
        },
        "942": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "842": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local success, result = pcall(fn)",
          "executable": true
        },
        "1974": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1974",
          "executable": false
        },
        "152": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      multiline = true",
          "executable": true
        },
        "252": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "352": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"end_with\",",
          "executable": true
        },
        "452": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"negative\",",
          "executable": true
        },
        "552": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if not equal then",
          "executable": true
        },
        "1662": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return not v, \"expected \" .. tostring(v) .. \" ...",
          "executable": true
        },
        "2061": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2061",
          "executable": false
        },
        "1061": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false,",
          "executable": true
        },
        "1021": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "2021": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2021",
          "executable": false
        },
        "1892": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if paths[t.action].test then",
          "executable": true
        },
        "1718": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected \"' .. v .. '\" to not end with \"' ....",
          "executable": true
        },
        "652": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return string.find(v, x_str, 1, true) ~= n...",
          "executable": true
        },
        "752": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "               (prop_def == \"string\" or prop_def =...",
          "executable": true
        },
        "852": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected value_fn to return a numbe...",
          "executable": true
        },
        "952": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = string.find(compare_v, compare_...",
          "executable": true
        },
        "1606": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to not be an...",
          "executable": true
        },
        "1874": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "1562": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          return count",
          "executable": true
        },
        "1121": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1818": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected error of type \" .. error_type .. \"...",
          "executable": true
        },
        "1792": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return err:match(pattern) ~= nil,",
          "executable": true
        },
        "1306": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1109": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1462": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "1252": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Function to capture the result",
          "executable": false
        },
        "1064": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "2064": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2064",
          "executable": false
        },
        "1155": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"string\" or type(expected_date) ...",
          "executable": true
        },
        "1017": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if day > days_in_month[month] then",
          "executable": true
        },
        "2017": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2017",
          "executable": false
        },
        "1263": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      async_fn(capture_result)",
          "executable": true
        },
        "1164": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Add date and async assertions to the paths tabl...",
          "executable": false
        },
        "1055": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      hour = hour and tonumber(hour) or 0",
          "executable": true
        },
        "1506": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. stringify(v) .. \" to contain ...",
          "executable": true
        },
        "1574": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"number\" then",
          "executable": true
        },
        "103": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Check if a table contains a specific value",
          "executable": false
        },
        "203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"Different value for key \"",
          "executable": true
        },
        "1755": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error = true,",
          "executable": true
        },
        "1034": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"expected \" .. stringify(v) .. \" to not ...",
          "executable": true
        },
        "2034": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2034",
          "executable": false
        },
        "1052": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "903": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "703": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Property existence and value checking",
          "executable": false
        },
        "803": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local after_value = value_fn()",
          "executable": true
        },
        "503": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @param v any The value to check if truthy",
          "executable": false
        },
        "603": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "303": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return true",
          "executable": true
        },
        "403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"implement_interface\",",
          "executable": true
        },
        "1474": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if not matches_pattern then",
          "executable": true
        },
        "1133": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for k, v in pairs(v1) do",
          "executable": true
        },
        "113": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return false",
          "executable": true
        },
        "1655": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.be_falsy = {",
          "executable": true
        },
        "1352": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Expected a promise, got \" .. type(asy...",
          "executable": true
        },
        "913": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "813": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Otherwise just check for any change",
          "executable": false
        },
        "1961": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1961",
          "executable": false
        },
        "613": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local missing_keys = {}",
          "executable": true
        },
        "513": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  falsy = {",
          "executable": true
        },
        "413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"match_schema\",",
          "executable": true
        },
        "313": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to not be a ...",
          "executable": true
        },
        "39": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Metatable-aware comparison operations",
          "executable": false
        },
        "29": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    assertion chain API and includes comprehensive...",
          "executable": false
        },
        "19": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field has_metatable fun(value: any, mt: table)...",
          "executable": false
        },
        "79": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return logging.get_logger(\"assertion\")",
          "executable": true
        },
        "69": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local success, logging = pcall(require, \"lib.t...",
          "executable": true
        },
        "59": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not _error_handler then",
          "executable": true
        },
        "49": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "]]",
          "executable": false
        },
        "1901": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end)",
          "executable": true
        },
        "99": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "89": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    info = function(msg)",
          "executable": true
        },
        "18": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field is_empty fun(value: table|string): boole...",
          "executable": false
        },
        "28": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    and provides consistent error handling pattern...",
          "executable": false
        },
        "1770": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "78": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "  if logging then",
          "executable": true
        },
        "88": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "98": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "38": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Collection and string validation utilities",
          "executable": false
        },
        "48": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @version 1.0.0",
          "executable": false
        },
        "58": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function get_error_handler()",
          "executable": true
        },
        "68": {
          "covered": true,
          "executed": true,
          "execution_count": 20,
          "line_type": "code",
          "content": "  if not _logging then",
          "executable": true
        },
        "1830": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field be table<string, function> Group of asse...",
          "executable": false
        },
        "27": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    This is a standalone module for assertions tha...",
          "executable": false
        },
        "17": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field is_array fun(value: any): boolean Check ...",
          "executable": false
        },
        "1870": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  logger.trace(\"Assertion started\", {",
          "executable": true
        },
        "87": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      print(\"[WARN] \" .. msg)",
          "executable": true
        },
        "77": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local logging = get_logging()",
          "executable": true
        },
        "97": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "47": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @copyright 2023-2025",
          "executable": false
        },
        "37": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Support for custom assertions through regist...",
          "executable": false
        },
        "67": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local function get_logging()",
          "executable": true
        },
        "1995": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 1995",
          "executable": false
        },
        "16": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field array_contains fun(array: table, value: ...",
          "executable": false
        },
        "2009": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2009",
          "executable": false
        },
        "1009": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Additional validation for days in month",
          "executable": false
        },
        "96": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      print(\"[TRACE] \" .. msg)",
          "executable": true
        },
        "76": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local function get_logger()",
          "executable": true
        },
        "86": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "    warn = function(msg)",
          "executable": true
        },
        "56": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Get the error handler module with lazy loading...",
          "executable": false
        },
        "66": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return table|nil The logging module or nil if ...",
          "executable": false
        },
        "36": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Rich error messages with detailed value form...",
          "executable": false
        },
        "46": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @license MIT",
          "executable": false
        },
        "25": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    Assertion Module for the Firmo testing framewo...",
          "executable": false
        },
        "15": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field normalize_type fun(value: any): string G...",
          "executable": false
        },
        "1076": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to not be a vali...",
          "executable": true
        },
        "1670": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(x) ~= \"number\" then",
          "executable": true
        },
        "1630": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return v == string.lower(v),",
          "executable": true
        },
        "2048": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2048",
          "executable": false
        },
        "1048": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false,",
          "executable": true
        },
        "196": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Check for missing keys in v1",
          "executable": false
        },
        "95": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    trace = function(msg)",
          "executable": true
        },
        "85": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "1909": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            })",
          "executable": true
        },
        "65": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Get the logging module with lazy loading to av...",
          "executable": false
        },
        "496": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v)",
          "executable": true
        },
        "796": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local before_value = value_fn()",
          "executable": true
        },
        "2047": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2047",
          "executable": false
        },
        "996": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to not be a vali...",
          "executable": true
        },
        "896": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local decreased = after_value < before_value",
          "executable": true
        },
        "327": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      meta = getmetatable(meta) and getmetatable(m...",
          "executable": true
        },
        "1955": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Export paths to allow extensions",
          "executable": false
        },
        "927": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Expected options to be a table, got \"...",
          "executable": true
        },
        "827": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(fn) ~= \"function\" then",
          "executable": true
        },
        "727": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \" with value \" .. stringify(expected_value...",
          "executable": true
        },
        "627": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "127": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return \"'\" .. tostring(t) .. \"'\"",
          "executable": true
        },
        "24": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--[[",
          "executable": false
        },
        "34": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Deep equality comparison with cycle detectio...",
          "executable": false
        },
        "44": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @module assertion",
          "executable": false
        },
        "1176": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false,",
          "executable": true
        },
        "64": {
          "covered": true,
          "executed": true,
          "execution_count": 20,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "74": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "--- Get a logger instance for this module",
          "executable": false
        },
        "84": {
          "covered": true,
          "executed": true,
          "execution_count": 10,
          "line_type": "code",
          "content": "      print(\"[ERROR] \" .. msg)",
          "executable": true
        },
        "94": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "14": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field is_callable fun(value: any): boolean Che...",
          "executable": false
        },
        "9": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field has_key fun(tbl: table, key: any): boole...",
          "executable": false
        },
        "1855": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field throw.error_matching fun(pattern: string...",
          "executable": false
        },
        "5": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field same fun(v1: any, v2: any): boolean Shal...",
          "executable": false
        },
        "6": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field isa fun(value: any, expected_class: stri...",
          "executable": false
        },
        "7": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field near fun(v1: number, v2: number, toleran...",
          "executable": false
        },
        "8": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field has_error fun(fn: function, expected_err...",
          "executable": false
        },
        "1": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@class AssertionModule",
          "executable": false
        },
        "2": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field create_expectation fun(value: any): Expe...",
          "executable": false
        },
        "3": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field eq fun(v1: any, v2: any, depth?: number)...",
          "executable": false
        },
        "4": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field type_of fun(value: any, expected_type: s...",
          "executable": false
        },
        "33": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Fluent, chainable assertion API with expect(...",
          "executable": false
        },
        "23": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field diff_values fun(v1: any, v2: any): strin...",
          "executable": false
        },
        "53": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Lazy-load dependencies to avoid circular depend...",
          "executable": false
        },
        "43": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "73": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "63": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  return _error_handler",
          "executable": true
        },
        "93": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      print(\"[DEBUG] \" .. msg)",
          "executable": true
        },
        "83": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    error = function(msg)",
          "executable": true
        },
        "1595": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "13": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field matches fun(str: string, pattern: string...",
          "executable": false
        },
        "307": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param x string|table The type string or metata...",
          "executable": false
        },
        "207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          .. \"\\n  Got:      \"",
          "executable": true
        },
        "507": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to be trut...",
          "executable": true
        },
        "407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"is_exact_type\",",
          "executable": true
        },
        "707": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected a table for property check...",
          "executable": true
        },
        "607": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if type(v) ~= \"table\" then",
          "executable": true
        },
        "907": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  deep_equal = {",
          "executable": true
        },
        "807": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local changed = change_fn(before_value, af...",
          "executable": true
        },
        "107": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function has(t, x)",
          "executable": true
        },
        "42": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Enhanced diff algorithm for readable failure...",
          "executable": false
        },
        "52": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local unpack = table.unpack or _G.unpack",
          "executable": true
        },
        "22": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field check_and_throw fun(condition: boolean, ...",
          "executable": false
        },
        "32": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    Features:",
          "executable": false
        },
        "82": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return {",
          "executable": true
        },
        "92": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    debug = function(msg)",
          "executable": true
        },
        "1148": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function compare_dates(date1, date2)",
          "executable": true
        },
        "72": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return _logging",
          "executable": true
        },
        "1895": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local error_handler = get_error_handler()",
          "executable": true
        },
        "1863": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return ExpectChain An assertion object with ch...",
          "executable": false
        },
        "1962": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1962",
          "executable": false
        },
        "417": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"deep_equal\",",
          "executable": true
        },
        "1161": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if d1.minute ~= d2.minute then return d1.minute ...",
          "executable": true
        },
        "217": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "317": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to be a \" ...",
          "executable": true
        },
        "817": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected function to change value (before...",
          "executable": true
        },
        "917": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, pattern, options)",
          "executable": true
        },
        "617": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if actual == nil then",
          "executable": true
        },
        "717": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "117": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param t any The value to stringify",
          "executable": false
        },
        "667": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Length assertion for strings and tables",
          "executable": false
        },
        "1851": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field start_with fun(prefix: string): ExpectCh...",
          "executable": false
        },
        "467": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return v >= x,",
          "executable": true
        },
        "367": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"have_length\",",
          "executable": true
        },
        "267": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        return result",
          "executable": true
        },
        "167": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        hash_entries[#hash_entries + 1] = key_str ...",
          "executable": true
        },
        "1395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If there was an error running the function,...",
          "executable": false
        },
        "1407": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected async operation to resolve with \" ...",
          "executable": true
        },
        "867": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(fn, value_fn)",
          "executable": true
        },
        "767": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1439": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Function to capture error",
          "executable": false
        },
        "1715": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1486": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1923": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Create a structured error",
          "executable": false
        },
        "1198": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        'expected \"' .. v .. '\" and \"' .. expected...",
          "executable": true
        },
        "1320": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Start the async operation",
          "executable": false
        },
        "1160": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if d1.hour ~= d2.hour then return d1.hour - d2.h...",
          "executable": true
        },
        "1951": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "1289": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(async_fn) ~= \"function\" then",
          "executable": true
        },
        "1695": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.start_with = {",
          "executable": true
        },
        "1922": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if error_handler then",
          "executable": true
        },
        "1307": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local completed = false",
          "executable": true
        },
        "1939": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            error(error_handler.format_error(error...",
          "executable": true
        },
        "1186": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.be_after = {",
          "executable": true
        },
        "1298": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local async_module = package.loaded[\"lib.async...",
          "executable": true
        },
        "1060": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if month < 1 or month > 12 or day < 1 or day...",
          "executable": true
        },
        "2060": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2060",
          "executable": false
        },
        "1651": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to be truthy...",
          "executable": true
        },
        "347": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"exist\",",
          "executable": true
        },
        "647": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, x)",
          "executable": true
        },
        "547": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @param eps? number Optional epsilon for fl...",
          "executable": false
        },
        "1195": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1934": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              context",
          "executable": true
        },
        "147": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local multiline = false",
          "executable": true
        },
        "1822": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@class ExpectChain",
          "executable": false
        },
        "847": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "747": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Handle missing properties first",
          "executable": false
        },
        "947": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      compare_pattern = compare_pattern:gsub(\"%^\",...",
          "executable": true
        },
        "1515": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1639": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1723": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  callable = true,",
          "executable": true
        },
        "1758": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v)",
          "executable": true
        },
        "1120": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "557": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- For primitive types, show a simple co...",
          "executable": false
        },
        "657": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return has(v, x),",
          "executable": true
        },
        "357": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_approximately\",",
          "executable": true
        },
        "457": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return v == x,",
          "executable": true
        },
        "157": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "257": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "      return true",
          "executable": true
        },
        "1495": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(x) ~= \"table\" then",
          "executable": true
        },
        "1489": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Check if a table contains all specified keys ",
          "executable": false
        },
        "1722": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.be_type = {",
          "executable": true
        },
        "957": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local opts = {}",
          "executable": true
        },
        "757": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                         \", got \" .. type(v[prop_n...",
          "executable": true
        },
        "857": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return increased,",
          "executable": true
        },
        "1815": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_type = type(err)",
          "executable": true
        },
        "1339": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_value = err",
          "executable": true
        },
        "1907": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              action = t.action,",
          "executable": true
        },
        "1823": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field val any The value being tested",
          "executable": false
        },
        "2020": {
          "covered": false,
          "executed": true,
          "execution_count": 20,
          "line_type": "comment",
          "content": "-- Dynamically added line 2020",
          "executable": false
        },
        "1020": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to not be a vali...",
          "executable": true
        },
        "623": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if #missing_keys > 0 or #wrong_types > 0 the...",
          "executable": true
        },
        "723": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. stringify(v) .. \" to have p...",
          "executable": true
        },
        "823": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "923": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Expected a string pattern, got \" .. t...",
          "executable": true
        },
        "1949": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "123": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  visited = visited or {}",
          "executable": true
        },
        "223": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Deep equality check function with cycle detect...",
          "executable": false
        },
        "323": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if meta == x then",
          "executable": true
        },
        "423": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_same_day_as\",",
          "executable": true
        },
        "523": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- Test if a value is nil",
          "executable": false
        },
        "1646": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1315": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if select('#', ...) > 0 then",
          "executable": true
        },
        "1958": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "return M",
          "executable": true
        },
        "802": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "702": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "933": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "833": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"satisfy\",",
          "executable": true
        },
        "302": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "137": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "502": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  truthy = {",
          "executable": true
        },
        "133": {
          "covered": false,
          "executed": true,
          "execution_count": 8,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "737": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "837": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Validate that the before value is numeric",
          "executable": false
        },
        "937": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1136": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1746": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to be iter...",
          "executable": true
        },
        "1615": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1539": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1658": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "202": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        differences,",
          "executable": true
        },
        "102": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Utility functions",
          "executable": false
        },
        "1957": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Return the module",
          "executable": false
        },
        "812": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "912": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "287": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- For non-tables, simple equality",
          "executable": false
        },
        "587": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local ok, message = pcall(v)",
          "executable": true
        },
        "487": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return v < x,",
          "executable": true
        },
        "787": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(fn, value_fn, change_fn)",
          "executable": true
        },
        "612": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "987": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "887": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1323": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      async_fn(capture_result)",
          "executable": true
        },
        "1236": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    timeout = timeout or 1000 -- Default 1 second ...",
          "executable": true
        },
        "1422": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not async_module or not async_module.is_in_...",
          "executable": true
        },
        "1846": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field have_property fun(property: string, valu...",
          "executable": false
        },
        "112": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check for extra keys in v1",
          "executable": false
        },
        "1358": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local async_module = package.loaded[\"lib.async...",
          "executable": true
        },
        "1095": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to be a valid IS...",
          "executable": true
        },
        "297": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  ---@diagnostic disable-next-line: unused-local",
          "executable": false
        },
        "1857": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field match_schema fun(schema: table): ExpectC...",
          "executable": false
        },
        "1591": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return v < 0,",
          "executable": true
        },
        "697": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return length == expected_size,",
          "executable": true
        },
        "1970": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1970",
          "executable": false
        },
        "1849": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field be_less_than fun(value: number): ExpectC...",
          "executable": false
        },
        "597": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "897": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "997": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1423": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Async assertions can only be used in ...",
          "executable": true
        },
        "1322": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Start the async function and pass the cap...",
          "executable": false
        },
        "1946": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            action = t.action,",
          "executable": true
        },
        "1415": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Expected a promise, got \" .. type(asy...",
          "executable": true
        },
        "1858": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field change fun(getter: function): ExpectChai...",
          "executable": false
        },
        "963": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result,",
          "executable": true
        },
        "1691": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected value to not satisfy the given pre...",
          "executable": true
        },
        "2036": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2036",
          "executable": false
        },
        "563": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. stringify(v) .. \" and \" .. ...",
          "executable": true
        },
        "663": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "763": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                         stringify(prop_def) .. \",...",
          "executable": true
        },
        "863": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "163": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if type(v) == \"table\" and next(v) ~= nil and...",
          "executable": true
        },
        "263": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      local ok, result = pcall(function()",
          "executable": true
        },
        "363": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_falsey\",",
          "executable": true
        },
        "463": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, x)",
          "executable": true
        },
        "1036": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "2062": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2062",
          "executable": false
        },
        "1998": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 1998",
          "executable": false
        },
        "1246": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1997": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 1997",
          "executable": false
        },
        "1224": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return d1.year == d2.year and d1.month == d2.m...",
          "executable": true
        },
        "1212": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"Expected a non-date string\"",
          "executable": true
        },
        "1558": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected table to be empty, but it has \" ...",
          "executable": true
        },
        "973": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(v) ~= \"string\" then",
          "executable": true
        },
        "1249": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result_value",
          "executable": true
        },
        "673": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      elseif type(v) == \"table\" then",
          "executable": true
        },
        "573": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local content_preview = #table_str > 70 and ...",
          "executable": true
        },
        "873": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected a function that returns va...",
          "executable": true
        },
        "773": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "273": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if type(t1) ~= type(t2) then",
          "executable": true
        },
        "173": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    strings[#strings + 1] = entry",
          "executable": true
        },
        "473": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, x)",
          "executable": true
        },
        "373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"decrease\",",
          "executable": true
        },
        "1346": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"async operation completed within \" .. timeo...",
          "executable": true
        },
        "1215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local d1 = parse_date(v)",
          "executable": true
        },
        "1112": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Try ISO format (YYYY-MM-DDTHH:MM:SS)",
          "executable": false
        },
        "1258": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1986": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 1986",
          "executable": false
        },
        "843": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "943": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Handle multiline flag",
          "executable": false
        },
        "643": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"key\",",
          "executable": true
        },
        "743": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local type_mismatches = {}",
          "executable": true
        },
        "1557": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return next(v) == nil,",
          "executable": true
        },
        "1008": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"falsy\",",
          "executable": true
        },
        "543": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "  --- Test if two values are equal using deep equa...",
          "executable": false
        },
        "2008": {
          "covered": false,
          "executed": true,
          "execution_count": 20,
          "line_type": "comment",
          "content": "-- Dynamically added line 2008",
          "executable": false
        },
        "343": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  to = {",
          "executable": true
        },
        "2012": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2012",
          "executable": false
        },
        "1074": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false,",
          "executable": true
        },
        "1686": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not success then",
          "executable": true
        },
        "1024": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        'expected \"' .. v .. '\" to be a valid date...",
          "executable": true
        },
        "2024": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2024",
          "executable": false
        },
        "1991": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 1991",
          "executable": false
        },
        "853": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "753": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                prop_def == \"table\" or prop_def ==...",
          "executable": true
        },
        "653": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected string \"' .. v .. '\" to contai...",
          "executable": true
        },
        "1697": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"string\" then",
          "executable": true
        },
        "1457": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "153": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      strings[#strings + 1] = indent_str .. \"  \" ....",
          "executable": true
        },
        "553": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if type(v) == \"table\" or type(x) == \"table...",
          "executable": true
        },
        "453": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"integer\",",
          "executable": true
        },
        "353": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_type\",",
          "executable": true
        },
        "253": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Special case for strings and numbers",
          "executable": false
        },
        "1174": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1546": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "2015": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2015",
          "executable": false
        },
        "1015": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "962": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "862": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "1023": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return true,",
          "executable": true
        },
        "2023": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2023",
          "executable": false
        },
        "562": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"Values are not equal: \" .. comparison,",
          "executable": true
        },
        "372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"increase\",",
          "executable": true
        },
        "472": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  greater_than = {",
          "executable": true
        },
        "172": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  for _, entry in ipairs(hash_entries) do",
          "executable": true
        },
        "272": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- If types are different, return false",
          "executable": false
        },
        "1597": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Check if a number is an integer",
          "executable": false
        },
        "1886": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1918": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          success = not success",
          "executable": true
        },
        "1806": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected function to not throw an error o...",
          "executable": true
        },
        "972": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Check if the value is a string that can b...",
          "executable": false
        },
        "772": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error_msg = error_msg .. \"  Missing proper...",
          "executable": true
        },
        "872": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(value_fn) ~= \"function\" then",
          "executable": true
        },
        "572": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local table_str = stringify(v)",
          "executable": true
        },
        "672": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        length = string.len(v)",
          "executable": true
        },
        "282": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if not ok then",
          "executable": true
        },
        "182": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1791": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    err = tostring(err)",
          "executable": true
        },
        "382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"complete_within\",",
          "executable": true
        },
        "1897": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          local args = { ... }",
          "executable": true
        },
        "1586": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v)",
          "executable": true
        },
        "982": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Try YYYY-MM-DD format with optional time",
          "executable": false
        },
        "682": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "582": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return not pcall(v), \"expected \" .. tostring...",
          "executable": true
        },
        "882": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "782": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "192": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if type(v1) ~= \"table\" or type(v2) ~= \"table\" th...",
          "executable": true
        },
        "1789": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        'expected function to not throw an error m...",
          "executable": true
        },
        "983": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      year, month, day = v:match(\"^(%d%d%d%d)%-(%d...",
          "executable": true
        },
        "1891": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    __call = function(t, ...)",
          "executable": true
        },
        "783": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "883": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local success, result = pcall(fn)",
          "executable": true
        },
        "1797": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.error_type = {",
          "executable": true
        },
        "683": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"resolve_with\",",
          "executable": true
        },
        "483": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, x)",
          "executable": true
        },
        "183": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "283": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return t1 == t2",
          "executable": true
        },
        "1286": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1915": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          success, err, nerr = paths[t.action].tes...",
          "executable": true
        },
        "992": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "592": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "692": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        length = #v",
          "executable": true
        },
        "792": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(value_fn) ~= \"function\" then",
          "executable": true
        },
        "1798": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, expected_type)",
          "executable": true
        },
        "1889": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return rawget(t, k)",
          "executable": true
        },
        "1297": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check if we're in an async context",
          "executable": false
        },
        "993": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if not (year and month and day) then",
          "executable": true
        },
        "893": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected value_fn to return a numbe...",
          "executable": true
        },
        "1834": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field be.empty fun(): ExpectChain Assert value...",
          "executable": false
        },
        "693": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "593": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  match = {",
          "executable": true
        },
        "493": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  exist = {",
          "executable": true
        },
        "393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"contain\",",
          "executable": true
        },
        "293": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if not M.eq(v, t2[k], eps, visited) then",
          "executable": true
        },
        "193": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return \"Expected: \" .. stringify(v2, 0, visite...",
          "executable": true
        },
        "1786": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if ok then",
          "executable": true
        },
        "922": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(pattern) ~= \"string\" then",
          "executable": true
        },
        "822": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "722": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return property_matches,",
          "executable": true
        },
        "1260": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Start the async operation",
          "executable": false
        },
        "1898": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          local try_success, try_result = error_ha...",
          "executable": true
        },
        "1908": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              error = error_handler.format_error(t...",
          "executable": true
        },
        "1784": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1836": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field be.negative fun(): ExpectChain Assert va...",
          "executable": false
        },
        "1572": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.positive = {",
          "executable": true
        },
        "2071": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2071",
          "executable": false
        },
        "1785": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local ok, err = pcall(v)",
          "executable": true
        },
        "1071": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1753": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Enhanced error assertions",
          "executable": false
        },
        "1231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(async_fn, timeout)",
          "executable": true
        },
        "1684": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1472": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                            string.find(error_mess...",
          "executable": true
        },
        "1853": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field throw fun(): ExpectChain Assert function...",
          "executable": false
        },
        "1536": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, x)",
          "executable": true
        },
        "1685": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, result = pcall(predicate, v)",
          "executable": true
        },
        "1331": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Wait for the async operation to complete or...",
          "executable": false
        },
        "114": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if v2[k] == nil then",
          "executable": true
        },
        "1984": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 1984",
          "executable": false
        },
        "1708": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.end_with = {",
          "executable": true
        },
        "1636": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, min, max)",
          "executable": true
        },
        "1985": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 1985",
          "executable": false
        },
        "308": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return boolean, string, string success, succes...",
          "executable": false
        },
        "408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"is_instance_of\",",
          "executable": true
        },
        "508": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to not be ...",
          "executable": true
        },
        "2031": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2031",
          "executable": false
        },
        "708": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "808": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return changed,",
          "executable": true
        },
        "908": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, x, eps)",
          "executable": true
        },
        "108": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  for _, v in pairs(t) do",
          "executable": true
        },
        "1884": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if chain then",
          "executable": true
        },
        "1808": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Try to determine the error type",
          "executable": false
        },
        "1336": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If there was an error running the function,...",
          "executable": false
        },
        "1885": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          chain(t)",
          "executable": true
        },
        "1131": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    hour, minute, second = \"00\", \"00\", \"00\"",
          "executable": true
        },
        "1653": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1004": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false,",
          "executable": true
        },
        "2004": {
          "covered": false,
          "executed": true,
          "execution_count": 20,
          "line_type": "comment",
          "content": "-- Dynamically added line 2004",
          "executable": false
        },
        "1119": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    hour, minute, second = \"00\", \"00\", \"00\"",
          "executable": true
        },
        "1127": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "904": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "804": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1274": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "604": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Interface implementation checking",
          "executable": false
        },
        "504": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @return boolean, string, string result, su...",
          "executable": false
        },
        "404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_truthy\",",
          "executable": true
        },
        "304": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1104": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Helper function to parse date strings into comp...",
          "executable": false
        },
        "204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          .. stringify(k, 0, visited)",
          "executable": true
        },
        "1219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false,",
          "executable": true
        },
        "1362": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "914": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "714": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return has_property,",
          "executable": true
        },
        "814": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local changed = not M.eq(before_value, after...",
          "executable": true
        },
        "514": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @param v any The value to check if falsy",
          "executable": false
        },
        "1285": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "314": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  elseif type(x) == \"table\" then",
          "executable": true
        },
        "414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"change\",",
          "executable": true
        },
        "1904": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          else",
          "executable": true
        },
        "1584": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Check if a number is negative",
          "executable": false
        },
        "1262": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Start the async function and pass the cap...",
          "executable": false
        },
        "1772": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ---@diagnostic disable-next-line: unused-local",
          "executable": false
        },
        "1153": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil",
          "executable": true
        },
        "1115": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1585": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.negative = {",
          "executable": true
        },
        "1227": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1484": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      (error_pattern and \" matching \" .. stringify...",
          "executable": true
        },
        "1232": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(async_fn) ~= \"function\" then",
          "executable": true
        },
        "1672": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1820": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1485": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected async operation to not reject with...",
          "executable": true
        },
        "2026": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2026",
          "executable": false
        },
        "1026": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1920": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1604": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return v == math.floor(v),",
          "executable": true
        },
        "1760": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "177": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return \"{\\n  \" .. table.concat(strings, \",\\n  ...",
          "executable": true
        },
        "277": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if type(t1) == \"number\" then",
          "executable": true
        },
        "377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_iso_date\",",
          "executable": true
        },
        "477": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return v > x,",
          "executable": true
        },
        "577": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "677": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "777": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if #value_mismatches > 0 then",
          "executable": true
        },
        "877": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "977": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "2027": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2027",
          "executable": false
        },
        "1027": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1126": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1860": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field decrease fun(getter: function): ExpectCh...",
          "executable": false
        },
        "1226": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected \"' .. v .. '\" to not be the same d...",
          "executable": true
        },
        "2066": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2066",
          "executable": false
        },
        "1066": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Validate time components if present",
          "executable": false
        },
        "1960": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1960",
          "executable": false
        },
        "1804": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false,",
          "executable": true
        },
        "2019": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2019",
          "executable": false
        },
        "1019": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to be a valid da...",
          "executable": true
        },
        "1166": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, expected_date)",
          "executable": true
        },
        "1704": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected \"' .. v .. '\" to start with \"' .. ...",
          "executable": true
        },
        "1420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check if we're in an async context",
          "executable": false
        },
        "1919": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          err = nerr or err",
          "executable": true
        },
        "118": {
          "covered": false,
          "executed": true,
          "execution_count": 84,
          "line_type": "comment",
          "content": "---@param depth? number The current depth level (f...",
          "executable": false
        },
        "1304": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Async assertions can only be used in ...",
          "executable": true
        },
        "1927": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              action = t.action,",
          "executable": true
        },
        "1149": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local d1 = parse_date(date1)",
          "executable": true
        },
        "1972": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1972",
          "executable": false
        },
        "428": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    chain = function(a)",
          "executable": true
        },
        "1360": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Async assertions can only be used in ...",
          "executable": true
        },
        "228": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return boolean True if the values are consider...",
          "executable": false
        },
        "328": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "828": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected a function to execute, got...",
          "executable": true
        },
        "928": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "628": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if #wrong_types > 0 then",
          "executable": true
        },
        "1520": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "128": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif type(t) == \"number\" or type(t) == \"boolea...",
          "executable": true
        },
        "1204": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected \"' .. v .. '\" to not be after \"' ....",
          "executable": true
        },
        "1872": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    type = type(v),",
          "executable": true
        },
        "1460": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local wait_result = pcall(function()",
          "executable": true
        },
        "1620": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1504": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1911": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "1157": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if d1.year ~= d2.year then return d1.year - d2.y...",
          "executable": true
        },
        "1953": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return assertion",
          "executable": true
        },
        "1271": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Wait for the async operation to complete or...",
          "executable": false
        },
        "1560": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          local count = 0",
          "executable": true
        },
        "1720": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1404": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2057": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2057",
          "executable": false
        },
        "1057": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      second = second and tonumber(second) or 0",
          "executable": true
        },
        "1049": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to be a valid IS...",
          "executable": true
        },
        "2049": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2049",
          "executable": false
        },
        "518": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to be fals...",
          "executable": true
        },
        "418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"match_regex\",",
          "executable": true
        },
        "1660": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.be_falsey = {",
          "executable": true
        },
        "218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if #differences == 0 then",
          "executable": true
        },
        "918": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"string\" then",
          "executable": true
        },
        "818": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \", after: \" .. stringify(after_value) .. \"...",
          "executable": true
        },
        "718": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "618": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          table.insert(missing_keys, key)",
          "executable": true
        },
        "51": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Compatibility function for table unpacking (wor...",
          "executable": false
        },
        "41": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Structured error reporting with categories a...",
          "executable": false
        },
        "31": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "21": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field stringify fun(value: any, depth?: number...",
          "executable": false
        },
        "1588": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "81": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Return a stub logger if logging module isn't ...",
          "executable": false
        },
        "71": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "868": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(fn) ~= \"function\" then",
          "executable": true
        },
        "1509": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1917": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if assertion.negate then",
          "executable": true
        },
        "1199": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        'expected \"' .. v .. '\" and \"' .. expected...",
          "executable": true
        },
        "1944": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "1932": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              error_handler.CATEGORY.VALIDATION,",
          "executable": true
        },
        "658": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"expected \" .. tostring(v) .. \" to conta...",
          "executable": true
        },
        "558": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          comparison = \"\\n\" .. \"Expected: \" .. str...",
          "executable": true
        },
        "1745": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return success,",
          "executable": true
        },
        "358": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"throw\",",
          "executable": true
        },
        "258": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1913": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- Fallback if error_handler is not avai...",
          "executable": false
        },
        "50": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local M = {}",
          "executable": true
        },
        "60": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, error_handler = pcall(require, ...",
          "executable": true
        },
        "70": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    _logging = success and logging or nil",
          "executable": true
        },
        "80": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1417": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1688": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "30": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    and formatted error messages for test failures...",
          "executable": false
        },
        "938": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if case_insensitive then",
          "executable": true
        },
        "1609": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1844": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field have fun(key: any): ExpectChain Assert t...",
          "executable": false
        },
        "1832": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field be.truthy fun(): ExpectChain Assert valu...",
          "executable": false
        },
        "568": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(v) ~= \"table\" then",
          "executable": true
        },
        "668": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  have_length = {",
          "executable": true
        },
        "368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"have_size\",",
          "executable": true
        },
        "468": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to be at l...",
          "executable": true
        },
        "1948": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          })",
          "executable": true
        },
        "268": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1317": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1709": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, x)",
          "executable": true
        },
        "1344": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return wait_result,",
          "executable": true
        },
        "1399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1732": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif expected_type == \"comparable\" then",
          "executable": true
        },
        "1945": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          logger.trace(\"Assertion passed\", {",
          "executable": true
        },
        "1105": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local function parse_date(date_string)",
          "executable": true
        },
        "1488": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Continue adding assertions to the paths table",
          "executable": false
        },
        "1713": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(x) ~= \"string\" then",
          "executable": true
        },
        "1290": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Expected a promise, got \" .. type(asy...",
          "executable": true
        },
        "958": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if options.case_insensitive then table.inser...",
          "executable": true
        },
        "1617": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return v == string.upper(v),",
          "executable": true
        },
        "758": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "1809": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local error_type",
          "executable": true
        },
        "1659": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1499": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if v[key] == nil then",
          "executable": true
        },
        "1632": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected string \"' .. v .. '\" to not be low...",
          "executable": true
        },
        "1445": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2005": {
          "covered": false,
          "executed": true,
          "execution_count": 20,
          "line_type": "comment",
          "content": "-- Dynamically added line 2005",
          "executable": false
        },
        "1005": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to be a valid da...",
          "executable": true
        },
        "1813": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_type = err.__name or \"table\"",
          "executable": true
        },
        "1190": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"Expected a date string, got \" .. type(v),",
          "executable": true
        },
        "1517": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. stringify(v) .. \" to contain ...",
          "executable": true
        },
        "1544": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to be less t...",
          "executable": true
        },
        "1988": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 1988",
          "executable": false
        },
        "1967": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1967",
          "executable": false
        },
        "1759": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"function\" then",
          "executable": true
        },
        "134": {
          "covered": false,
          "executed": true,
          "execution_count": 8,
          "line_type": "comment",
          "content": "  -- Handle cyclic references",
          "executable": false
        },
        "234": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if t1 == t2 then",
          "executable": true
        },
        "334": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1513": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"table\" then",
          "executable": true
        },
        "1532": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to not be gr...",
          "executable": true
        },
        "1876": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  assertion.val = v",
          "executable": true
        },
        "1345": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"async operation did not complete within \" ....",
          "executable": true
        },
        "198": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if v1[k] == nil then",
          "executable": true
        },
        "798": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "698": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. stringify(v) .. \" to have s...",
          "executable": true
        },
        "598": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      local result = string.find(v, p) ~= nil",
          "executable": true
        },
        "498": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "978": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "878": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Validate that the before value is numeric",
          "executable": false
        },
        "1090": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        days_in_month[2] = 29",
          "executable": true
        },
        "1867": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local logger = get_logger()",
          "executable": true
        },
        "1444": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1859": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field increase fun(getter: function): ExpectCh...",
          "executable": false
        },
        "1432": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local error_message",
          "executable": true
        },
        "1613": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if type(v) ~= \"string\" then",
          "executable": true
        },
        "1976": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1976",
          "executable": false
        },
        "1645": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to not be be...",
          "executable": true
        },
        "1088": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Adjust February for leap years",
          "executable": false
        },
        "748": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if v[prop_name] == nil then",
          "executable": true
        },
        "848": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local after_value = value_fn()",
          "executable": true
        },
        "1788": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        'expected function to throw an error match...",
          "executable": true
        },
        "724": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \" with value \" .. stringify(expected_value...",
          "executable": true
        },
        "1767": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.error = {",
          "executable": true
        },
        "1309": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result_value",
          "executable": true
        },
        "824": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if a function increases a value",
          "executable": false
        },
        "1959": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1959",
          "executable": false
        },
        "1138": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return {",
          "executable": true
        },
        "1313": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local function capture_result(...)",
          "executable": true
        },
        "1332": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local wait_result = pcall(function()",
          "executable": true
        },
        "254": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if (type(t1) == \"string\" and type(t2) == \"number...",
          "executable": true
        },
        "354": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_greater_than\",",
          "executable": true
        },
        "438": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "338": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Define all the assertion paths",
          "executable": false
        },
        "1676": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to not be ap...",
          "executable": true
        },
        "1545": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to not be le...",
          "executable": true
        },
        "238": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Create a unique key for this comparison pair ...",
          "executable": false
        },
        "138": {
          "covered": false,
          "executed": true,
          "execution_count": 8,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "998": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "898": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return decreased,",
          "executable": true
        },
        "1888": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "634": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false, msg, \"expected object not to...",
          "executable": true
        },
        "1644": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to be betwee...",
          "executable": true
        },
        "1259": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected async operation to not resolve wit...",
          "executable": true
        },
        "124": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local indent_str = string.rep(\"  \", depth)",
          "executable": true
        },
        "324": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        return true",
          "executable": true
        },
        "2038": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2038",
          "executable": false
        },
        "524": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  [\"nil\"] = {",
          "executable": true
        },
        "424": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"complete\",",
          "executable": true
        },
        "348": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"fail\",",
          "executable": true
        },
        "448": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"greater_than\",",
          "executable": true
        },
        "548": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @return boolean, string, string result, su...",
          "executable": false
        },
        "1776": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "148": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Format array part first",
          "executable": false
        },
        "248": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1150": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local d2 = parse_date(date2)",
          "executable": true
        },
        "1244": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not async_module.is_in_async_context() then",
          "executable": true
        },
        "844": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if not success then",
          "executable": true
        },
        "744": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local value_mismatches = {}",
          "executable": true
        },
        "1359": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not async_module or not async_module.is_in_...",
          "executable": true
        },
        "1567": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "174": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1234": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"deep_equal\",",
          "executable": true
        },
        "474": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(v) ~= \"number\" or type(x) ~= \"number...",
          "executable": true
        },
        "1222": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1705": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected \"' .. v .. '\" to not start with \"'...",
          "executable": true
        },
        "1113": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  year, month, day, hour, minute, second = ",
          "executable": true
        },
        "1163": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1476": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"expected async operation to reject with...",
          "executable": true
        },
        "1050": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to not be a vali...",
          "executable": true
        },
        "2050": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2050",
          "executable": false
        },
        "1459": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Wait for the async operation to complete or...",
          "executable": false
        },
        "954": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Create user-friendly options string for err...",
          "executable": false
        },
        "654": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected string \"' .. v .. '\" to not co...",
          "executable": true
        },
        "754": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "                prop_def == \"userdata\" or prop_def...",
          "executable": true
        },
        "1467": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1238": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check if we're in an async context",
          "executable": false
        },
        "1245": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Async assertions can only be used in ...",
          "executable": true
        },
        "544": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  equal = {",
          "executable": true
        },
        "1122": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- If still no match, try MM/DD/YYYY format",
          "executable": false
        },
        "1213": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1605": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to be an int...",
          "executable": true
        },
        "1761": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1576": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1372": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local function capture_result(...)",
          "executable": true
        },
        "1548": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "2022": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2022",
          "executable": false
        },
        "1044": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        hour, minute, second = \"00\", \"00\", \"00\"",
          "executable": true
        },
        "664": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "2044": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2044",
          "executable": false
        },
        "1367": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local completed = false",
          "executable": true
        },
        "764": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "394": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"start_with\",",
          "executable": true
        },
        "494": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @param v any The value to check for existe...",
          "executable": false
        },
        "1145": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  }",
          "executable": true
        },
        "294": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return false",
          "executable": true
        },
        "1905": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Handle error in test function",
          "executable": false
        },
        "1022": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1861": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Main expect function for creating assertions",
          "executable": false
        },
        "1276": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If there was an error running the function,...",
          "executable": false
        },
        "1821": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1355": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    timeout = timeout or 1000 -- Default 1 second ...",
          "executable": true
        },
        "1272": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local wait_result = pcall(function()",
          "executable": true
        },
        "974": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false, ",
          "executable": true
        },
        "1144": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    second = second and tonumber(second) or 0",
          "executable": true
        },
        "574": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return has(v, x),",
          "executable": true
        },
        "674": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        length = #v",
          "executable": true
        },
        "774": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if #type_mismatches > 0 then",
          "executable": true
        },
        "1267": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_value = err",
          "executable": true
        },
        "1134": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not (year and month and day) then",
          "executable": true
        },
        "164": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        multiline = true",
          "executable": true
        },
        "464": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(v) ~= \"number\" or type(x) ~= \"number...",
          "executable": true
        },
        "364": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"is_exact_type\",",
          "executable": true
        },
        "1013": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if month == 2 and (year % 4 == 0 and (year %...",
          "executable": true
        },
        "1805": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected function to throw an error of ty...",
          "executable": true
        },
        "2013": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2013",
          "executable": false
        },
        "1561": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          for _ in pairs(v) do count = count + 1 e...",
          "executable": true
        },
        "1921": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if not success then",
          "executable": true
        },
        "1255": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if select('#', ...) > 0 then",
          "executable": true
        },
        "1348": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1894": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Use error_handler.try if available for ...",
          "executable": false
        },
        "1599": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v)",
          "executable": true
        },
        "1508": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "884": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "784": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "684": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "584": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "1305": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1661": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v)",
          "executable": true
        },
        "1621": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1288": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(async_fn, timeout)",
          "executable": true
        },
        "1448": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Start the async function with success and...",
          "executable": false
        },
        "1794": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected error \"' .. err .. '\" to not match...",
          "executable": true
        },
        "1608": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1699": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "794": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "894": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "594": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, p)",
          "executable": true
        },
        "694": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected a string or table for size...",
          "executable": true
        },
        "1205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1936": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            logger.debug(\"Assertion failed\", {",
          "executable": true
        },
        "284": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "184": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Generate a simple diff between two values",
          "executable": false
        },
        "1721": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Type checking assertions",
          "executable": false
        },
        "1388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1350": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(async_fn, expected_value, timeou...",
          "executable": true
        },
        "1799": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"function\" then",
          "executable": true
        },
        "1308": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local start_time = os.clock() * 1000",
          "executable": true
        },
        "1744": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end)",
          "executable": true
        },
        "1505": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return true,",
          "executable": true
        },
        "1421": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local async_module = package.loaded[\"lib.async...",
          "executable": true
        },
        "1461": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      async_module.wait_until(function() return co...",
          "executable": true
        },
        "1250": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local error_value",
          "executable": true
        },
        "1248": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local completed = false",
          "executable": true
        },
        "1994": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 1994",
          "executable": false
        },
        "1899": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local res, e, ne = paths[t.action].tes...",
          "executable": true
        },
        "1405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check if the result value matches the expec...",
          "executable": false
        },
        "1736": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return success,",
          "executable": true
        },
        "1521": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Numeric comparison assertions",
          "executable": false
        },
        "1845": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field have_length fun(length: number): ExpectC...",
          "executable": false
        },
        "1188": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"string\" or type(expected_date) ...",
          "executable": true
        },
        "1335": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1575": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "1483": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected async operation to reject with an ...",
          "executable": true
        },
        "660": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "760": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        elseif prop_def ~= nil then",
          "executable": true
        },
        "860": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected function to not increase value f...",
          "executable": true
        },
        "960": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      options_str = \" (with options: \" .. table.co...",
          "executable": true
        },
        "150": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  for i, v in ipairs(t) do",
          "executable": true
        },
        "350": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"contain\",",
          "executable": true
        },
        "250": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    visited[pair_key] = true",
          "executable": true
        },
        "550": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local equal = M.eq(v, x, eps)",
          "executable": true
        },
        "450": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"empty\",",
          "executable": true
        },
        "1582": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1338": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(error_value)",
          "executable": true
        },
        "201": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      table.insert(",
          "executable": true
        },
        "1583": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "701": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "801": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "901": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected function to not decrease value f...",
          "executable": true
        },
        "2002": {
          "covered": false,
          "executed": true,
          "execution_count": 20,
          "line_type": "comment",
          "content": "-- Dynamically added line 2002",
          "executable": false
        },
        "301": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"throw\",",
          "executable": true
        },
        "501": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- Test if a value is truthy",
          "executable": false
        },
        "601": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        'expected \"' .. v .. '\" to not match patte...",
          "executable": true
        },
        "160": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  for k, v in pairs(t) do",
          "executable": true
        },
        "260": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "    local n1 = type(t1) == \"string\" and tonumber(t...",
          "executable": true
        },
        "360": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"implement_interface\",",
          "executable": true
        },
        "460": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "560": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1482": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return rejected,",
          "executable": true
        },
        "215": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      table.insert(differences, \"Extra key: \" .. s...",
          "executable": true
        },
        "315": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if type(v) ~= \"table\" then",
          "executable": true
        },
        "211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "111": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "615": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for key, expected in pairs(interface) do",
          "executable": true
        },
        "715": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"expected \" .. stringify(v) .. \" to have...",
          "executable": true
        },
        "815": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "915": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Advanced regex matching with options",
          "executable": false
        },
        "880": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected value_fn to return a numbe...",
          "executable": true
        },
        "980": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local year, month, day",
          "executable": true
        },
        "680": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. stringify(v) .. \" to have l...",
          "executable": true
        },
        "780": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"have_size\",",
          "executable": true
        },
        "311": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return type(v) == x,",
          "executable": true
        },
        "611": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "        return false, \"expected interface to be a ...",
          "executable": true
        },
        "511": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "170": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1654": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "470": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "370": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"match_schema\",",
          "executable": true
        },
        "270": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "325": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "225": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param t2 any Second value to compare",
          "executable": false
        },
        "525": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @param v any The value to check if nil",
          "executable": false
        },
        "425": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"complete_within\",",
          "executable": true
        },
        "129": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return tostring(t)",
          "executable": true
        },
        "229": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.eq(t1, t2, eps, visited)",
          "executable": true
        },
        "329": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return false,",
          "executable": true
        },
        "429": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      a.negate = not a.negate",
          "executable": true
        },
        "750": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Handle type check schema (e.g., {name =...",
          "executable": false
        },
        "650": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Handle string containment",
          "executable": false
        },
        "950": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "850": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Validate that the after value is numeric",
          "executable": false
        },
        "1275": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "125": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Handle basic types directly",
          "executable": false
        },
        "180": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  else",
          "executable": true
        },
        "480": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "580": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"with\",",
          "executable": true
        },
        "280": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_same_day_as\",",
          "executable": true
        },
        "639": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Table inspection assertions",
          "executable": false
        },
        "539": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to be of t...",
          "executable": true
        },
        "839": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected value_fn to return a numbe...",
          "executable": true
        },
        "739": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected a table schema, got \" .. t...",
          "executable": true
        },
        "239": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local pair_key",
          "executable": true
        },
        "139": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Mark this table as visited",
          "executable": false
        },
        "439": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  be = {",
          "executable": true
        },
        "339": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- These form the chain of methods that can be ca...",
          "executable": false
        },
        "1083": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "490": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"exist\",",
          "executable": true
        },
        "690": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        length = string.len(v)",
          "executable": true
        },
        "590": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. ' to not fai...",
          "executable": true
        },
        "929": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "290": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "190": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local visited = {}",
          "executable": true
        },
        "709": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "809": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"expected function to change value accor...",
          "executable": true
        },
        "509": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "609": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "309": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function M.isa(v, x)",
          "executable": true
        },
        "409": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"implements\",",
          "executable": true
        },
        "109": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if v == x then",
          "executable": true
        },
        "209": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      )",
          "executable": true
        },
        "1183": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected \"' .. v .. '\" to not be before \"' ...",
          "executable": true
        },
        "1754": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.throw = {",
          "executable": true
        },
        "939": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      compare_v = string.lower(compare_v)",
          "executable": true
        },
        "819": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected function to not change value, bu...",
          "executable": true
        },
        "719": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- If we're checking for property value",
          "executable": false
        },
        "619": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        elseif type(expected) == \"function\" and ty...",
          "executable": true
        },
        "519": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to not be ...",
          "executable": true
        },
        "419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_date\",",
          "executable": true
        },
        "319": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "219": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return \"Values appear equal but are not identi...",
          "executable": true
        },
        "119": {
          "covered": false,
          "executed": true,
          "execution_count": 84,
          "line_type": "comment",
          "content": "---@param visited? table Table of already visited ...",
          "executable": false
        },
        "1029": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.be_iso_date = {",
          "executable": true
        },
        "1690": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected value to satisfy the given predica...",
          "executable": true
        },
        "2029": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2029",
          "executable": false
        },
        "1782": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(pattern) ~= \"string\" then",
          "executable": true
        },
        "909": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return M.eq(v, x, eps),",
          "executable": true
        },
        "1675": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to be approx...",
          "executable": true
        },
        "890": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "790": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "990": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        day, month, year = v:match(\"^(%d%d)/(%d%d)...",
          "executable": true
        },
        "1045": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "2045": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2045",
          "executable": false
        },
        "1129": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not year then",
          "executable": true
        },
        "1682": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(predicate) ~= \"function\" then",
          "executable": true
        },
        "919": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Expected a string, got \" .. type(v))",
          "executable": true
        },
        "1993": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 1993",
          "executable": false
        },
        "1041": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- If no match, check for simple ISO date (Y...",
          "executable": false
        },
        "2041": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2041",
          "executable": false
        },
        "1902": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if try_success then",
          "executable": true
        },
        "1229": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Async assertions",
          "executable": false
        },
        "1490": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.keys = {",
          "executable": true
        },
        "1141": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    day = tonumber(day),",
          "executable": true
        },
        "1590": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1910": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            error(try_result.message or \"Error in ...",
          "executable": true
        },
        "888": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "988": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if not year then",
          "executable": true
        },
        "1156": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Compare full timestamps",
          "executable": false
        },
        "1702": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "178": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  elseif #strings > 5 or multiline then",
          "executable": true
        },
        "378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_before\",",
          "executable": true
        },
        "278": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local ok, result = pcall(function()",
          "executable": true
        },
        "578": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "478": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to be grea...",
          "executable": true
        },
        "778": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error_msg = error_msg .. \"  Value mismatch...",
          "executable": true
        },
        "678": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1390": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Wait for the async operation to complete or...",
          "executable": false
        },
        "188": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local function diff_values(v1, v2)",
          "executable": true
        },
        "288": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if type(t1) ~= \"table\" then",
          "executable": true
        },
        "388": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"equal\",",
          "executable": true
        },
        "488": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to be less...",
          "executable": true
        },
        "588": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return not ok and message:match(pattern),",
          "executable": true
        },
        "688": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local length",
          "executable": true
        },
        "788": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(fn) ~= \"function\" then",
          "executable": true
        },
        "1593": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to not be ne...",
          "executable": true
        },
        "1441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      completed = true",
          "executable": true
        },
        "1854": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field throw.error fun(): ExpectChain Assert fu...",
          "executable": false
        },
        "1502": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"expected \" .. stringify(v) .. \" to not ...",
          "executable": true
        },
        "1890": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "1067": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if hour and (hour < 0 or hour > 23) then",
          "executable": true
        },
        "1982": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 1982",
          "executable": false
        },
        "1983": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 1983",
          "executable": false
        },
        "505": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v)",
          "executable": true
        },
        "405": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_falsy\",",
          "executable": true
        },
        "305": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- Type checking function that checks if a value ...",
          "executable": false
        },
        "205": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          .. \":\\n  Expected: \"",
          "executable": true
        },
        "905": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "805": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- If a specific change function was provide...",
          "executable": false
        },
        "705": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, property_name, expected_val...",
          "executable": true
        },
        "1693": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1541": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(x) .. \" to be ...",
          "executable": true
        },
        "105": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param x any The value to search for",
          "executable": false
        },
        "1056": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      minute = minute and tonumber(minute) or 0",
          "executable": true
        },
        "2056": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2056",
          "executable": false
        },
        "1402": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false, \"async operation did not compl...",
          "executable": true
        },
        "1990": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 1990",
          "executable": false
        },
        "1729": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return is_callable,",
          "executable": true
        },
        "1882": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        rawset(t, \"action\", k)",
          "executable": true
        },
        "1159": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if d1.day ~= d2.day then return d1.day - d2.day ...",
          "executable": true
        },
        "1535": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.be_less_than = {",
          "executable": true
        },
        "1241": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Async assertions can only be used in ...",
          "executable": true
        },
        "1302": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1168": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false, ",
          "executable": true
        },
        "1829": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field an fun(type: string): ExpectChain Assert...",
          "executable": false
        },
        "1435": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local function success_callback()",
          "executable": true
        },
        "1341": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local elapsed = (os.clock() * 1000) - start_ti...",
          "executable": true
        },
        "1954": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1202": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result > 0,",
          "executable": true
        },
        "2068": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2068",
          "executable": false
        },
        "1790": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1929": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            }",
          "executable": true
        },
        "1167": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"string\" or type(expected_date) ...",
          "executable": true
        },
        "1883": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local chain = paths[rawget(t, \"action\")].c...",
          "executable": true
        },
        "1519": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1801": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1666": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, x, delta)",
          "executable": true
        },
        "1843": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field contain fun(value: any): ExpectChain Ass...",
          "executable": false
        },
        "1193": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "535": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @param expected_type string The expected t...",
          "executable": false
        },
        "635": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "335": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- ==========================================",
          "executable": false
        },
        "435": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v)",
          "executable": true
        },
        "135": {
          "covered": true,
          "executed": true,
          "execution_count": 8,
          "line_type": "code",
          "content": "  if visited[t] then",
          "executable": true
        },
        "235": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return true",
          "executable": true
        },
        "1814": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1742": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          break",
          "executable": true
        },
        "935": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local compare_v = v",
          "executable": true
        },
        "1937": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              error = error_handler.format_error(e...",
          "executable": true
        },
        "835": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local before_value = value_fn()",
          "executable": true
        },
        "1619": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected string \"' .. v .. '\" to not be upp...",
          "executable": true
        },
        "1766": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1827": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field to_not ExpectChain Reference to self for...",
          "executable": false
        },
        "1943": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "1293": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(timeout) ~= \"number\" or timeout <= 0 t...",
          "executable": true
        },
        "645": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"subset\",",
          "executable": true
        },
        "545": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @param v any The actual value to check",
          "executable": false
        },
        "445": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"nil\",",
          "executable": true
        },
        "345": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"equal\",",
          "executable": true
        },
        "245": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if visited[pair_key] then",
          "executable": true
        },
        "145": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Handle tables with careful formatting",
          "executable": false
        },
        "1714": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(x) .. \" to be ...",
          "executable": true
        },
        "1837": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field be.integer fun(): ExpectChain Assert val...",
          "executable": false
        },
        "845": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"function being tested threw an erro...",
          "executable": true
        },
        "745": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1719": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1866": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local error_handler = get_error_handler()",
          "executable": true
        },
        "1793": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected error \"' .. err .. '\" to match pat...",
          "executable": true
        },
        "1180": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1977": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1977",
          "executable": false
        },
        "1627": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "1542": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1966": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1966",
          "executable": false
        },
        "1819": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected error of type \" .. error_type .. \"...",
          "executable": true
        },
        "1701": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(x) .. \" to be ...",
          "executable": true
        },
        "1743": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1893": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local success, err, nerr",
          "executable": true
        },
        "1877": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  assertion.action = \"\"",
          "executable": true
        },
        "1914": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          local args = { ... }",
          "executable": true
        },
        "1842": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field match fun(pattern: string): ExpectChain ...",
          "executable": false
        },
        "2003": {
          "covered": false,
          "executed": true,
          "execution_count": 20,
          "line_type": "comment",
          "content": "-- Dynamically added line 2003",
          "executable": false
        },
        "1003": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if month < 1 or month > 12 or day < 1 or day...",
          "executable": true
        },
        "1678": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "275": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"match_regex\",",
          "executable": true
        },
        "175": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Format based on content complexity",
          "executable": false
        },
        "675": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "775": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error_msg = error_msg .. \"  Type mismatche...",
          "executable": true
        },
        "475": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected both values to be numbers ...",
          "executable": true
        },
        "575": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected table to contain \" .. stringify(...",
          "executable": true
        },
        "875": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "975": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"expected \" .. stringify(v) .. \" to be a...",
          "executable": true
        },
        "1342": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1543": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return v < x,",
          "executable": true
        },
        "1427": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Async assertions can only be used in ...",
          "executable": true
        },
        "1501": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"expected \" .. stringify(v) .. \" to cont...",
          "executable": true
        },
        "1778": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, pattern)",
          "executable": true
        },
        "1280": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "641": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"keys\",",
          "executable": true
        },
        "2016": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2016",
          "executable": false
        },
        "841": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "941": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "785": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Function behavior assertions",
          "executable": false
        },
        "685": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Alias for have_length",
          "executable": false
        },
        "585": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  with = {",
          "executable": true
        },
        "485": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected both values to be numbers ...",
          "executable": true
        },
        "985": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Try MM/DD/YYYY format",
          "executable": false
        },
        "885": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if not success then",
          "executable": true
        },
        "2028": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2028",
          "executable": false
        },
        "341": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local paths = {",
          "executable": true
        },
        "1016": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "541": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "1319": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1878": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  assertion.negate = false",
          "executable": true
        },
        "1393": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "751": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        elseif type(prop_def) == \"string\" and prop...",
          "executable": true
        },
        "455": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"lowercase\",",
          "executable": true
        },
        "555": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          comparison = \"\\n\" .. diff_values(v, x)",
          "executable": true
        },
        "851": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(after_value) ~= \"number\" then",
          "executable": true
        },
        "1869": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  M.assertion_count = (M.assertion_count or 0) + 1",
          "executable": true
        },
        "155": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      strings[#strings + 1] = stringify(v, depth +...",
          "executable": true
        },
        "255": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Try string comparison",
          "executable": false
        },
        "151": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if type(v) == \"table\" and next(v) ~= nil and d...",
          "executable": true
        },
        "755": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if type(v[prop_name]) ~= prop_def then",
          "executable": true
        },
        "855": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local increased = after_value > before_value",
          "executable": true
        },
        "955": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local options_str = \"\"",
          "executable": true
        },
        "451": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"positive\",",
          "executable": true
        },
        "1419": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1978": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1978",
          "executable": false
        },
        "1493": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "1080": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false,",
          "executable": true
        },
        "2080": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2080",
          "executable": false
        },
        "821": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "921": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "665": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "721": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1969": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1969",
          "executable": false
        },
        "265": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end)",
          "executable": true
        },
        "165": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        hash_entries[#hash_entries + 1] = indent_s...",
          "executable": true
        },
        "121": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local function stringify(t, depth, visited)",
          "executable": true
        },
        "865": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Check if a function decreases a value",
          "executable": false
        },
        "521": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "221": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return \"Differences:\\n  \" .. table.concat(differ...",
          "executable": true
        },
        "965": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected \"' .. v .. '\" to not match regex p...",
          "executable": true
        },
        "1354": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1001": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1803": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if ok then",
          "executable": true
        },
        "2043": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2043",
          "executable": false
        },
        "1132": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "2001": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2001",
          "executable": false
        },
        "931": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local case_insensitive = options.case_insensit...",
          "executable": true
        },
        "1871": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    value = tostring(v),",
          "executable": true
        },
        "731": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Schema validation",
          "executable": false
        },
        "279": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return math.abs(t1 - t2) <= (eps or 0)",
          "executable": true
        },
        "1137": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "479": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to not be ...",
          "executable": true
        },
        "779": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "679": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return length == expected_length,",
          "executable": true
        },
        "979": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Try to parse as a date using various form...",
          "executable": false
        },
        "879": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(before_value) ~= \"number\" then",
          "executable": true
        },
        "531": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "331": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to not be a ...",
          "executable": true
        },
        "231": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  visited = visited or {}",
          "executable": true
        },
        "2032": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2032",
          "executable": false
        },
        "2040": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2040",
          "executable": false
        },
        "2010": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2010",
          "executable": false
        },
        "1903": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            success, err, nerr = try_result.res, t...",
          "executable": true
        },
        "930": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    options = options or {}",
          "executable": true
        },
        "830": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "730": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1989": {
          "covered": false,
          "executed": true,
          "execution_count": 20,
          "line_type": "comment",
          "content": "-- Dynamically added line 1989",
          "executable": false
        },
        "530": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "981": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "349": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"match\",",
          "executable": true
        },
        "1971": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1971",
          "executable": false
        },
        "149": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  ---@diagnostic disable-next-line: unused-local",
          "executable": false
        },
        "2037": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2037",
          "executable": false
        },
        "681": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. stringify(v) .. \" to not ha...",
          "executable": true
        },
        "781": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return valid, error_msg, \"expected object to...",
          "executable": true
        },
        "549": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, x, eps)",
          "executable": true
        },
        "181": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return \"{ \" .. table.concat(strings, \", \") .. ...",
          "executable": true
        },
        "281": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- If comparison failed (e.g., NaN), fall back...",
          "executable": false
        },
        "849": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "949": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1603": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1478": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          nil",
          "executable": true
        },
        "359": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"satisfy\",",
          "executable": true
        },
        "991": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "400": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_approximately\",",
          "executable": true
        },
        "1831": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field be.a fun(type: string): ExpectChain Asse...",
          "executable": false
        },
        "691": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      elseif type(v) == \"table\" then",
          "executable": true
        },
        "659": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"expected \" .. tostring(v) .. \" to not c...",
          "executable": true
        },
        "800": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"function being tested threw an erro...",
          "executable": true
        },
        "459": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" and \" .. t...",
          "executable": true
        },
        "291": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- For tables, recursive equality check",
          "executable": false
        },
        "191": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "959": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if options.multiline then table.insert(opts,...",
          "executable": true
        },
        "391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"fail\",",
          "executable": true
        },
        "1282": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return wait_result,",
          "executable": true
        },
        "1116": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- If no match, try simple ISO date (YYYY-MM-DD)",
          "executable": false
        },
        "1703": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return v:sub(1, #x) == x,",
          "executable": true
        },
        "1093": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if day > days_in_month[month] then",
          "executable": true
        },
        "1578": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return v > 0,",
          "executable": true
        },
        "1326": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not success then",
          "executable": true
        },
        "100": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@diagnostic disable-next-line: unused-local",
          "executable": false
        },
        "1771": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1931": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              err or \"Assertion failed\",",
          "executable": true
        },
        "761": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if not M.eq(v[prop_name], prop_def) then",
          "executable": true
        },
        "861": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \" but it did increase to \" .. tostring(aft...",
          "executable": true
        },
        "561": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return equal,",
          "executable": true
        },
        "1085": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Check days in month",
          "executable": false
        },
        "361": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_truthy\",",
          "executable": true
        },
        "461": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "161": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if type(k) ~= \"number\" or k > #t or k < 1 then",
          "executable": true
        },
        "261": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "    local n2 = type(t2) == \"string\" and tonumber(t...",
          "executable": true
        },
        "1216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local d2 = parse_date(expected_date)",
          "executable": true
        },
        "1266": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not success then",
          "executable": true
        },
        "1401": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not wait_result then",
          "executable": true
        },
        "920": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1403": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "620": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          table.insert(wrong_types, key .. \" (expe...",
          "executable": true
        },
        "720": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local property_matches = has_property and M....",
          "executable": true
        },
        "820": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        stringify(before_value) .. \" to \" .. strin...",
          "executable": true
        },
        "210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "110": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return true",
          "executable": true
        },
        "410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"have_length\",",
          "executable": true
        },
        "971": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v)",
          "executable": true
        },
        "871": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "771": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if #missing_props > 0 then",
          "executable": true
        },
        "671": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(v) == \"string\" then",
          "executable": true
        },
        "571": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Create a formatted table representation f...",
          "executable": false
        },
        "471": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"change\",",
          "executable": true
        },
        "271": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "171": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Combine array and hash parts",
          "executable": false
        },
        "1366": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1738": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to not be ...",
          "executable": true
        },
        "970": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.be_date = {",
          "executable": true
        },
        "870": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "770": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local error_msg = \"expected object to match ...",
          "executable": true
        },
        "670": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local length",
          "executable": true
        },
        "1503": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1526": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "589": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. ' to fail wi...",
          "executable": true
        },
        "220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "320": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local seen = {}",
          "executable": true
        },
        "1731": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to not be ...",
          "executable": true
        },
        "189": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Create a shared visited table for cyclic refe...",
          "executable": false
        },
        "289": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return t1 == t2",
          "executable": true
        },
        "1277": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if error_value then",
          "executable": true
        },
        "989": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Try DD/MM/YYYY format",
          "executable": false
        },
        "789": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected a function to execute, got...",
          "executable": true
        },
        "889": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local after_value = value_fn()",
          "executable": true
        },
        "1466": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false, \"async operation did not compl...",
          "executable": true
        },
        "1838": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field be.uppercase fun(): ExpectChain Assert s...",
          "executable": false
        },
        "1201": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "940": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      compare_pattern = string.lower(compare_patte...",
          "executable": true
        },
        "740": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "840": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1626": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"string\" then",
          "executable": true
        },
        "640": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  contain = {",
          "executable": true
        },
        "699": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. stringify(v) .. \" to not ha...",
          "executable": true
        },
        "330": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to be a \" .....",
          "executable": true
        },
        "230": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Initialize visited tables on first call",
          "executable": false
        },
        "399": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_between\",",
          "executable": true
        },
        "299": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if t1[k] == nil then",
          "executable": true
        },
        "1210": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false, ",
          "executable": true
        },
        "1942": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            error(err or \"unknown failure\", 2)",
          "executable": true
        },
        "999": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Convert to numbers",
          "executable": false
        },
        "899": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected function to decrease value from ...",
          "executable": true
        },
        "799": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if not success then",
          "executable": true
        },
        "1566": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"cannot check emptiness of a \" .. type...",
          "executable": true
        },
        "1301": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1938": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            })",
          "executable": true
        },
        "910": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. stringify(v) .. \" to deeply...",
          "executable": true
        },
        "1726": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, expected_type)",
          "executable": true
        },
        "1240": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not async_module or not async_module.is_in_...",
          "executable": true
        },
        "610": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "      if type(interface) ~= \"table\" then",
          "executable": true
        },
        "510": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "810": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"expected function to not change value a...",
          "executable": true
        },
        "1303": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not async_module.is_in_async_context() then",
          "executable": true
        },
        "340": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "--- @type table<string, table|function> Table of a...",
          "executable": false
        },
        "440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"a\",",
          "executable": true
        },
        "140": {
          "covered": true,
          "executed": true,
          "execution_count": 8,
          "line_type": "code",
          "content": "  visited[t] = true",
          "executable": true
        },
        "240": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(t1) == \"table\" and type(t2) == \"table\" t...",
          "executable": true
        },
        "1477": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          stringify(error_pattern) .. \" but got \" ...",
          "executable": true
        },
        "1310": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local error_value",
          "executable": true
        },
        "1292": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1652": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to not be tr...",
          "executable": true
        },
        "1316": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        result_value = ...",
          "executable": true
        },
        "1465": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not wait_result then",
          "executable": true
        },
        "1473": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1328": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      completed = true",
          "executable": true
        },
        "1394": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1192": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1952": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  })",
          "executable": true
        },
        "1416": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1573": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v)",
          "executable": true
        },
        "1428": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1494": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1564": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected table to not be empty\"",
          "executable": true
        },
        "1452": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not success then",
          "executable": true
        },
        "1916": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1665": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.be_approximately = {",
          "executable": true
        },
        "1928": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              negate = assertion.negate,",
          "executable": true
        },
        "1464": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If wait_until timed out",
          "executable": false
        },
        "1752": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1565": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1191": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"Expected a non-date string\"",
          "executable": true
        },
        "1764": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return not ok, \"expected function to throw an ...",
          "executable": true
        },
        "1073": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if minute and (minute < 0 or minute > 59) th...",
          "executable": true
        },
        "2073": {
          "covered": false,
          "executed": true,
          "execution_count": 20,
          "line_type": "comment",
          "content": "-- Dynamically added line 2073",
          "executable": false
        },
        "2065": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2065",
          "executable": false
        },
        "1065": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "316": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return false,",
          "executable": true
        },
        "216": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "516": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v)",
          "executable": true
        },
        "416": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"decrease\",",
          "executable": true
        },
        "716": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"expected \" .. stringify(v) .. \" to not ...",
          "executable": true
        },
        "616": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local actual = v[key]",
          "executable": true
        },
        "916": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.match_regex = {",
          "executable": true
        },
        "816": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return changed,",
          "executable": true
        },
        "116": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- and protection against cyclic references",
          "executable": false
        },
        "1039": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        v:match(\"^(%d%d%d%d)%-(%d%d)%-(%d%d)[Tt](%...",
          "executable": true
        },
        "2039": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2039",
          "executable": false
        },
        "1007": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1664": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1082": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to not be a vali...",
          "executable": true
        },
        "2007": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2007",
          "executable": false
        },
        "1173": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = compare_dates(v, expected_date)",
          "executable": true
        },
        "2054": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2054",
          "executable": false
        },
        "1054": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      year, month, day = tonumber(year), tonumber(...",
          "executable": true
        },
        "226": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param eps? number Epsilon for floating point c...",
          "executable": false
        },
        "326": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      seen[meta] = true",
          "executable": true
        },
        "426": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"resolve_with\",",
          "executable": true
        },
        "1765": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "626": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          msg = msg .. \"missing: \" .. table.concat...",
          "executable": true
        },
        "726": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. stringify(v) .. \" to not ha...",
          "executable": true
        },
        "826": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(fn, value_fn)",
          "executable": true
        },
        "926": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if options ~= nil and type(options) ~= \"table\"...",
          "executable": true
        },
        "126": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(t) == \"string\" then",
          "executable": true
        },
        "1094": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false,",
          "executable": true
        },
        "1382": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      async_fn(capture_result)",
          "executable": true
        },
        "1154": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1492": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"table\" then",
          "executable": true
        },
        "1516": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return v[x] ~= nil,",
          "executable": true
        },
        "1265": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1091": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1243": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1673": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    delta = delta or 0.0001",
          "executable": true
        },
        "1528": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(x) .. \" to be ...",
          "executable": true
        },
        "1239": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local async_module = package.loaded[\"lib.async...",
          "executable": true
        },
        "1194": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = compare_dates(v, expected_date)",
          "executable": true
        },
        "1254": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      completed = true",
          "executable": true
        },
        "1392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      async_module.wait_until(function() return co...",
          "executable": true
        },
        "1165": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.be_before = {",
          "executable": true
        },
        "1616": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1773": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local ok, err = pcall(v)",
          "executable": true
        },
        "169": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "269": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "369": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"have_property\",",
          "executable": true
        },
        "469": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to not be ...",
          "executable": true
        },
        "569": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected \" .. stringify(v) .. \" to ...",
          "executable": true
        },
        "669": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, expected_length)",
          "executable": true
        },
        "769": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1628": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "969": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Date validation",
          "executable": false
        },
        "1124": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    month, day, year = date_string:match(\"^(%d%d)/...",
          "executable": true
        },
        "1294": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"timeout must be a positive number\")",
          "executable": true
        },
        "1840": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field equal fun(expected: any): ExpectChain As...",
          "executable": false
        },
        "2051": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2051",
          "executable": false
        },
        "1051": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1940": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          else",
          "executable": true
        },
        "1780": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "1151": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "2082": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2082",
          "executable": false
        },
        "2081": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2081",
          "executable": false
        },
        "2079": {
          "covered": false,
          "executed": true,
          "execution_count": 20,
          "line_type": "comment",
          "content": "-- Dynamically added line 2079",
          "executable": false
        },
        "2078": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2078",
          "executable": false
        },
        "1139": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    year = tonumber(year),",
          "executable": true
        },
        "738": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(schema) ~= \"table\" then",
          "executable": true
        },
        "2076": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2076",
          "executable": false
        },
        "900": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \" but got \" .. tostring(after_value),",
          "executable": true
        },
        "2074": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2074",
          "executable": false
        },
        "2072": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2072",
          "executable": false
        },
        "366": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"implements\",",
          "executable": true
        },
        "104": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param t table The table to search in",
          "executable": false
        },
        "2067": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2067",
          "executable": false
        },
        "2063": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2063",
          "executable": false
        },
        "1092": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "2059": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2059",
          "executable": false
        },
        "874": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "2055": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2055",
          "executable": false
        },
        "2053": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2053",
          "executable": false
        },
        "2052": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2052",
          "executable": false
        },
        "1480": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "570": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1975": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1975",
          "executable": false
        },
        "529": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "902": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \" but it did decrease to \" .. tostring(aft...",
          "executable": true
        },
        "891": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Validate that the after value is numeric",
          "executable": false
        },
        "689": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(v) == \"string\" then",
          "executable": true
        },
        "195": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local differences = {}",
          "executable": true
        },
        "295": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "395": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"end_with\",",
          "executable": true
        },
        "495": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @return boolean, string, string result, su...",
          "executable": false
        },
        "595": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if type(v) ~= \"string\" then",
          "executable": true
        },
        "695": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "795": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "895": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "995": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to be a valid da...",
          "executable": true
        },
        "10": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field has_keys fun(tbl: table, keys: table): b...",
          "executable": false
        },
        "1111": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "35": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Enhanced type checking beyond Lua's basic ty...",
          "executable": false
        },
        "527": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v)",
          "executable": true
        },
        "1207": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.be_same_day_as = {",
          "executable": true
        },
        "427": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"reject\",",
          "executable": true
        },
        "227": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param visited? table Table to track visited ob...",
          "executable": false
        },
        "1875": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local assertion = {}",
          "executable": true
        },
        "1408": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \" but got \" .. stringify(result_value),",
          "executable": true
        },
        "321": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local meta = v",
          "executable": true
        },
        "829": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "825": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  increase = {",
          "executable": true
        },
        "91": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "61": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    _error_handler = success and error_handler or ...",
          "executable": true
        },
        "406": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_falsey\",",
          "executable": true
        },
        "506": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return v and true or false,",
          "executable": true
        },
        "206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          .. stringify(v, 0, visited)",
          "executable": true
        },
        "306": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param v any The value to check",
          "executable": false
        },
        "806": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if change_fn and type(change_fn) == \"functio...",
          "executable": true
        },
        "906": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Alias for equal with clearer name for deep co...",
          "executable": false
        },
        "1980": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1980",
          "executable": false
        },
        "706": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(v) ~= \"table\" then",
          "executable": true
        },
        "40": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    - Expectation negation through to_not chain",
          "executable": false
        },
        "729": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "1101": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        'expected \"' .. v .. '\" to not be a valid ...",
          "executable": true
        },
        "768": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local valid = #missing_props == 0 and #type_...",
          "executable": true
        },
        "2077": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2077",
          "executable": false
        },
        "106": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return boolean True if the value is found, fal...",
          "executable": false
        },
        "733": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, schema)",
          "executable": true
        },
        "337": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- ==========================================",
          "executable": false
        },
        "437": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "537": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, expected_type)",
          "executable": true
        },
        "1802": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local ok, err = pcall(v)",
          "executable": true
        },
        "725": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        (has_property and stringify(v[property_nam...",
          "executable": true
        },
        "237": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "333": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  error(\"invalid type \" .. tostring(x))",
          "executable": true
        },
        "233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Direct reference equality check for identical...",
          "executable": false
        },
        "1107": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil",
          "executable": true
        },
        "533": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  type = {",
          "executable": true
        },
        "1777": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.error_matching = {",
          "executable": true
        },
        "1451": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "241": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Create a string that uniquely identifies th...",
          "executable": false
        },
        "441": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"an\",",
          "executable": true
        },
        "187": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return string A string representation of the d...",
          "executable": false
        },
        "1873": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    assertion_count = M.assertion_count,",
          "executable": true
        },
        "387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"have\",",
          "executable": true
        },
        "1680": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.satisfy = {",
          "executable": true
        },
        "312": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to be a \" .....",
          "executable": true
        },
        "636": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return true, \"expected object to implement i...",
          "executable": true
        },
        "1865": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  ---@diagnostic disable-next-line: unused-local",
          "executable": false
        },
        "1440": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local function error_callback(err)",
          "executable": true
        },
        "20": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field register_assertion fun(name: string, fn:...",
          "executable": false
        },
        "336": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Assertion Path Definitions",
          "executable": false
        },
        "1757": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_type = true,",
          "executable": true
        },
        "355": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_less_than\",",
          "executable": true
        },
        "655": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      elseif type(v) == \"table\" then",
          "executable": true
        },
        "554": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "          -- For tables, generate a detailed diff",
          "executable": false
        },
        "1839": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field be.lowercase fun(): ExpectChain Assert s...",
          "executable": false
        },
        "1361": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1537": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"number\" then",
          "executable": true
        },
        "1807": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "351": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"start_with\",",
          "executable": true
        },
        "251": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "646": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"exactly\",",
          "executable": true
        },
        "1223": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1334": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"reject\",",
          "executable": true
        },
        "484": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(v) ~= \"number\" or type(x) ~= \"number...",
          "executable": true
        },
        "994": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false,",
          "executable": true
        },
        "1184": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "661": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Error for unsupported types",
          "executable": false
        },
        "687": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, expected_size)",
          "executable": true
        },
        "101": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "local logger = get_logger()",
          "executable": true
        },
        "1551": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v)",
          "executable": true
        },
        "179": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return \"{ \" .. table.concat(strings, \", \") .. ...",
          "executable": true
        },
        "131": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return tostring(t)",
          "executable": true
        },
        "54": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@diagnostic disable-next-line: unused-local",
          "executable": false
        },
        "1973": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1973",
          "executable": false
        },
        "1730": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to be call...",
          "executable": true
        },
        "449": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"less_than\",",
          "executable": true
        },
        "292": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  for k, v in pairs(t1) do",
          "executable": true
        },
        "1380": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, err = pcall(function()",
          "executable": true
        },
        "651": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local x_str = tostring(x)",
          "executable": true
        },
        "1540": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(x) ~= \"number\" then",
          "executable": true
        },
        "633": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1158": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if d1.month ~= d2.month then return d1.month - d...",
          "executable": true
        },
        "631": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          end",
          "executable": true
        },
        "629": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          if #missing_keys > 0 then",
          "executable": true
        },
        "143": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return \"{}\"",
          "executable": true
        },
        "602": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "624": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        local msg = \"expected object to implement ...",
          "executable": true
        },
        "159": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local hash_entries = {}",
          "executable": true
        },
        "1437": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1707": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "591": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "1964": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1964",
          "executable": false
        },
        "984": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if not year then",
          "executable": true
        },
        "1414": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(async_fn) ~= \"function\" then",
          "executable": true
        },
        "1084": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "462": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  at_least = {",
          "executable": true
        },
        "262": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if type(n1) == \"number\" and type(n2) == \"numbe...",
          "executable": true
        },
        "162": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      local key_str = type(k) == \"string\" and k or...",
          "executable": true
        },
        "605": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  implement_interface = {",
          "executable": true
        },
        "515": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @return boolean, string, string result, su...",
          "executable": false
        },
        "600": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        'expected \"' .. v .. '\" to match pattern \"...",
          "executable": true
        },
        "596": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "        v = tostring(v)",
          "executable": true
        },
        "200": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    elseif not M.eq(v1[k], v, 0) then",
          "executable": true
        },
        "300": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      return false",
          "executable": true
        },
        "1171": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1852": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field end_with fun(suffix: string): ExpectChai...",
          "executable": false
        },
        "2046": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2046",
          "executable": false
        },
        "1046": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1650": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return v and true or false,",
          "executable": true
        },
        "1376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "264": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        return math.abs(n1 - n2) <= (eps or 0)",
          "executable": true
        },
        "1251": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1640": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(min) ~= \"number\" or type(max) ~= \"numb...",
          "executable": true
        },
        "2058": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2058",
          "executable": false
        },
        "1256": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        result_value = ...",
          "executable": true
        },
        "1614": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"have_property\",",
          "executable": true
        },
        "491": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "1000": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      year, month, day = tonumber(year), tonumber(...",
          "executable": true
        },
        "565": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "365": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"is_instance_of\",",
          "executable": true
        },
        "1125": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    hour, minute, second = \"00\", \"00\", \"00\"",
          "executable": true
        },
        "1864": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function M.expect(v)",
          "executable": true
        },
        "389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be\",",
          "executable": true
        },
        "1069": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to be a valid IS...",
          "executable": true
        },
        "2069": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2069",
          "executable": false
        },
        "1737": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to be comp...",
          "executable": true
        },
        "141": {
          "covered": false,
          "executed": true,
          "execution_count": 8,
          "line_type": "comment",
          "content": "  -- Handle empty tables",
          "executable": false
        },
        "614": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local wrong_types = {}",
          "executable": true
        },
        "1577": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1453": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- The function itself threw an error (not a...",
          "executable": false
        },
        "1571": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Check if a number is positive",
          "executable": false
        },
        "430": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "194": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "864": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "564": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "1135": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return nil",
          "executable": true
        },
        "964": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected \"' .. v .. '\" to match regex patte...",
          "executable": true
        },
        "1146": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1580": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to not be po...",
          "executable": true
        },
        "1965": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1965",
          "executable": false
        },
        "1900": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            return { res = res, err = e, nerr = ne...",
          "executable": true
        },
        "1351": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(async_fn) ~= \"function\" then",
          "executable": true
        },
        "1033": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"expected \" .. stringify(v) .. \" to be a...",
          "executable": true
        },
        "1538": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "1740": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      local success = pcall(function()",
          "executable": true
        },
        "1253": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local function capture_result(...)",
          "executable": true
        },
        "1011": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1739": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "    elseif expected_type == \"iterable\" then",
          "executable": true
        },
        "1534": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1637": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"number\" then",
          "executable": true
        },
        "1400": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If wait_until timed out",
          "executable": false
        },
        "522": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1531": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to be greate...",
          "executable": true
        },
        "322": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    while meta and not seen[meta] do",
          "executable": true
        },
        "1522": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.be_greater_than = {",
          "executable": true
        },
        "244": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If we've seen this pair before, we're in a ...",
          "executable": false
        },
        "1169": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"Expected a date string, got \" .. type(v),",
          "executable": true
        },
        "344": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"have\",",
          "executable": true
        },
        "444": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"falsey\",",
          "executable": true
        },
        "420": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_iso_date\",",
          "executable": true
        },
        "465": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected both values to be numbers ...",
          "executable": true
        },
        "144": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "115": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "--- Enhanced stringify function with better format...",
          "executable": false
        },
        "1028": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- ISO date format validation",
          "executable": false
        },
        "1030": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v)",
          "executable": true
        },
        "854": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1031": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(v) ~= \"string\" then",
          "executable": true
        },
        "1242": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1600": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"number\" then",
          "executable": true
        },
        "1841": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field exist fun(): ExpectChain Assert value is...",
          "executable": false
        },
        "1825": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field negate boolean Whether the assertion is ...",
          "executable": false
        },
        "1396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if error_value then",
          "executable": true
        },
        "556": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "75": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@return table A logger instance (either real or...",
          "executable": false
        },
        "1454": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      rejected = true",
          "executable": true
        },
        "256": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if tostring(t1) == tostring(t2) then",
          "executable": true
        },
        "156": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1037": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Check for ISO 8601 format (YYYY-MM-DDTHH:...",
          "executable": false
        },
        "1330": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1038": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local year, month, day, hour, minute, second...",
          "executable": true
        },
        "551": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local comparison = \"\"",
          "executable": true
        },
        "856": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "756": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            table.insert(type_mismatches, prop_nam...",
          "executable": true
        },
        "1300": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Async assertions can only be used in ...",
          "executable": true
        },
        "956": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if next(options) then",
          "executable": true
        },
        "606": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    test = function(v, interface)",
          "executable": true
        },
        "1487": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1237": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "274": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return false",
          "executable": true
        },
        "1068": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false,",
          "executable": true
        },
        "1072": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1824": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field action string The current assertion acti...",
          "executable": false
        },
        "644": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"value\",",
          "executable": true
        },
        "944": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if multiline then",
          "executable": true
        },
        "1077": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1912": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        else",
          "executable": true
        },
        "1078": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1079": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if second and (second < 0 or second > 59) th...",
          "executable": true
        },
        "1377": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "581": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v)",
          "executable": true
        },
        "1081": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to be a valid IS...",
          "executable": true
        },
        "1725": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  iterable = true,",
          "executable": true
        },
        "1941": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "            -- Fallback without error_handler",
          "executable": false
        },
        "1711": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "1496": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(x) .. \" to be ...",
          "executable": true
        },
        "1373": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      completed = true",
          "executable": true
        },
        "1733": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local success = pcall(function()",
          "executable": true
        },
        "166": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      else",
          "executable": true
        },
        "266": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      if ok then",
          "executable": true
        },
        "1230": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.complete = {",
          "executable": true
        },
        "1086": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local days_in_month = {31, 28, 31, 30, 31, 3...",
          "executable": true
        },
        "1270": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1200": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "766": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "866": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  decrease = {",
          "executable": true
        },
        "966": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "648": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Simple implementation first",
          "executable": false
        },
        "1387": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      completed = true",
          "executable": true
        },
        "1357": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Check if we're in an async context",
          "executable": false
        },
        "700": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "224": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@param t1 any First value to compare",
          "executable": false
        },
        "946": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Replace with markers that accomplish this...",
          "executable": false
        },
        "1089": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if month == 2 and (year % 4 == 0 and (year %...",
          "executable": true
        },
        "1097": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1724": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  comparable = true,",
          "executable": true
        },
        "1098": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1812": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif type(err) == \"table\" then",
          "executable": true
        },
        "1099": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return true,",
          "executable": true
        },
        "1058": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1337": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if error_value then",
          "executable": true
        },
        "1800": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "934": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Apply case insensitivity by converting to l...",
          "executable": false
        },
        "834": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1196": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if result == nil then",
          "executable": true
        },
        "1641": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected min and max to be numbers\")",
          "executable": true
        },
        "176": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if multiline and depth == 0 then",
          "executable": true
        },
        "1956": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "M.paths = paths",
          "executable": true
        },
        "1833": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field be.falsy fun(): ExpectChain Assert value...",
          "executable": false
        },
        "676": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected a string or table for leng...",
          "executable": true
        },
        "576": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected table not to contain \" .. string...",
          "executable": true
        },
        "476": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "734": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(v) ~= \"table\" then",
          "executable": true
        },
        "546": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @param x any The expected value to compare...",
          "executable": false
        },
        "976": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          \"expected \" .. stringify(v) .. \" to not ...",
          "executable": true
        },
        "1130": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    day, month, year = date_string:match(\"^(%d%d)/...",
          "executable": true
        },
        "1284": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"async operation completed when it was expec...",
          "executable": true
        },
        "1103": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1035": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1108": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1110": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  local year, month, day, hour, minute, second",
          "executable": true
        },
        "1429": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1100": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        'expected \"' .. v .. '\" to be a valid ISO ...",
          "executable": true
        },
        "1287": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.complete_within = {",
          "executable": true
        },
        "45": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    @author Firmo Team",
          "executable": false
        },
        "538": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return type(v) == expected_type,",
          "executable": true
        },
        "638": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "456": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, x)",
          "executable": true
        },
        "1712": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "356": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_between\",",
          "executable": true
        },
        "656": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Handle table containment",
          "executable": false
        },
        "454": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"uppercase\",",
          "executable": true
        },
        "1533": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1062": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to be a valid IS...",
          "executable": true
        },
        "1500": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false,",
          "executable": true
        },
        "154": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1741": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        for _ in pairs(v) do",
          "executable": true
        },
        "1296": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1925": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              expected = select(1, ...),",
          "executable": true
        },
        "186": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param v2 any The second value to compare",
          "executable": false
        },
        "686": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  have_size = {",
          "executable": true
        },
        "786": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  change = {",
          "executable": true
        },
        "486": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1868": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- Track assertion count (for test quality metri...",
          "executable": false
        },
        "1070": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to not be a vali...",
          "executable": true
        },
        "1117": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not year then",
          "executable": true
        },
        "886": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"function being tested threw an erro...",
          "executable": true
        },
        "2030": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2030",
          "executable": false
        },
        "136": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return \"[Circular Reference]\"",
          "executable": true
        },
        "236": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "924": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "2070": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2070",
          "executable": false
        },
        "466": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1947": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            value = tostring(t.val),",
          "executable": true
        },
        "1529": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "948": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      compare_pattern = compare_pattern:gsub(\"%$\",...",
          "executable": true
        },
        "1123": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not year then",
          "executable": true
        },
        "1924": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local context = {",
          "executable": true
        },
        "120": {
          "covered": false,
          "executed": true,
          "execution_count": 20,
          "line_type": "comment",
          "content": "---@return string A string representation of the v...",
          "executable": false
        },
        "1128": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  -- If still no match, try DD/MM/YYYY format",
          "executable": false
        },
        "559": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "376": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_date\",",
          "executable": true
        },
        "1218": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not d1 or not d2 then",
          "executable": true
        },
        "776": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1612": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "  test = function(v)",
          "executable": true
        },
        "1633": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "876": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local before_value = value_fn()",
          "executable": true
        },
        "1006": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to not be a vali...",
          "executable": true
        },
        "1142": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    hour = hour and tonumber(hour) or 0,",
          "executable": true
        },
        "1756": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  error_matching = true,",
          "executable": true
        },
        "1425": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1147": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Helper function to compare dates",
          "executable": false
        },
        "621": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "986": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        month, day, year = v:match(\"^(%d%d)/(%d%d)...",
          "executable": true
        },
        "1968": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1968",
          "executable": false
        },
        "1510": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Check if a table contains a specific key",
          "executable": false
        },
        "1187": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, expected_date)",
          "executable": true
        },
        "1211": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"Expected a date string, got \" .. type(v),",
          "executable": true
        },
        "1040": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "566": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  have = {",
          "executable": true
        },
        "1087": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1203": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected \"' .. v .. '\" to be after \"' .. ex...",
          "executable": true
        },
        "1611": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "paths.uppercase = {",
          "executable": true
        },
        "1185": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1847": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field be_type fun(type: string): ExpectChain A...",
          "executable": false
        },
        "1424": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1181": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result < 0,",
          "executable": true
        },
        "1629": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "298": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  for k, v in pairs(t2) do",
          "executable": true
        },
        "398": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_less_than\",",
          "executable": true
        },
        "534": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @param v any The value to check the type o...",
          "executable": false
        },
        "1679": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Satisfy assertion for custom predicates",
          "executable": false
        },
        "434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  falsey = {",
          "executable": true
        },
        "1177": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        'expected \"' .. v .. '\" and \"' .. expected...",
          "executable": true
        },
        "1179": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1118": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    year, month, day = date_string:match(\"^(%d%d%d...",
          "executable": true
        },
        "1700": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(x) ~= \"string\" then",
          "executable": true
        },
        "1512": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, x)",
          "executable": true
        },
        "1333": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      async_module.wait_until(function() return co...",
          "executable": true
        },
        "1999": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 1999",
          "executable": false
        },
        "1208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, expected_date)",
          "executable": true
        },
        "1748": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    else",
          "executable": true
        },
        "1856": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field throw.error_type fun(type: string): Expe...",
          "executable": false
        },
        "1325": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1598": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.integer = {",
          "executable": true
        },
        "1668": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "586": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, pattern)",
          "executable": true
        },
        "386": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  to_not = {",
          "executable": true
        },
        "286": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "858": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected function to increase value from ...",
          "executable": true
        },
        "869": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected a function to execute, got...",
          "executable": true
        },
        "1648": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.be_truthy = {",
          "executable": true
        },
        "90": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      print(\"[INFO] \" .. msg)",
          "executable": true
        },
        "1032": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false, ",
          "executable": true
        },
        "1096": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to not be a vali...",
          "executable": true
        },
        "415": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"increase\",",
          "executable": true
        },
        "1324": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "1811": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_type = \"string\"",
          "executable": true
        },
        "276": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- For numbers, do epsilon comparison",
          "executable": false
        },
        "1747": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to not be ...",
          "executable": true
        },
        "811": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "711": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1779": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"function\" then",
          "executable": true
        },
        "1257": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "392": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"match\",",
          "executable": true
        },
        "168": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "637": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "1299": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not async_module or not async_module.is_in_...",
          "executable": true
        },
        "666": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1206": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1412": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.reject = {",
          "executable": true
        },
        "1433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1625": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v)",
          "executable": true
        },
        "536": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @return boolean, string, string result, su...",
          "executable": false
        },
        "436": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return not v, \"expected \" .. tostring(v) .. ...",
          "executable": true
        },
        "1681": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, predicate)",
          "executable": true
        },
        "1768": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v)",
          "executable": true
        },
        "1880": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    __index = function(t, k)",
          "executable": true
        },
        "838": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(before_value) ~= \"number\" then",
          "executable": true
        },
        "158": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "  -- Format hash part next",
          "executable": false
        },
        "458": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" and \" .. t...",
          "executable": true
        },
        "1059": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Validate date components",
          "executable": false
        },
        "1281": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If wait_until timed out, wait_result will b...",
          "executable": false
        },
        "1549": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Check if a value is empty (string, table)",
          "executable": false
        },
        "11": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field contains fun(tbl: table, value: any): bo...",
          "executable": false
        },
        "936": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local compare_pattern = pattern",
          "executable": true
        },
        "836": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "736": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "968": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "318": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to not be ...",
          "executable": true
        },
        "1647": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1624": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.lowercase = {",
          "executable": true
        },
        "1235": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1879": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  setmetatable(assertion, {",
          "executable": true
        },
        "249": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Mark this pair as visited",
          "executable": false
        },
        "1291": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1295": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1102": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1314": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      completed = true",
          "executable": true
        },
        "379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_after\",",
          "executable": true
        },
        "1318": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1178": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        'expected \"' .. v .. '\" and \"' .. expected...",
          "executable": true
        },
        "1327": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_value = err",
          "executable": true
        },
        "1312": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Function to capture the result",
          "executable": false
        },
        "1656": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v)",
          "executable": true
        },
        "1525": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "346": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be\",",
          "executable": true
        },
        "446": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"type\",",
          "executable": true
        },
        "146": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  local strings = {}",
          "executable": true
        },
        "246": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return true -- Assume equality for cyclic st...",
          "executable": true
        },
        "1340": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1343": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If wait_until timed out, wait_result will b...",
          "executable": false
        },
        "1727": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if expected_type == \"callable\" then",
          "executable": true
        },
        "362": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_falsy\",",
          "executable": true
        },
        "1349": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.resolve_with = {",
          "executable": true
        },
        "512": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- Test if a value is falsy",
          "executable": false
        },
        "1468": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1353": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "746": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      for prop_name, prop_def in pairs(schema) do",
          "executable": true
        },
        "846": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "2006": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2006",
          "executable": false
        },
        "762": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            table.insert(value_mismatches, prop_na...",
          "executable": true
        },
        "1524": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"number\" then",
          "executable": true
        },
        "1365": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1979": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Dynamically added line 1979",
          "executable": false
        },
        "1369": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local error_value",
          "executable": true
        },
        "1547": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1371": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Function to capture the result",
          "executable": false
        },
        "2025": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2025",
          "executable": false
        },
        "1374": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if select('#', ...) > 0 then",
          "executable": true
        },
        "1375": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        result_value = ...",
          "executable": true
        },
        "1025": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        'expected \"' .. v .. '\" to not be a valid ...",
          "executable": true
        },
        "1233": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Expected a promise, got \" .. type(asy...",
          "executable": true
        },
        "1610": {
          "covered": false,
          "executed": true,
          "execution_count": 2,
          "line_type": "comment",
          "content": "-- Check if a string is all uppercase",
          "executable": false
        },
        "728": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "528": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return v == nil, \"expected \" .. tostring(v) ...",
          "executable": true
        },
        "310": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  if type(x) == \"string\" then",
          "executable": true
        },
        "1481": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1356": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1389": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1391": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local wait_result = pcall(function()",
          "executable": true
        },
        "1397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(error_value)",
          "executable": true
        },
        "385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "285": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        },
        "1418": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    timeout = timeout or 1000 -- Default 1 second ...",
          "executable": true
        },
        "1413": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(async_fn, error_pattern, timeout...",
          "executable": true
        },
        "749": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          table.insert(missing_props, prop_name)",
          "executable": true
        },
        "1189": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false, ",
          "executable": true
        },
        "1426": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not async_module.is_in_async_context() then",
          "executable": true
        },
        "1568": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1430": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local completed = false",
          "executable": true
        },
        "1431": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local rejected = false",
          "executable": true
        },
        "1279": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1143": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    minute = minute and tonumber(minute) or 0,",
          "executable": true
        },
        "1434": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Function to capture success",
          "executable": false
        },
        "1436": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      completed = true",
          "executable": true
        },
        "1438": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "499": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "1443": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error_message = err",
          "executable": true
        },
        "1447": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local success, err = pcall(function()",
          "executable": true
        },
        "1446": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Start the async operation",
          "executable": false
        },
        "1014": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        days_in_month[2] = 29",
          "executable": true
        },
        "1449": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      async_fn(success_callback, error_callback)",
          "executable": true
        },
        "1410": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1106": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if type(date_string) ~= \"string\" then",
          "executable": true
        },
        "1463": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "2014": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2014",
          "executable": false
        },
        "1458": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "259": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "    -- Try number comparison if possible",
          "executable": false
        },
        "1456": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      completed = true",
          "executable": true
        },
        "1581": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1469": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- If error pattern is provided, check that th...",
          "executable": false
        },
        "1470": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if error_pattern and rejected then",
          "executable": true
        },
        "1471": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local matches_pattern = type(error_message) ...",
          "executable": true
        },
        "1475": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false, ",
          "executable": true
        },
        "1047": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if not (year and month and day) then",
          "executable": true
        },
        "1450": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "1491": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, x)",
          "executable": true
        },
        "422": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_after\",",
          "executable": true
        },
        "1507": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. stringify(v) .. \" to not cont...",
          "executable": true
        },
        "1152": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  if not d1 or not d2 then",
          "executable": true
        },
        "1511": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.key = {",
          "executable": true
        },
        "1268": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      completed = true",
          "executable": true
        },
        "1514": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "911": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. stringify(v) .. \" to not de...",
          "executable": true
        },
        "1379": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Start the async operation",
          "executable": false
        },
        "1523": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, x)",
          "executable": true
        },
        "1530": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return v > x,",
          "executable": true
        },
        "1347": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1182": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected \"' .. v .. '\" to be before \"' .. e...",
          "executable": true
        },
        "1992": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 1992",
          "executable": false
        },
        "1220": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        'expected \"' .. v .. '\" and \"' .. expected...",
          "executable": true
        },
        "1018": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return false,",
          "executable": true
        },
        "1225": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected \"' .. v .. '\" to be the same day a...",
          "executable": true
        },
        "1114": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    date_string:match(\"^(%d%d%d%d)%-(%d%d)%-(%d%d)...",
          "executable": true
        },
        "1162": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  return d1.second - d2.second",
          "executable": true
        },
        "1385": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not success then",
          "executable": true
        },
        "2033": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2033",
          "executable": false
        },
        "2011": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2011",
          "executable": false
        },
        "2018": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2018",
          "executable": false
        },
        "1370": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1197": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false,",
          "executable": true
        },
        "55": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local _error_handler, _logging, _firmo",
          "executable": true
        },
        "1283": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"async operation did not complete within \" ....",
          "executable": true
        },
        "1550": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.empty = {",
          "executable": true
        },
        "1378": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1552": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) == \"string\" then",
          "executable": true
        },
        "1553": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return v == \"\",",
          "executable": true
        },
        "1554": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        'expected string \"' .. v .. '\" to be empty...",
          "executable": true
        },
        "1555": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        'expected string to not be empty'",
          "executable": true
        },
        "1556": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    elseif type(v) == \"table\" then",
          "executable": true
        },
        "1559": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        (function() ",
          "executable": true
        },
        "859": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \" but got \" .. tostring(after_value),",
          "executable": true
        },
        "1569": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1570": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1368": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result_value",
          "executable": true
        },
        "1264": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "222": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "1479": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "2042": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2042",
          "executable": false
        },
        "526": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    --- @return boolean, string, string result, su...",
          "executable": false
        },
        "1247": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1589": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "704": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  have_property = {",
          "executable": true
        },
        "2000": {
          "covered": false,
          "executed": true,
          "execution_count": 20,
          "line_type": "comment",
          "content": "-- Dynamically added line 2000",
          "executable": false
        },
        "1594": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "185": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "---@param v1 any The first value to compare",
          "executable": false
        },
        "1214": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1042": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if not year then",
          "executable": true
        },
        "1601": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "1602": {
          "covered": true,
          "executed": true,
          "execution_count": 2,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1607": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Start the async function and pass the cap...",
          "executable": false
        },
        "1140": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    month = tonumber(month),",
          "executable": true
        },
        "1383": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end)",
          "executable": true
        },
        "2035": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 2035",
          "executable": false
        },
        "481": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  },",
          "executable": true
        },
        "1622": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1623": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Check if a string is all lowercase",
          "executable": false
        },
        "622": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1631": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected string \"' .. v .. '\" to be lowerca...",
          "executable": true
        },
        "608": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        return false, \"expected \" .. tostring(v) ....",
          "executable": true
        },
        "208": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          .. stringify(v1[k], 0, visited)",
          "executable": true
        },
        "1634": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1635": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "paths.be_between = {",
          "executable": true
        },
        "1638": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "1643": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return v >= min and v <= max,",
          "executable": true
        },
        "1228": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1649": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v)",
          "executable": true
        },
        "1364": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"Async assertions can only be used in ...",
          "executable": true
        },
        "1657": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return not v, \"expected \" .. tostring(v) .. \" ...",
          "executable": true
        },
        "1579": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to be positi...",
          "executable": true
        },
        "1667": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"number\" then",
          "executable": true
        },
        "1669": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1671": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(x) .. \" to be ...",
          "executable": true
        },
        "1674": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return math.abs(v - x) <= delta,",
          "executable": true
        },
        "1677": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1716": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return v:sub(-#x) == x,",
          "executable": true
        },
        "1683": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected predicate to be a function, ...",
          "executable": true
        },
        "791": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "1689": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result,",
          "executable": true
        },
        "625": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if #missing_keys > 0 then",
          "executable": true
        },
        "1694": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- String assertions",
          "executable": false
        },
        "421": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_before\",",
          "executable": true
        },
        "1172": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1796": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1881": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if has(paths[rawget(t, \"action\")], k) then",
          "executable": true
        },
        "1063": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to not be a vali...",
          "executable": true
        },
        "1706": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1642": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1710": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"string\" then",
          "executable": true
        },
        "1175": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if result == nil then",
          "executable": true
        },
        "710": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local has_property = v[property_name] ~= nil",
          "executable": true
        },
        "793": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected a function that returns va...",
          "executable": true
        },
        "122": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  depth = depth or 0",
          "executable": true
        },
        "892": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(after_value) ~= \"number\" then",
          "executable": true
        },
        "1692": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1717": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      'expected \"' .. v .. '\" to end with \"' .. x ...",
          "executable": true
        },
        "199": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "      table.insert(differences, \"Missing key: \" .....",
          "executable": true
        },
        "130": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  elseif type(t) ~= \"table\" or (getmetatable(t) an...",
          "executable": true
        },
        "599": {
          "covered": true,
          "executed": true,
          "execution_count": 4,
          "line_type": "code",
          "content": "      return result,",
          "executable": true
        },
        "540": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to not be ...",
          "executable": true
        },
        "583": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "492": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "  --- Test if a value exists (is not nil)",
          "executable": false
        },
        "1728": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local is_callable = type(v) == \"function\" or...",
          "executable": true
        },
        "489": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"expected \" .. tostring(v) .. \" to not be ...",
          "executable": true
        },
        "1887": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return t",
          "executable": true
        },
        "381": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"complete\",",
          "executable": true
        },
        "1816": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "482": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  less_than = {",
          "executable": true
        },
        "520": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end,",
          "executable": true
        },
        "1273": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      async_module.wait_until(function() return co...",
          "executable": true
        },
        "1734": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        return v < v",
          "executable": true
        },
        "1735": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end)",
          "executable": true
        },
        "881": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "662": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"cannot check containment in a \" .. ...",
          "executable": true
        },
        "1896": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        if error_handler then",
          "executable": true
        },
        "1981": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 1981",
          "executable": false
        },
        "961": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "953": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1012": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Adjust February for leap years",
          "executable": false
        },
        "1311": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1075": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "          'expected \"' .. v .. '\" to be a valid IS...",
          "executable": true
        },
        "2075": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 2075",
          "executable": false
        },
        "759": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "        -- Handle exact value schema (e.g., {statu...",
          "executable": false
        },
        "500": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "243": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1749": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"unknown type check: \" .. tostring(exp...",
          "executable": true
        },
        "1750": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1592": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      \"expected \" .. tostring(v) .. \" to be negati...",
          "executable": true
        },
        "1751": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "649": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(v) == \"string\" then",
          "executable": true
        },
        "1053": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Convert to numbers",
          "executable": false
        },
        "630": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            msg = msg .. \"; \"",
          "executable": true
        },
        "1010": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local days_in_month = {31, 28, 31, 30, 31, 3...",
          "executable": true
        },
        "579": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  fail = {",
          "executable": true
        },
        "831": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if type(value_fn) ~= \"function\" then",
          "executable": true
        },
        "1828": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field a fun(type: string): ExpectChain Assert ...",
          "executable": false
        },
        "1043": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        year, month, day = v:match(\"^(%d%d%d%d)%-(...",
          "executable": true
        },
        "1787": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return false,",
          "executable": true
        },
        "765": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end",
          "executable": true
        },
        "1763": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local ok, err = pcall(v)",
          "executable": true
        },
        "1769": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"function\" then",
          "executable": true
        },
        "497": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return v ~= nil, \"expected \" .. tostring(v) ...",
          "executable": true
        },
        "797": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      local success, result = pcall(fn)",
          "executable": true
        },
        "197": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  for k, v in pairs(v2) do",
          "executable": true
        },
        "397": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_greater_than\",",
          "executable": true
        },
        "951": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    -- Perform the match",
          "executable": false
        },
        "1774": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return not ok, \"expected function to throw an ...",
          "executable": true
        },
        "1775": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "712": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- If we're just checking for property exist...",
          "executable": false
        },
        "1596": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "  ",
          "executable": false
        },
        "1411": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "741": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "433": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  an = { test = M.isa },",
          "executable": true
        },
        "1783": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected pattern to be a string\")",
          "executable": true
        },
        "1527": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(x) ~= \"number\" then",
          "executable": true
        },
        "1795": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1498": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    for _, key in ipairs(x) do",
          "executable": true
        },
        "1170": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        \"Expected a non-date string\"",
          "executable": true
        },
        "1384": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "1810": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(err) == \"string\" then",
          "executable": true
        },
        "1817": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return error_type == expected_type,",
          "executable": true
        },
        "247": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "447": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"at_least\",",
          "executable": true
        },
        "945": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- In multiline mode, ^ and $ match the star...",
          "executable": false
        },
        "1278": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(error_value)",
          "executable": true
        },
        "1826": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field to ExpectChain Reference to self for cha...",
          "executable": false
        },
        "1687": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"predicate function failed with error:...",
          "executable": true
        },
        "1497": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "735": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        error(\"expected a table for schema validat...",
          "executable": true
        },
        "1269": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "967": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "}",
          "executable": true
        },
        "1835": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field be.positive fun(): ExpectChain Assert va...",
          "executable": false
        },
        "567": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    test = function(v, x)",
          "executable": true
        },
        "925": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "    ",
          "executable": false
        },
        "517": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      return not v and true or false,",
          "executable": true
        },
        "12": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field contains_all fun(tbl: table, values: tab...",
          "executable": false
        },
        "1848": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field be_greater_than fun(value: number): Expe...",
          "executable": false
        },
        "1850": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@field be_between fun(min: number, max: number)...",
          "executable": false
        },
        "62": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "1363": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if not async_module.is_in_async_context() then",
          "executable": true
        },
        "1696": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "  test = function(v, x)",
          "executable": true
        },
        "1781": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "696": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "blank",
          "content": "      ",
          "executable": false
        },
        "296": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "  end",
          "executable": true
        },
        "396": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    \"be_type\",",
          "executable": true
        },
        "1933": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              error_handler.SEVERITY.ERROR,",
          "executable": true
        },
        "26": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "    ",
          "executable": false
        },
        "1906": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            logger.error(\"Error in assertion test ...",
          "executable": true
        },
        "1698": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      error(\"expected \" .. tostring(v) .. \" to be ...",
          "executable": true
        },
        "57": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "---@return table|nil The error handler module or n...",
          "executable": false
        },
        "1926": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "              actual = t.val,",
          "executable": true
        },
        "1930": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            local error_obj = error_handler.create...",
          "executable": true
        },
        "1935": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "            )",
          "executable": true
        },
        "1950": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      end",
          "executable": true
        },
        "1563": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "        end)() .. \" elements\",",
          "executable": true
        },
        "713": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      if expected_value == nil then",
          "executable": true
        },
        "1329": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "1442": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "      rejected = true",
          "executable": true
        },
        "1002": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "      -- Basic validation of date components",
          "executable": false
        },
        "1587": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    if type(v) ~= \"number\" then",
          "executable": true
        },
        "1987": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 1987",
          "executable": false
        },
        "1996": {
          "covered": false,
          "executed": true,
          "execution_count": 10,
          "line_type": "comment",
          "content": "-- Dynamically added line 1996",
          "executable": false
        }
      },
      "line_coverage_percent": 12,
      "covered_lines": 188,
      "executed_lines": 188,
      "executed_functions": 17,
      "covered_functions": 17,
      "name": "assertion.lua",
      "function_coverage_percent": 100,
      "path": "./lib/assertion.lua"
    },
    "./lib/samples/calculator.lua": {
      "execution_coverage_percent": 71,
      "functions": {
        "subtract:11-14": {
          "covered": true,
          "executed": true,
          "start_line": 11,
          "execution_count": 1,
          "name": "subtract",
          "type": "closure",
          "end_line": 14
        },
        "add:6-9": {
          "covered": true,
          "executed": true,
          "start_line": 6,
          "execution_count": 1,
          "name": "add",
          "type": "closure",
          "end_line": 9
        },
        "divide:21-27": {
          "covered": true,
          "executed": true,
          "start_line": 21,
          "execution_count": 1,
          "name": "divide",
          "type": "closure",
          "end_line": 27
        },
        "multiply:16-19": {
          "covered": true,
          "executed": true,
          "start_line": 16,
          "execution_count": 1,
          "name": "multiply",
          "type": "closure",
          "end_line": 19
        }
      },
      "total_lines": 26,
      "executable_lines": 21,
      "total_functions": 4,
      "lines": {
        "16": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function calculator.divide(a, b)",
          "executable": true
        },
        "15": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "18": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "        error(\"Division by zero\")",
          "executable": true
        },
        "17": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    if b == 0 then",
          "executable": true
        },
        "10": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        },
        "20": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = a / b",
          "executable": true
        },
        "19": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    end",
          "executable": true
        },
        "11": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "12": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function calculator.multiply(a, b)",
          "executable": true
        },
        "13": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local result = a * b",
          "executable": true
        },
        "14": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        },
        "9": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    local result = a - b",
          "executable": true
        },
        "26": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 26",
          "executable": false
        },
        "25": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 25",
          "executable": false
        },
        "5": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "    local result = a + b",
          "executable": true
        },
        "6": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        },
        "7": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "8": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "function calculator.subtract(a, b)",
          "executable": true
        },
        "1": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Simple Calculator Module",
          "executable": false
        },
        "2": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "comment",
          "content": "-- Used for testing coverage functionality",
          "executable": false
        },
        "3": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "local calculator = {}",
          "executable": true
        },
        "4": {
          "covered": false,
          "executed": false,
          "execution_count": 0,
          "line_type": "code",
          "content": "function calculator.add(a, b)",
          "executable": true
        },
        "24": {
          "covered": false,
          "executed": true,
          "execution_count": 1,
          "line_type": "comment",
          "content": "-- Dynamically added line 24",
          "executable": false
        },
        "23": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "return calculator",
          "executable": true
        },
        "22": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "end",
          "executable": true
        },
        "21": {
          "covered": true,
          "executed": true,
          "execution_count": 1,
          "line_type": "code",
          "content": "    return result",
          "executable": true
        }
      },
      "line_coverage_percent": 71,
      "covered_lines": 15,
      "executed_lines": 15,
      "executed_functions": 4,
      "covered_functions": 4,
      "name": "calculator.lua",
      "function_coverage_percent": 100,
      "path": "./lib/samples/calculator.lua"
    }
  },
  "summary": {
    "execution_coverage_percent": 14,
    "covered_files": 13,
    "total_lines": 14280,
    "executed_files": 13,
    "executable_lines": 8387,
    "file_coverage_percent": 92,
    "covered_lines": 1223,
    "total_files": 14,
    "executed_functions": 58,
    "executed_lines": 1223,
    "overall_coverage_percent": 39,
    "covered_functions": 58,
    "total_functions": 58,
    "function_coverage_percent": 100,
    "line_coverage_percent": 14
  }
}