# reports/ Knowledge

## Purpose

The `reports/` directory, located at the root of the Firmo project, serves as the **default output location** for various report files generated when running Firmo tests with specific reporting options enabled (e.g., `--coverage`, `--quality`, `--report-format junit`). This includes test execution summaries, code coverage analysis reports, and test quality metrics.

## Key Concepts

- **Default Output Directory:** Firmo's reporting, coverage, and quality modules are configured to save their output files within this `reports/` directory by default. If you run `lua firmo.lua --coverage --report`, you will typically find the coverage report files inside `reports/coverage/`.
- **`.gitignore`:** This directory contains generated artifacts that change frequently and are usually specific to a particular test run. Therefore, it is standard practice and highly recommended to add `/reports/` to the project's `.gitignore` file to prevent these generated files from being accidentally committed to version control.
- **Configurability:** While `reports/` is the default, the exact output directory and filenames for different report types can be customized in the project's Firmo configuration file (`.firmo-config.lua`). Settings under the `reporting`, `coverage.report`, and `quality.report` sections control where files are saved. If reports are not appearing here, check the configuration.
- **Subdirectories:** Specific report formatters often create their own subdirectories within `reports/` to keep output organized. Common examples include `reports/coverage/` (for various coverage formats like HTML, JSON, LCOV) or `reports/junit/` (for JUnit XML test results).

## Usage Examples / Patterns

After running Firmo with reporting enabled, you might find files like these within the `reports/` directory (paths relative to project root):

```
# Example files that might be generated:
reports/coverage/index.html       # HTML coverage report entry point
reports/coverage/coverage.json    # Coverage data in JSON format
reports/coverage/lcov.info        # Coverage data in LCOV format
reports/junit/results.xml         # Test results in JUnit XML format
reports/quality/report.txt        # Test quality analysis summary
# etc... depending on configuration
```
*(These files are generated by Firmo, not manually created.)*

## Related Components / Modules

- **`lib/reporting/knowledge.md`**: The core module that orchestrates the generation of various reports based on configuration.
- **`lib/coverage/knowledge.md`**: The module responsible for collecting coverage data and generating coverage-specific reports (HTML, JSON, LCOV, Cobertura, etc.).
- **`lib/quality/knowledge.md`**: The module responsible for analyzing test quality and generating quality reports.
- **`lib/core/central_config/knowledge.md`**: Explains how Firmo's configuration system works, including how to customize report output paths.
- **`.gitignore`** (Project Root File): Should contain an entry for `/reports/` to exclude generated files from version control.

## Best Practices / Critical Rules (Optional)

- **Add `/reports/` to `.gitignore`:** This is the most critical rule associated with this directory to keep the version control history clean.
- **Check Configuration for Custom Paths:** If you expect reports but don't find them here, the first step is to check your `.firmo-config.lua` (or other loaded configuration) for custom `output_dir` or specific file path settings within the `reporting`, `coverage`, or `quality` sections.

## Troubleshooting / Common Pitfalls (Optional)

- **Reports Not Found in `reports/`:**
    - **Cause:** The output directory or specific file paths have likely been overridden in the Firmo configuration (`.firmo-config.lua`).
    - **Solution:** Examine the `reporting`, `coverage.report`, and `quality.report` sections of your active Firmo configuration to find the actual configured output locations.
- **Permission Errors:**
    - **Symptom:** Firmo runs but reports errors related to writing files, or report files are missing/incomplete.
    - **Cause:** The user or process running Firmo lacks the necessary write permissions for the `reports/` directory or its subdirectories.
    - **Solution:** Ensure the `reports/` directory exists (Firmo might create it, but permissions could still be an issue) and that the running process has permission to write files and create subdirectories within it. Check console output or logs for specific error messages.
